(window.webpackJsonpvisualization=window.webpackJsonpvisualization||[]).push([[0],{231:function(t,e,a){},363:function(t,e,a){},372:function(t,e,a){},391:function(t,e,a){t.exports=a(881)},396:function(t,e,a){},704:function(t,e,a){},829:function(t,e,a){},830:function(t,e,a){},833:function(t,e,a){},881:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(9),r=a.n(s);a(396),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(386),o=a(94),c=a(78),h=a(15),d=a(16),u=a(19),m=a(17),f=a(20),p=a(884),g=a(31),y=a(110),v=a(29),b=a(25),_=a.n(b),S=(a(45),a(46),a(42)),k=(a(231),a(152)),D=a(885),M=a(4),w=a.n(M);a(704);function E(t){var e=t.children,a=Object(n.useRef)();return Object(n.useEffect)((function(){var t=a.current;if(null!=t){var e=function(t){return t.preventDefault()};return t.addEventListener("wheel",e,{passive:!1}),function(){return t.removeEventListener("wheel",e)}}})),i.a.createElement("div",{ref:a},e)}var O=k.a.Option,x={center:[100.7395539,13.6983666],zoom:9,altitudeScale:3.28,baseLayer:new S.a("base",{urlTemplate:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"],attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>'})},C=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).getOption=function(){return{maptalks3D:x,series:[{type:"scatter3D",coordinateSystem:"maptalks3D",itemStyle:{color:"rgb(50, 50, 150)",opacity:1},data:a.state.scatter,symbolSize:1,label:{show:!0,formatter:function(t){return t[3]},position:"insideTop"}},{type:"lines3D",coordinateSystem:"maptalks3D",effect:{show:!0,constantSpeed:40,trailWidth:2,trailLength:.05,trailOpacity:1},polyline:!0,lineStyle:{width:2,color:"rgb(50, 60, 170)",opacity:.5},data:a.state.data}]}},a.state={data:[],checkedList:[],list:[],scatter:[]},a.flight=t.data,a.check=t.name,a.what=t.what,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){"Flight no"===this.what&&this.getData(this.flight)}},{key:"onhandleChange",value:function(t,e){var a=[],n=[];this.setState({checkedList:t});for(var i=0;i<t.length;i++)for(var s=0;s<e.length;s++)if(e[s].name===t[i]){var r=Math.floor(e[s].coords.length/2);a.push(e[s]),n.push([e[s].coords[r][0],e[s].coords[r][1],e[s].coords[r][2],e[s].name])}this.setState({data:a,scatter:n})}},{key:"getData",value:function(t){this.setState({data:t})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,"Date"===this.what?i.a.createElement(k.a,{mode:"multiple",style:{width:"50%",marginBottom:"2%"},placeholder:"Please select flight",value:this.state.checkedList,onChange:function(t){return e.onhandleChange(t,e.flight)}},this.check.map((function(t){return i.a.createElement(O,{style:{fontSize:"1rem"},key:t},t)}))):null,i.a.createElement(E,null,i.a.createElement(_.a,{option:this.getOption(),style:{width:"100%",height:800,border:"1px solid lightgray"}})))}}]),e}(i.a.Component),j=k.a.Option,Y=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.state={arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",week:""}],distinct_date:[],distinct_time:[],select_date:!1,date_time:[],date_name:[],time_name:[],time_flight:[],check_data:!1,time_default:"Select Time",date_default:"Select Date",type_default:"Select Section",turn_default:"Select Turn Direction",type:["Departure","Arrival"],real:[],click:!1,checkbox:[],what_select:"Date",last:null},a.data=t.data,a.check=t.check,a.date=t.date,a.offsetScrollingRef=i.a.createRef(),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"Date_onhandleChange",value:function(t,e){var a=[],n=[];this.setState({date_default:t,click:!1});for(var i=0;i<e.length;i++)if(0,0,e[i].date===String(t)){a.push(e[i]);var s=e[i].coords.length-1;this.distance(13.6902099,100.7449953,e[i].coords[0][1],e[i].coords[0][0],"N")<this.distance(13.6902099,100.7449953,e[i].coords[s][1],e[i].coords[s][0],"N")?n.push(e[i].time_1.getHours()):n.push(e[i].time_2.getHours())}var r=Object(v.a)(new Set(n)).sort((function(t,e){return t-e}));this.setState({distinct_time:r,date_name:a,time_default:"Select Time",type_default:"Select Section"})}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});for(var a=[],n=0;n<e.length;n++)e[n].time_1.getHours()!==parseInt(t)&&e[n].time_2.getHours()!==parseInt(t)||a.push(e[n]);this.setState({time_flight:a,type_default:"Select Section"})}},{key:"Type_onhandleChange",value:function(t,e){var a=this.state.type_default;this.setState({type_default:t,click:!1,last:a});for(var n=[],i=[],s=[],r=[],l=[],o=[],c=0;c<e.length;c++){0,0;var h=e[c].coords.length-1;this.distance(13.6902099,100.7449953,e[c].coords[0][1],e[c].coords[0][0],"N")<this.distance(13.6902099,100.7449953,e[c].coords[h][1],e[c].coords[h][0],"N")?(s.push(e[c]),l.push(e[c].name)):(r.push(e[c]),o.push(e[c].name))}"Departure"===t?(n=s,i=l):(n=r,i=o),this.setState({real:n,checkbox:i})}},{key:"componentDidUpdate",value:function(t,e,a){var n=this.state.click;if(e.click!=n&&n){var i=this.offsetScrollingRef.current;i&&i.scrollIntoView({behavior:"smooth"})}}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Date"},i.a.createElement(k.a,{placeholder:"Select Date",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.date_default,onChange:function(t){return e.Date_onhandleChange(t,e.data)}},this.date.map((function(t){return i.a.createElement(j,{style:{fontSize:"1rem"},key:t},t)})))),"Select Date"!==this.state.date_default?i.a.createElement(D.a.Item,{label:"Time"},i.a.createElement(k.a,{placeholder:"Select Time",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.state.date_name)}},this.state.distinct_time.map((function(t){return i.a.createElement(j,{style:{fontSize:"1rem"},key:t},t,".00 - ",t,".59")})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default?i.a.createElement(D.a.Item,{label:"Section"},i.a.createElement(k.a,{placeholder:"Select Section",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.type_default,onChange:function(t){return e.Type_onhandleChange(t,e.state.time_flight)}},this.state.type.map((function(t){return i.a.createElement(j,{style:{fontSize:"1rem"},key:t},t)})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default&&"Select Section"!==this.state.type_default?i.a.createElement(y.a,{onClick:this.search,style:{backgroundColor:"#b47b44",color:"white"}},"Search"):null)),i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{position:"absolute",top:-16},ref:this.offsetScrollingRef})),!0===this.state.click?i.a.createElement(C,{data:this.state.real,name:this.state.checkbox,what:this.state.what_select}):null))}}]),e}(i.a.Component),I=k.a.Option,T=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.state={arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",week:""}],distinct_week:[],distinct_month:[],data_selected:[],check_data:!1,time_default:"Select",unit_default:"Select Unit",flight_default:"Select Flight no",unit:["Week","Month"],real:[],click:!1,checkbox:[],distinct_time:[],what_select:"Flight no"},a.data=t.data,a.check=t.check,a.name=t.name,a.year=t.year,a.offsetScrollingRef=i.a.createRef(),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(t,e,a){var n=this.state.click;if(e.click!=n&&n){var i=this.offsetScrollingRef.current;i&&i.scrollIntoView({behavior:"smooth"})}}},{key:"Name_onhandleChange",value:function(t,e){var a=[],n=[],i=[];this.setState({flight_default:t,click:!1});for(var s=0;s<e.length;s++)e[s].name===t&&(a.push(e[s]),n.push(e[s].time_1.getMonth()),i.push(e[s].week));var r=Object(v.a)(new Set(n)),l=[];for(s=0;s<r.length;s++)l.push([r[s],w.a.months(r[s])]);var o,c,h=Object(v.a)(new Set(i)),d=[];for(s=0;s<h.length;s++)o=w()(this.getDateOfWeek(h[s],this.year)).format("DD/MM/YYYY"),c=w()(this.getDateOfWeek(h[s],this.year)).add(6,"days").format("DD/MM/YYYY"),d.push([h[s],o+"-"+c]);this.setState({data_selected:a,distinct_month:l,distinct_week:d,time_default:"Select",unit_default:"Select Unit"})}},{key:"getDateOfWeek",value:function(t,e){return w()().day("Monday").year(e).week(t)}},{key:"Unit_onhandleChange",value:function(t){this.setState({unit_default:t,click:!1});var e=null;e="Week"===t?this.state.distinct_week:this.state.distinct_month,this.setState({distinct_time:e,time_default:"Select"})}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});var a=[];if("Week"===this.state.unit_default)for(var n=0;n<e.length;n++)String(e[n].week)===t&&a.push(e[n]);else for(n=0;n<e.length;n++)String(e[n].time_1.getMonth())===t&&a.push(e[n]);this.setState({real:a})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Flight no"},i.a.createElement(k.a,{placeholder:"Select Flight no",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.flight_default,onChange:function(t){return e.Name_onhandleChange(t,e.data)}},this.name.map((function(t){return i.a.createElement(I,{style:{fontSize:"1rem"},key:t},t)})))),"Select Flight no"!==this.state.flight_default?i.a.createElement(D.a.Item,{label:"Unit per"},i.a.createElement(k.a,{placeholder:"Select Unit",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.unit_default,onChange:function(t){return e.Unit_onhandleChange(t)}},this.state.unit.map((function(t){return i.a.createElement(I,{style:{fontSize:"1rem"},key:t},t)})))):null,"Select Flight no"!==this.state.flight_default&&"Select Unit"!==this.state.unit_default?i.a.createElement(D.a.Item,{label:this.state.unit_default},i.a.createElement(k.a,{placeholder:"Select",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.state.data_selected)}},this.state.distinct_time.map((function(t){return i.a.createElement(I,{style:{fontSize:"1rem"},key:t[0]},t[1])})))):null,"Select Flight no"!==this.state.flight_default&&"Select Unit"!==this.state.unit_default&&"Select"!==this.state.time_default?i.a.createElement(y.a,{onClick:this.search,disabled:this.state.button_search,style:{backgroundColor:"#b47b44",color:"white"}},"Search"):null)),i.a.createElement("div",null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{position:"absolute",top:-16},ref:this.offsetScrollingRef})),!0===this.state.click?i.a.createElement(C,{data:this.state.real,name:this.state.checkbox,what:this.state.what_select}):null))}}]),e}(i.a.Component),z=k.a.Option,A=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[["","",""]],date:"",time_1:"",time_2:"",week:""}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",week:""}],distinct_date:[],distinct_time:[],select_date:!1,date_time:[],date_name:[],time_name:[],time_flight:[],check_data:!1,time_default:"Select Time",unit_default:"Select Unit",flight_default:"Select Flight no",date_default:"Select Date",type_default:"Select Type",feature:["Date","Flight no"],unit:["Week","Month"],type:["Departure","Arrival"],select_feature:"Date",distinct_name:[],year:""},a.test=t.data,a.check=t.check,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!0===this.check&&this.getData(this.test)}},{key:"componentWillUpdate",value:function(t){t.check!=this.check&&t.test!=this.test&&(console.log(this.check,"next ",t.check),!0===this.check&&this.getData(t.test))}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"Feature_onhandleChange",value:function(t){this.setState({select_feature:t,date_default:"Select Date",flight_default:"Select Flight no",time_default:"Select Time",unit_default:"Select Unit",type_default:"Select Type"})}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]]}];for(var e=0,a=t[0].name,n=t[0].name,i=this.uniqueNameFlight(a,t,n),s=[],r=[],l=0;l<i;l++){var o=w()(String(t[e].date),"YYYY-MM-DD");r.push(t[e].name);for(var c=e;c<=t.length;c++){if("-"===t[c].name){var h=w()(o).format("MM/DD/YYYY")+" "+t[e].time,d=w()(h).toDate(),u=w()(d).format("DD/MM/YYYY");s.push(u);var m=w()(o).format("MM/DD/YYYY")+" "+t[c-1].time,f=w()(m).toDate(),p=w()(d).format("WW"),g=d.getFullYear();this.state.arr[l].date=u,this.state.arr[l].time_1=d,this.state.arr[l].time_2=f,this.state.arr[l].week=p,e=c+1,this.state.arr[l].coords.pop();break}this.state.arr[l].coords.push([]),this.state.arr[l].name=t[c].name,this.state.arr[l].coords[c-e].push(t[c].long),this.state.arr[l].coords[c-e].push(t[c].lat),this.state.arr[l].coords[c-e].push(.3048*t[c].altitude_ft)}l<i-1&&this.state.arr.push({name:"",coords:[[]],date:"",time_1:"",time_2:"",week:""})}var y=Object(v.a)(new Set(s)),b=Object(v.a)(new Set(r));y.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0})),this.setState({dataAll:this.state.arr,distinct_date:y,distinct_name:b,year:g})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Offset Visualization"),i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Fliter by"},i.a.createElement(k.a,{placeholder:"Select Feature",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px",marginBottom:"2%"},value:this.state.select_feature,onChange:function(t){return e.Feature_onhandleChange(t)}},this.state.feature.map((function(t){return i.a.createElement(z,{style:{fontSize:"1rem"},key:t},t)}))))),"Date"===this.state.select_feature?i.a.createElement(Y,{check:this.state.check,data:this.state.dataAll,date:this.state.distinct_date}):i.a.createElement(T,{check:this.state.check,data:this.state.dataAll,name:this.state.distinct_name,year:this.state.year}))}}]),e}(i.a.Component),F=(a(829),a(373),a(64)),N=a.n(F),L=(a(132),k.a.Option),H=["Altitude (ft)","Lateral Dispersion (nmi)","Groungspeed (kts)"],P=[["Altitude (ft)","Ground Track Distance (nmi)"],["North-South Distance (nmi)","East-West Distance (nmi)"],["Groungspeed (kts)","Ground Track Distance (nmi)"]],R=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).average=function(t){return t.reduce((function(t,e){return t+e}))/t.length},a.getOption=function(){return{tooltip:{trigger:"axis"},toolbox:{feature:{saveAsImage:{show:!0,title:"Save As Image"}}},xAxis:{type:"value",name:a.state.plot_xaxis,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:20}},yAxis:{type:"value",name:a.state.plot_yaxis,nameLocation:"center",nameGap:70,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:20}},series:a.state.data}},a.Option3nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 3 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute3nmi,type:"bar",color:"#A9CCE3"}]}},a.Option5nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 5 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute5nmi,type:"bar",color:"#A9CCE3"}]}},a.Option8nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 8 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute8nmi,type:"bar",color:"#A9CCE3"}]}},a.state={csvfile:void 0,rawdata:null,select:"altitude",data:[],plot:[],arr:[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}],avg_arr:{name:"avg",type:"line",smooth:!0,lineStyle:{color:"#CB4335"},showSymbol:!1,data:[]},distribute3nmi:[],distribute5nmi:[],distribute8nmi:[],plot_graph:null,plot_xaxis:null,plot_yaxis:null,check:!1},a.test=t.data,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){0!==this.test.length&&(this.getData(),this.setState({check:!0}))}},{key:"onhandleChange",value:function(t){this.setState({select:t}),"lateral"==t?(this.data_lateral(this.test,t),this.setState({plot_graph:H[1],plot_xaxis:P[1][1],plot_yaxis:P[1][0]})):("speed"===t?this.setState({plot_graph:H[2],plot_xaxis:P[2][1],plot_yaxis:P[2][0]}):this.setState({plot_graph:H[0],plot_xaxis:P[0][1],plot_yaxis:P[0][0]}),this.data_linegraph(this.test,t))}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"distance_xy",value:function(t,e,a,n){var i=Math.pow(t-a,2),s=Math.pow(e-n,2);return Math.pow(i+s,.5)}},{key:"interpolate",value:function(t,e,a,n,i){return(n-e)/(a-t)*(i-t)+e}},{key:"closest",value:function(t,e,a,n){for(var i,s,r,l,o,c=1;c<t.length;c++)e>t[c][0]&&e<t[c-1][0]&&(i=t[c-1][0],s=t[c-1][1],r=t[c][0],l=t[c][1]);return o=this.interpolate(i,parseInt(s),r,parseInt(l),e),isNaN(o)?a:(a[n].data.push(o),a)}},{key:"closest_xy",value:function(t,e,a,n){for(var i,s,r,l,o,c,h=1;h<t.length;h++)if(e>t[h-1][0]&&e<t[h][0]){i=t[h-1][0],s=t[h-1][1],r=t[h][0],l=t[h][1];break}return void 0===s||void 0===l?a:(o=this.interpolate(i,parseFloat(s[0]),r,parseFloat(l[0]),e),c=this.interpolate(i,parseFloat(s[1]),r,parseFloat(l[1]),e),a[n].x.push(o),a[n].y.push(c),a[n].data.push([o,c]),a)}},{key:"init_arrdistribute",value:function(t){for(var e=-.5;e>=-17;e-=.5)t.push({dis:e,data:[]})}},{key:"init_arrdistribute_xy",value:function(t){for(var e=1;e<20;e+=1)t.push({dis:e,x:[],y:[],data:[]})}},{key:"data_lateral",value:function(t,e){this.state.arr=[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}];var a,n,i,s,r=[{name:"",data:[[]]}],l=[];this.init_arrdistribute_xy(l);for(var o=0;o<t.length;o++){for(var c=0,h=0,d=0,u=t[o].coords.length-1;u>1;u--)a=-111.19492658121*(t[o].coords[u-1].lat-13.703669)*.539957,n=111.19492658121*(t[o].coords[u-1].long-100.743178)*Math.cos(.01745329251*t[o].coords[u-1].lat)*.539957,i=-111.19492658121*(t[o].coords[u].lat-13.703669)*.539957,s=111.19492658121*(t[o].coords[u].long-100.743178)*Math.cos(.01745329251*t[o].coords[u].lat)*.539957,(c+=this.distance_xy(a,n,i,s))<20&&(this.state.arr[o].data.push([]),this.state.arr[o].name=t[o].name,a<0&&(this.state.arr[o].data[h].push(a),this.state.arr[o].data[h].push(n),h++)),c<50&&(r[o].name=t[o].name,r[o].data.push([]),r[o].data[d].push(c),r[o].data[d].push([a,n]),d++);for(u=0;u<l.length;u++)this.closest_xy(r[o].data,l[u].dis,l,u);o<t.length-1&&(this.state.arr.push({name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}),r.push({name:"",data:[[]]}))}this.state.avg_arr.data=[];var m=0;for(o=0;o<l.length;o++)0!==l[o].data.length&&(this.state.avg_arr.data.push([]),this.state.avg_arr.data[m].push(this.average(l[o].x),this.average(l[o].y)),m++);console.log(this.state.avg_arr),console.log(l),this.state.arr.push(this.state.avg_arr),this.setState({data:this.state.arr}),this.distributed(l,e,this.state.avg_arr)}},{key:"data_linegraph",value:function(t,e){this.state.arr=[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}];var a=[];this.init_arrdistribute(a);for(var n=[{data:[[]]}],i=0;i<t.length;i++){for(var s=0,r=t[i].coords.length-1;r>1;r--)s+=this.distance(t[i].coords[r-1].lat,t[i].coords[r-1].long,t[i].coords[r].lat,t[i].coords[r].long,"N"),r===t[i].coords.length-1&&(this.state.arr[i].data.push([]),this.state.arr[i].name=t[i].name),s<18&&(this.state.arr[i].data.push([]),this.state.arr[i].name=t[i].name,this.state.arr[i].data[t[i].coords.length-1-r].push(-1*s),"speed"===e?this.state.arr[i].data[t[i].coords.length-1-r].push(t[i].coords[r].speed):this.state.arr[i].data[t[i].coords.length-1-r].push(t[i].coords[r].altitude_ft)),s<30&&(n[i].data.push([]),n[i].data[t[i].coords.length-1-r].push(-1*s),"speed"===e?n[i].data[t[i].coords.length-1-r].push(t[i].coords[r].speed):n[i].data[t[i].coords.length-1-r].push(t[i].coords[r].altitude_ft));for(r=0;r<a.length;r++)this.closest(n[i].data,a[r].dis,a,r);i<t.length-1&&(this.state.arr.push({name:"",type:"line",showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}),n.push({data:[[]]}))}this.state.avg_arr.data=[];for(i=0;i<a.length;i++)this.state.avg_arr.data.push([]),this.state.avg_arr.data[i].push(a[i].dis,this.average(a[i].data));this.state.arr.push(this.state.avg_arr),this.setState({data:this.state.arr}),this.distributed(a,e,this.state.avg_arr)}},{key:"distributed",value:function(t,e,a){var n=[4,8,14],i=[2,4,7];if("speed"===e)for(var s=0;s<3;s++){for(var r=[],l=[],o=0;o<=300;o+=10)r.push(o);for(o=0;o<r.length-1;o++)l.push([(r[o]+r[o+1])/2,0]);for(o=0;o<t[n[s]].data.length;o++)for(var c=0;c<r.length-1;c++)t[n[s]].data[o]>=r[c]&&t[n[s]].data[o]<r[c+1]&&(l[c][1]+=1);0===s?this.setState({distribute3nmi:l}):1===s?this.setState({distribute5nmi:l}):2===s&&this.setState({distribute8nmi:l})}else if("lateral"===e){var h;for(s=0;s<3;s++){r=[];var d=[],u=[];for(o=-4;o<=4;o+=.5)r.push(o),d.push(o);for(o=0;o<r.length-1;o++)u.push([d[o],0]);for(o=0;o<t[i[s]].data.length;o++){h=this.distance_xy(a.data[i[s]][0],a.data[i[s]][1],t[i[s]].data[o][0],t[i[s]].data[o][1]),t[i[s]].data[o][1]<a.data[i[s]][1]&&(h=-h);for(c=0;c<r.length-1;c++)h>=r[c]&&h<r[c+1]&&(u[c][1]+=1)}0===s?this.setState({distribute3nmi:u}):1===s?this.setState({distribute5nmi:u}):2===s&&this.setState({distribute8nmi:u})}}else for(s=0;s<3;s++){for(r=[],l=[],o=0;o<=3500;o+=100)r.push(o);for(o=0;o<r.length-1;o++)l.push([(r[o]+r[o+1])/2,0]);for(o=0;o<t[n[s]].data.length;o++)for(c=0;c<r.length-1;c++)t[n[s]].data[o]>=r[c]&&t[n[s]].data[o]<r[c+1]&&(l[c][1]+=1);0===s?this.setState({distribute3nmi:l}):1===s?this.setState({distribute5nmi:l}):2===s&&this.setState({distribute8nmi:l})}}},{key:"getData",value:function(){this.data_linegraph(this.test,0),this.setState({plot_graph:H[0],plot_xaxis:P[0][1],plot_yaxis:P[0][0]})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",{className:"App"},!0===this.state.check?i.a.createElement("div",null,i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Analyze by"},i.a.createElement(k.a,{defaultValue:"altitude",style:{width:300,fontSize:"1.2rem"},onChange:function(t){return e.onhandleChange(t)}},i.a.createElement(L,{value:"altitude",style:{fontSize:"1rem"}},"Altitude"),i.a.createElement(L,{value:"lateral",style:{fontSize:"1rem"}},"Lateral"),i.a.createElement(L,{value:"speed",style:{fontSize:"1rem"}},"Speed")))),i.a.createElement(_.a,{option:this.getOption(),style:{width:"70%",height:700,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option3nmi(),style:{width:"60%",height:600,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option5nmi(),style:{width:"60%",height:600,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option8nmi(),style:{width:"60%",height:600,display:"inline-block"}})):i.a.createElement("p",{style:{fontSize:"1.5em",marginTop:"9%"}},"No data for Analyze"))}}]),e}(i.a.Component),W=k.a.Option,B=["Altitude (ft)","Lateral Dispersion (nmi)","Groungspeed (kts)"],U=[["Altitude (ft)","Ground Track Distance (nmi)"],["North-South Distance (nmi)","East-West Distance (nmi)"],["Groungspeed (kts)","Ground Track Distance (nmi)"]],G=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).average=function(t){return t.reduce((function(t,e){return t+e}))/t.length},a.getOption=function(){return{tooltip:{trigger:"axis"},toolbox:{feature:{saveAsImage:{show:!0,title:"Save As Image"}}},xAxis:{type:"value",name:a.state.plot_xaxis,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:20}},yAxis:{type:"value",name:a.state.plot_yaxis,nameLocation:"center",nameGap:70,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:20}},series:a.state.data}},a.Option3nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 3 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute3nmi,type:"bar",color:"#A9CCE3"}]}},a.Option5nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 5 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute5nmi,type:"bar",color:"#A9CCE3"}]}},a.Option8nmi=function(){return{title:{text:"Distribution of "+a.state.select+" at 8 nmi"},xAxis:{type:"category",name:a.state.plot_graph,nameLocation:"center",nameGap:40,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:15}},yAxis:{type:"value",name:"Number of Flight",nameLocation:"center",nameGap:50,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.distribute8nmi,type:"bar",color:"#A9CCE3"}]}},a.state={csvfile:void 0,rawdata:null,select:"altitude",data:[],plot:[],arr:[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}],avg_arr:{name:"avg",type:"line",smooth:!0,lineStyle:{color:"#CB4335"},showSymbol:!1,data:[]},distribute3nmi:[],distribute5nmi:[],distribute8nmi:[],plot_graph:null,plot_xaxis:null,plot_yaxis:null,check:!1},a.test=t.data,a.type=t.type,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){"Departure"===this.type&&0!==this.test.length&&(this.getData(),this.setState({check:!0}))}},{key:"onhandleChange",value:function(t){this.setState({select:t}),"lateral"===t?(this.data_lateral(this.test,t),this.setState({plot_graph:B[1],plot_xaxis:U[1][1],plot_yaxis:U[1][0]})):("speed"===t?this.setState({plot_graph:B[2],plot_xaxis:U[2][1],plot_yaxis:U[2][0]}):this.setState({plot_graph:B[0],plot_xaxis:U[0][1],plot_yaxis:U[0][0]}),this.data_linegraph(this.test,t))}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"distance_xy",value:function(t,e,a,n){var i=Math.pow(t-a,2),s=Math.pow(e-n,2);return Math.pow(i+s,.5)}},{key:"interpolate",value:function(t,e,a,n,i){return(n-e)/(a-t)*(i-t)+e}},{key:"closest",value:function(t,e,a,n){for(var i,s,r,l,o,c=1;c<t.length;c++)e>t[c-1][0]&&e<t[c][0]&&(i=t[c-1][0],s=t[c-1][1],r=t[c][0],l=t[c][1]);return o=this.interpolate(i,parseInt(s),r,parseInt(l),e),isNaN(o)?a:(a[n].data.push(o),a)}},{key:"closest_xy",value:function(t,e,a,n){for(var i,s,r,l,o,c,h=1;h<t.length;h++)if(e>t[h-1][0]&&e<t[h][0]){i=t[h-1][0],s=t[h-1][1],r=t[h][0],l=t[h][1];break}return void 0===s||void 0===l?a:(o=this.interpolate(i,parseFloat(s[0]),r,parseFloat(l[0]),e),c=this.interpolate(i,parseFloat(s[1]),r,parseFloat(l[1]),e),a[n].x.push(o),a[n].y.push(c),a[n].data.push([o,c]),a)}},{key:"init_arrdistribute",value:function(t){for(var e=.5;e<=17;e+=.5)t.push({dis:e,data:[]})}},{key:"init_arrdistribute_xy",value:function(t){for(var e=1;e<20;e+=1)t.push({dis:e,x:[],y:[],data:[]})}},{key:"data_lateral",value:function(t,e){this.state.arr=[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}];var a,n,i,s,r=[{name:"",data:[[]]}],l=[];this.init_arrdistribute_xy(l);for(var o=0;o<t.length;o++){for(var c=0,h=1;h<t[o].coords.length;h++)a=-111.19492658121*(t[o].coords[h-1].lat-13.703669)*.539957,n=111.19492658121*(t[o].coords[h-1].long-100.743178)*Math.cos(.01745329251*t[o].coords[h-1].lat)*.539957,i=-111.19492658121*(t[o].coords[h].lat-13.703669)*.539957,s=111.19492658121*(t[o].coords[h].long-100.743178)*Math.cos(.01745329251*t[o].coords[h].lat)*.539957,(c+=this.distance_xy(a,n,i,s))<20&&(this.state.arr[o].data.push([]),this.state.arr[o].name=t[o].name,this.state.arr[o].data[h-1].push(a),this.state.arr[o].data[h-1].push(n)),c<50&&(r[o].name=t[o].name,r[o].data.push([]),r[o].data[h-1].push(c),r[o].data[h-1].push([a,n]));for(h=0;h<l.length;h++)this.closest_xy(r[o].data,l[h].dis,l,h);o<t.length-1&&(this.state.arr.push({name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}),r.push({name:"",data:[[]]}))}this.state.avg_arr.data=[];var d=0;for(o=0;o<l.length;o++)0!==l[o].data.length&&(this.state.avg_arr.data.push([]),this.state.avg_arr.data[d].push(this.average(l[o].x),this.average(l[o].y)),d++);this.state.arr.push(this.state.avg_arr),this.setState({data:this.state.arr}),this.distributed(l,e,this.state.avg_arr)}},{key:"data_linegraph",value:function(t,e){this.state.arr=[{name:"",type:"line",smooth:!0,showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}];var a=[];this.init_arrdistribute(a);for(var n=[{data:[[]]}],i=0;i<t.length;i++){for(var s=0,r=1;r<t[i].coords.length;r++)s+=this.distance(t[i].coords[r-1].lat,t[i].coords[r-1].long,t[i].coords[r].lat,t[i].coords[r].long,"N"),1===r&&(this.state.arr[i].data.push([]),this.state.arr[i].name=t[i].name),s<18&&(this.state.arr[i].data.push([]),this.state.arr[i].name=t[i].name,this.state.arr[i].data[r].push(s),"speed"===e?this.state.arr[i].data[r].push(t[i].coords[r].speed):this.state.arr[i].data[r].push(t[i].coords[r].altitude_ft)),s<30&&(n[i].data.push([]),n[i].data[r].push(s),"speed"===e?n[i].data[r].push(t[i].coords[r].speed):n[i].data[r].push(t[i].coords[r].altitude_ft));for(r=0;r<a.length;r++)this.closest(n[i].data,a[r].dis,a,r);i<t.length-1&&(this.state.arr.push({name:"",type:"line",showSymbol:!1,lineStyle:{color:"#A9CCE3"},data:[[]]}),n.push({data:[[]]}))}this.state.avg_arr.data=[];for(i=0;i<a.length;i++)this.state.avg_arr.data.push([]),0!==a[i].data.length&&this.state.avg_arr.data[i].push(a[i].dis,this.average(a[i].data));this.state.arr.push(this.state.avg_arr),this.setState({data:this.state.arr}),this.distributed(a,e,this.state.avg_arr)}},{key:"distributed",value:function(t,e,a){var n=[4,8,14],i=[2,4,7];if("speed"===e)for(var s=0;s<3;s++){for(var r=[],l=[],o=0;o<=300;o+=10)r.push(o);for(o=0;o<r.length-1;o++)l.push([(r[o]+r[o+1])/2,0]);for(o=0;o<t[n[s]].data.length;o++)for(var c=0;c<r.length-1;c++)t[n[s]].data[o]>=r[c]&&t[n[s]].data[o]<r[c+1]&&(l[c][1]+=1);0===s?this.setState({distribute3nmi:l}):1===s?this.setState({distribute5nmi:l}):2===s&&this.setState({distribute8nmi:l})}else if("lateral"===e){var h;for(s=0;s<3;s++){r=[];var d=[],u=[];for(o=-4;o<=4;o+=.5)r.push(o),d.push(o);for(o=0;o<r.length-1;o++)u.push([d[o],0]);for(o=0;o<t[i[s]].data.length;o++){h=this.distance_xy(a.data[i[s]][0],a.data[i[s]][1],t[i[s]].data[o][0],t[i[s]].data[o][1]),t[i[s]].data[o][1]<a.data[i[s]][1]&&(h=-h);for(c=0;c<r.length-1;c++)h>=r[c]&&h<r[c+1]&&(u[c][1]+=1)}0===s?this.setState({distribute3nmi:u}):1===s?this.setState({distribute5nmi:u}):2===s&&this.setState({distribute8nmi:u})}}else for(s=0;s<3;s++){for(r=[],l=[],o=0;o<=5500;o+=200)r.push(o);for(o=0;o<r.length-1;o++)l.push([(r[o]+r[o+1])/2,0]);for(o=0;o<t[n[s]].data.length;o++)for(c=0;c<r.length-1;c++)t[n[s]].data[o]>=r[c]&&t[n[s]].data[o]<r[c+1]&&(l[c][1]+=1);0===s?this.setState({distribute3nmi:l}):1===s?this.setState({distribute5nmi:l}):2===s&&this.setState({distribute8nmi:l})}}},{key:"getData",value:function(){this.data_linegraph(this.test,0),this.setState({plot_graph:B[0],plot_xaxis:U[0][1],plot_yaxis:U[0][0]})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",{className:"App"},"Departure"===this.type?!0===this.state.check?i.a.createElement("div",null,i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Analyze by"},i.a.createElement(k.a,{defaultValue:"altitude",style:{width:300,fontSize:"1.2rem"},onChange:function(t){return e.onhandleChange(t)}},i.a.createElement(W,{value:"altitude",style:{fontSize:"1rem"}},"Altitude"),i.a.createElement(W,{value:"lateral",style:{fontSize:"1rem"}},"Lateral"),i.a.createElement(W,{value:"speed",style:{fontSize:"1rem"}},"Speed")))),i.a.createElement(_.a,{option:this.getOption(),style:{width:"70%",height:700,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option3nmi(),style:{width:"60%",height:600,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option5nmi(),style:{width:"60%",height:600,display:"inline-block",marginBottom:"3%"}}),i.a.createElement(_.a,{option:this.Option8nmi(),style:{width:"60%",height:600,display:"inline-block"}})):i.a.createElement("p",{style:{fontSize:"1.5em",marginTop:"9%"}},"No data for Analyze"):i.a.createElement(R,{data:this.test}))}}]),e}(i.a.Component),V=k.a.Option,K=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.state={arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",week:""}],distinct_date:[],distinct_time:[],select_date:!1,date_time:[],date_name:[],time_name:[],time_flight:[],check_data:!1,time_default:"Select Time",turn_default:"Select Turn Direction",date_default:"Select Date",type_default:"Select Section",type:["Departure","Arrival"],turn:["West","East"],select_feature:"Date",real:[],click:!1,checkbox:[],what_select:"Date",type_select:[]},a.data=t.data,a.date=t.date,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"Date_onhandleChange",value:function(t,e){var a=[],n=[];this.setState({date_default:t,click:!1});for(var i=0;i<e.length;i++)if(0,0,e[i].date===String(t)){a.push(e[i]);var s=e[i].coords.length-1;this.distance(13.6902099,100.7449953,e[i].coords[0].lat,e[i].coords[0].long,"N")<this.distance(13.6902099,100.7449953,e[i].coords[s].lat,e[i].coords[s].long,"N")?n.push(e[i].time_1.getHours()):n.push(e[i].time_2.getHours())}var r=Object(v.a)(new Set(n)).sort((function(t,e){return t-e}));this.setState({distinct_time:r,date_name:a,time_default:"Select Time",type_default:"Select Section",turn_default:"Select Turn Direction"})}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});for(var a=[],n=0;n<e.length;n++)e[n].time_1.getHours()!==parseInt(t)&&e[n].time_2.getHours()!==parseInt(t)||a.push(e[n]);this.setState({time_flight:a,type_default:"Select Section",turn_default:"Select Turn Direction"})}},{key:"Type_onhandleChange",value:function(t,e){this.setState({type_default:t,click:!1});for(var a=[],n=[],i=[],s=[],r=[],l=[],o=0;o<e.length;o++){0,0;var c=e[o].coords.length-1;this.distance(13.6902099,100.7449953,e[o].coords[0].lat,e[o].coords[0].long,"N")<this.distance(13.6902099,100.7449953,e[o].coords[c].lat,e[o].coords[c].long,"N")?(i.push(e[o]),r.push(e[o].name)):(s.push(e[o]),l.push(e[o].name))}"Departure"===t?(a=i,n=r):(a=s,n=l),this.setState({type_select:a,checkbox:n,turn_default:"Select Turn Direction"})}},{key:"Turn_onhandleChange",value:function(t,e){this.setState({turn_default:t,click:!1});var a=[],n=0,i=0,s=[],r=[],l=0,o=0;if("Departure"===this.state.type_default)for(var c=0;c<e.length;c++){i=0,n=0,l=0;for(var h=0;h<e[c].coords.length-1&&!((l+=this.distance(e[c].coords[h].lat,e[c].coords[h].long,e[c].coords[h+1].lat,e[c].coords[h+1].long,"N"))>30);h++)e[c].coords[h].long>e[c].coords[h+1].long?n+=1:e[c].coords[h].long<e[c].coords[h+1].long&&(i+=1);n>i?s.push(e[c]):r.push(e[c])}else for(c=0;c<e.length;c++){i=0,n=0,l=0;for(h=e[c].coords.length-1;h>1;h--)if((l+=this.distance(e[c].coords[h].lat,e[c].coords[h].long,e[c].coords[h-1].lat,e[c].coords[h-1].long,"N"))>8){o=h;break}l=0;for(h=o;h>1&&!((l+=this.distance(e[c].coords[h].lat,e[c].coords[h].long,e[c].coords[h-1].lat,e[c].coords[h-1].long,"N"))>25);h--)e[c].coords[h].long>e[c].coords[h-1].long?n+=1:e[c].coords[h].long<e[c].coords[h-1].long&&(i+=1);n>i?s.push(e[c]):r.push(e[c])}a="West"===t?s:r,this.setState({real:a})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Date"},i.a.createElement(k.a,{placeholder:"Select Date",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.date_default,onChange:function(t){return e.Date_onhandleChange(t,e.data)}},this.date.map((function(t){return i.a.createElement(V,{style:{fontSize:"1rem"},key:t},t)})))),"Select Date"!==this.state.date_default?i.a.createElement(D.a.Item,{label:"Time"},i.a.createElement(k.a,{placeholder:"Select Time",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.state.date_name)}},this.state.distinct_time.map((function(t){return i.a.createElement(V,{style:{fontSize:"1rem"},key:t},t,".00 - ",t,".59")})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default?i.a.createElement(D.a.Item,{label:"Section"},i.a.createElement(k.a,{placeholder:"Select Section",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.type_default,onChange:function(t){return e.Type_onhandleChange(t,e.state.time_flight)}},this.state.type.map((function(t){return i.a.createElement(V,{style:{fontSize:"1rem"},key:t},t)})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default&&"Select Section"!==this.state.type_default?i.a.createElement(D.a.Item,{label:"Turn Direction"},i.a.createElement(k.a,{placeholder:"Select Turn Direction",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.turn_default,onChange:function(t){return e.Turn_onhandleChange(t,e.state.type_select)}},this.state.turn.map((function(t){return i.a.createElement(V,{style:{fontSize:"1rem"},key:t},t)})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default&&"Select Section"!==this.state.type_default&&"Select Turn Direction"!==this.state.turn_default?i.a.createElement(y.a,{onClick:this.search,style:{backgroundColor:"#b47b44",color:"white"}},"Search"):null)),i.a.createElement("div",null,!0===this.state.click?i.a.createElement(G,{data:this.state.real,type:this.state.type_default}):null))}}]),e}(i.a.Component),q=(k.a.Option,function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[[]],date:"",time_1:"",time_2:""}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:""}],distinct_date:[],pre:!1},a.test=t.data,a.check=t.check,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!0===this.check&&this.getData(this.test)}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]],date:"",time_1:"",time_2:""}];for(var e=0,a=t[0].name,n=t[0].name,i=this.uniqueNameFlight(a,t,n),s=[],r=0;r<i;r++){for(var l=w()(String(t[e].date),"YYYY-MM-DD"),o=e;o<=t.length;o++){if("-"===t[o].name){var c=w()(l).format("MM/DD/YYYY")+" "+t[e].time,h=w()(c).toDate(),d=w()(h).format("DD/MM/YYYY");s.push(d);var u=w()(l).format("MM/DD/YYYY")+" "+t[o-1].time,m=w()(u).toDate();this.state.arr[r].date=d,this.state.arr[r].time_1=h,this.state.arr[r].time_2=m,e=o+1,this.state.arr[r].coords.pop();break}this.state.arr[r].coords.push([{lat:"",long:"",altitude:"",altitude_ft:"",speed:""}]),this.state.arr[r].name=t[o].name,this.state.arr[r].coords[o-e].long=t[o].long,this.state.arr[r].coords[o-e].lat=t[o].lat,this.state.arr[r].coords[o-e].altitude_ft=t[o].altitude_ft,this.state.arr[r].coords[o-e].speed=t[o].speed}r<i-1&&this.state.arr.push({name:"",coords:[[]],date:"",time_1:"",time_2:""})}var f=Object(v.a)(new Set(s));f.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0})),this.setState({dataAll:this.state.arr,distinct_date:f,pre:!0})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Offset Analytics"),!0===this.state.pre?i.a.createElement(K,{data:this.state.dataAll,date:this.state.distinct_date}):null)}}]),e}(i.a.Component)),J=(a(830),[{key:"tab1",tab:"visualize"},{key:"tab2",tab:"analyze"}]),$=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).onTabChange=function(t,e){console.log(t,e),a.setState(Object(c.a)({},e,t))},a.handleChange=function(t){a.setState({csvfile:t.target.files[0],check:!1,upload:!1})},a.importCSV=function(){var t=a.state.csvfile;N.a.parse(t,{complete:a.updateData,header:!0})},a.state={key:"tab1",csvfile:void 0,data:null,check:!1,upload:!0},a.updateData=a.updateData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"updateData",value:function(t){var e=t.data;this.setState({data:e,check:!0,key:"tab1"})}},{key:"render",value:function(){var t=this,e={tab1:i.a.createElement(A,{check:this.state.check,data:this.state.data}),tab2:i.a.createElement(q,{check:this.state.check,data:this.state.data})};return i.a.createElement("div",{className:"importbar"},i.a.createElement("div",{style:{marginLeft:"80px"}},i.a.createElement("h2",null,"Import offset .csv file"),i.a.createElement("input",{className:"csv-input",type:"file",ref:function(e){t.filesInput=e},name:"upload",id:"upload",placeholder:null,onChange:this.handleChange}),i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white",marginTop:"1%",display:"flex"},onClick:this.importCSV,disabled:this.state.upload}," Upload now!")),!0===this.state.check?i.a.createElement("div",null,i.a.createElement(p.a,{style:{width:"100%",textAlign:"center"},tabList:J,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")}},e[this.state.key])):null)}}]),e}(i.a.Component),Q=(a(833),a(70)),X=k.a.Option,Z={center:[100.7395539,13.6983666],zoom:10,altitudeScale:3.28,baseLayer:new S.a("base",{urlTemplate:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"],attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>'})},tt=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).getOption=function(){return{maptalks3D:Z,series:[{type:"scatter3D",coordinateSystem:"maptalks3D",itemStyle:{color:"rgb(50, 50, 150)",opacity:1},data:a.state.scatter,symbolSize:1,label:{show:!0,formatter:function(t){return t[3]},position:"insideTop"}},{type:"lines3D",coordinateSystem:"maptalks3D",effect:{show:!0,constantSpeed:40,trailWidth:2,trailLength:.05,trailOpacity:1},polyline:!0,lineStyle:{width:2,color:"rgb(50, 60, 170)",opacity:.5},data:a.state.data}]}},a.state={data:[],scatter:[],checkedList:[]},a.test=t.data,a.name=t.name,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"onhandleChange",value:function(t,e){var a=[],n=[];this.setState({checkedList:t});for(var i=0;i<t.length;i++)for(var s=0;s<e.length;s++)if(e[s].name===t[i]){var r=Math.floor(e[s].coords.length/2);a.push(e[s]),n.push([e[s].coords[r][0],e[s].coords[r][1],e[s].coords[r][2],e[s].name])}this.setState({data:a,scatter:n})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement(Q.a,null,i.a.createElement(k.a,{mode:"multiple",style:{width:"50%",marginBottom:"2%"},placeholder:"Please select flight",value:this.state.checkedList,onChange:function(t){return e.onhandleChange(t,e.test)}},this.name.map((function(t){return i.a.createElement(X,{style:{fontSize:"1rem"},key:t},t)})))),i.a.createElement(E,null,i.a.createElement(_.a,{option:this.getOption(),style:{width:"100%",height:800,border:"1px solid lightgray"}})))}}]),e}(i.a.Component),et=k.a.Option,at=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.state={checkedList:[],distinct_time:[],time_default:"Select Time",date_default:"Select Date",date_name:[],data_time:[],name:[],data:[],click:!1},a.data=t.data,a.date=t.date,a.offsetScrollingRef=i.a.createRef(),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(t,e,a){var n=this.state.click;if(e.click!=n&&n){var i=this.offsetScrollingRef.current;i&&i.scrollIntoView({behavior:"smooth"})}}},{key:"Date_onhandleChange",value:function(t,e){var a=[],n=[];this.setState({date_default:t,click:!1});for(var i=0;i<e.length;i++)e[i].date===String(t)&&(a.push(e[i]),n.push(e[i].time_2.getHours()));var s=Object(v.a)(new Set(n)).sort((function(t,e){return t-e}));this.setState({distinct_time:s,date_name:a,time_default:"Select Time"})}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});for(var a=[],n=[],i=0;i<e.length;i++)e[i].time_1.getHours()!==parseInt(t)&&e[i].time_2.getHours()!==parseInt(t)||(a.push(e[i]),n.push(e[i].name));this.setState({data_time:a,name:n})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Date"},i.a.createElement(k.a,{placeholder:"Select Date",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.date_default,onChange:function(t){return e.Date_onhandleChange(t,e.data)}},this.date.map((function(t){return i.a.createElement(et,{style:{fontSize:"1rem"},key:t},t)})))),"Select Date"!==this.state.date_default?i.a.createElement(D.a.Item,{label:"Time"},i.a.createElement(k.a,{placeholder:"Select Time",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.state.date_name)}},this.state.distinct_time.map((function(t){return i.a.createElement(et,{style:{fontSize:"1rem"},key:t},t,".00 - ",t,".59")})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default?i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white"},onClick:this.search},"Search"):null)),i.a.createElement("div",null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{position:"absolute",top:-16},ref:this.offsetScrollingRef})),!0===this.state.click?i.a.createElement(tt,{data:this.state.data_time,name:this.state.name}):null))}}]),e}(i.a.Component),nt=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[["","",""]],date:"",time_1:"",time_2:""}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:""}],distinct_date:[]},a.test=t.data,a.check=t.check,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!0===this.check&&this.getData(this.test)}},{key:"componentWillUpdate",value:function(t){t.check!==this.check&&t.test!==this.test&&(console.log(this.check,"next ",t.check),!0===this.check&&this.getData(t.test))}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"distance",value:function(t,e,a,n,i){if(t===a&&e===n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]],date:"",time_1:"",time_2:""}];for(var e,a=0,n=t[0].name,i=t[0].name,s=this.uniqueNameFlight(n,t,i),r=1e5,l=!1,o=0,c=[],h=0;h<s;h++){r=1e5,l=!1,o=0;for(var d=w()(String(t[a].date),"YYYY-MM-DD"),u=a;u<=t.length;u++){if("-"===t[u].name){this.distance(13.6567,100.7518,t[a].lat,t[a].long,"N")<this.distance(13.6567,100.7518,t[u-1].lat,t[u-1].long,"N")&&(l=!1);var m=w()(d).format("MM/DD/YYYY")+" "+t[a].time,f=w()(m).toDate(),p=w()(f).format("DD/MM/YYYY"),g=w()(d).format("MM/DD/YYYY")+" "+t[u-1].time,y=w()(g).toDate();a=u+1,this.state.arr[h].coords.pop();break}this.state.arr[h].coords.push([]),this.state.arr[h].name=t[u].name,this.state.arr[h].coords[u-a].push(t[u].long),this.state.arr[h].coords[u-a].push(t[u].lat),this.state.arr[h].coords[u-a].push(.3048*t[u].altitude_ft),!1===l&&((e=this.distance(13.6567,100.7518,t[u].lat,t[u].long,"N"))>r&&e>30&e<50&&(o+=1)>15&&(l=!0,n=t[u].name),r=this.distance(13.6567,100.7518,t[u].lat,t[u].long,"N"))}!0===l&&(this.state.arr[h].time_1=f,this.state.arr[h].time_2=y,this.state.arr[h].date=p,c.push(p)),h<s-1&&this.state.arr.push({name:"",coords:[[]],date:"",time_1:"",time_2:""})}var b=Object(v.a)(new Set(c));b.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0})),this.setState({dataAll:this.state.arr,distinct_date:b})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Holding Visualization"),i.a.createElement(at,{data:this.state.dataAll,date:this.state.distinct_date}))}}]),e}(i.a.Component),it=(a(363),k.a.Option),st=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).average=function(t){return t.reduce((function(t,e){return t+e}))/t.length},a.getOption=function(){return{xAxis:{type:"category",axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},yAxis:{type:"value",name:"distance (nmi)",nameLocation:"center",nameGap:80,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.dataHoldingDist,type:"bar",label:{normal:{show:!0,position:"inside",fontSize:20}}},{type:"line",data:a.state.Idealdis,lineStyle:{opacity:0},symbol:"none",markLine:{data:[{type:"average",name:"Ideal"}],lineStyle:{width:2},label:{normal:{show:!0,fontSize:20}}}}]}},a.getOptiontime=function(){return{xAxis:{type:"category",axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},yAxis:{type:"value",name:"time (min)",nameLocation:"center",nameGap:80,nameTextStyle:{fontSize:20},axisLabel:{show:!0,interval:"auto",inside:!1,fontSize:22}},series:[{data:a.state.dataHoldingTime,type:"bar",label:{normal:{show:!0,position:"inside",fontSize:20}}},{type:"line",data:a.state.Idealtime,lineStyle:{opacity:0},symbol:"none",markLine:{data:[{type:"average",name:"Ideal"}],lineStyle:{width:2},label:{normal:{show:!0,fontSize:20}}}}]}},a.state={arr:[{name:"",coords:[[]],date:[[]]}],arr_select:[],select:"",dataHoldingDist:[],dataHoldingTime:[],distinct_name:[],Idealdis:[],Idealtime:[],data_select_name:[],flight_default:"Select Flight",date_default:"Select Date",heavy:["A38","A35","A33","B74","B77","B78"],large:["A31","A32","B73","A20"],small:["AT7"],point:[{name:"LEBIM",lat:13.087447,lon:100.473475,dis:62.04648723260302},{name:"NORTA",lat:14.718789,lon:100.639017,dis:57.16186200443073},{name:"EASTE",lat:14.309667,lon:101.286244,dis:74.06176424138363},{name:"WILLA",lat:14.404717,lon:100.059822,dis:64.93007258847182},{name:"DOLNI",lat:13.294339,lon:101.180114,dis:58.124521104594955}],click:!1},a.date=t.date,a.dataref=t.dataref,a.data=t.data,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"distance",value:function(t,e,a,n,i){if(t===a&&e===n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"alldata",value:function(t,e,a){for(var n,i,s=[],r=[],l=[],o=[],c=0,h=1e5,d=!1,u=0,m=0,f=w()(String(a),"DD/MM/YYYY").add(5,"days"),p=w()(String(a),"DD/MM/YYYY").add(-5,"days"),g=0;g<e.length-1;g++)i=w()(String(e[g].date),"YYYY-MM-DD"),e[g].name===t&&f>i&&p<i&&("-"===e[g+1].name?o.push("-"):o.push(e[g]));if(0===o.length)return 0;for(g=0;g<o.length-1;g++){if("-"===o[g+1]){if(d=!1,h=1e5,u=0,0!=c){s.push(c),c=0;var y=w()(String(o[g].date),"YYYY-MM-DD"),v=new Date(w()(y).format("MM/DD/YYYY")+" "+o[g].time)-b;r.push(v)}m=g+=2}if(!1===d&&g<o.length-1&&((n=this.distance(13.6567,100.7518,o[g].lat,o[g].long,"N"))>h&&n>30&n<50&&(u+=1)>15&&(d=!0),h=this.distance(13.6567,100.7518,o[g].lat,o[g].long,"N"),c+=this.distance(o[g].lat,o[g].long,o[g+1].lat,o[g+1].long,"N"),m===g)){y=w()(String(o[m].date),"YYYY-MM-DD");var b=new Date(w()(y).format("MM/DD/YYYY")+" "+o[m].time)}!0===d&&(c=0)}return l.push(this.average(s),this.average(r)),l}},{key:"closest",value:function(t,e){var a,n=0,i=0,s=1e6;for(n in t)for(i in e){var r=this.distance(t[n][1],t[n][0],e[i].lat,e[i].lon,"N");r<s&&(s=r,a=e[i])}return a}},{key:"Date_onhandleChange",value:function(t,e){var a=[],n=[];this.setState({date_default:t});for(var i=0;i<e.length;i++)e[i].datetime===String(t)&&(a.push(e[i]),n.push(e[i].name));var s=Object(v.a)(new Set(n));this.setState({distinct_name:s,data_select_name:a,flight_default:"Select Flight"})}},{key:"onhandleChange",value:function(t,e){if("Select Flight"!==t){this.setState({flight_default:t});for(var a=[],n=[],i=[],s=0,r=0,l=0,o=this.alldata(t,this.dataref,this.state.date_default),c=0;c<e.length;c++)e[c].name===t&&a.push(e[c]);this.state.heavy.includes(a[0].aircraft)?(r=130.3464,l=500):this.state.large.includes(a[0].aircraft)?(r=121.65664,l=450):this.state.small.includes(a[0].aircraft)&&(r=121.65664,l=450);var h=this.closest(a[0].coords,this.state.point),d=Math.round(this.distance(a[0].coords[0][1],a[0].coords[0][0],h.lat,h.lon,"N")+h.dis),u=[["Not holding",d],["Holding",d]],m=this.distance(a[0].coords[0][1],a[0].coords[0][0],h.lat,h.lon,"N")/l+h.dis/r,f=Math.round(60*m),p=[["Not holding",f],["Holding",f]];this.setState({Idealdis:u,Idealtime:p});var g=w()(String(a[0].date[0][0]),"YYYY-MM-DD"),y=new Date(w()(g).format("MM/DD/YYYY")+" "+a[0].date[0][1]),v=new Date(w()(g).format("MM/DD/YYYY")+" "+a[0].date[a[0].date.length-1][1])-y;for(c=1;c<a[0].coords.length;c++)s+=this.distance(a[0].coords[c-1][1],a[0].coords[c-1][0],a[0].coords[c][1],a[0].coords[c][0],"N");var b=.16666666666667*v*1e-4,_=.16666666666667*o[1]*1e-4;n.push(["Not holding",Math.round(o[0])]),n.push(["Holding",Math.round(s)]),i.push(["Not holding",Math.round(_)]),i.push(["Holding",Math.round(b)]),this.setState({dataHoldingDist:n,dataHoldingTime:i})}else this.setState({dataHoldingDist:[],dataHoldingTime:[],Idealdis:[],Idealtime:[]})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Date"},i.a.createElement(k.a,{placeholder:"Select Date",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.date_default,onChange:function(t){return e.Date_onhandleChange(t,e.data)}},this.date.map((function(t){return i.a.createElement(it,{style:{fontSize:"1rem"},key:t},t)})))),"Select Date"!==this.state.date_default?i.a.createElement(D.a.Item,{label:"Flight no"},i.a.createElement(k.a,{placeholder:"Select Flight",style:{width:300,fontSize:"1.2rem"},value:this.state.flight_default,onChange:function(t){return e.onhandleChange(t,e.state.data_select_name)}},this.state.distinct_name.map((function(t){return i.a.createElement(it,{style:{fontSize:"1rem"},key:t},t)})))):null),i.a.createElement(_.a,{option:this.getOption(),style:{width:"60%",height:500,display:"inline-block"}}),i.a.createElement(_.a,{option:this.getOptiontime(),style:{width:"60%",height:500,display:"inline-block"}}))}}]),e}(i.a.Component),rt=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[["","",""]],date:"",time_1:"",time_2:"",aircraft:""}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",aircraft:""}],distinct_name:[],distinct_date:[]},a.test=t.data,a.check=t.status,a.dataref=t.dataref,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!1===this.check&&this.getData(this.test)}},{key:"componentWillUpdate",value:function(t){t.check!==this.check&&t.test!==this.test&&!1===this.check&&this.getData(t.test)}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"distance",value:function(t,e,a,n,i){if(t===a&&e===n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]],date:[[]],aircraft:"",datetime:""}];for(var e,a=0,n=t[0].name,i=t[0].name,s=this.uniqueNameFlight(n,t,i),r=1e5,l=[],o=!1,c=0,h=0;h<s;h++){r=1e5,o=!1,c=0;for(var d=a;d<=t.length;d++){if("-"===t[d].name){this.distance(13.6567,100.7518,t[a].lat,t[a].long,"N")<this.distance(13.6567,100.7518,t[d-1].lat,t[d-1].long,"N")&&(o=!1),this.state.arr[h].aircraft=t[d-1].aircraft,a=d+1,this.state.arr[h].coords.pop(),this.state.arr[h].date.pop();break}if(this.state.arr[h].coords.push([]),this.state.arr[h].date.push([]),this.state.arr[h].coords[d-a].push(t[d].long),this.state.arr[h].coords[d-a].push(t[d].lat),this.state.arr[h].coords[d-a].push(.3048*t[d].altitude_ft),this.state.arr[h].date[d-a].push(t[d].date),this.state.arr[h].date[d-a].push(t[d].time),!1===o){if((e=this.distance(13.6567,100.7518,t[d].lat,t[d].long,"N"))>r&&e>30&e<50&&(c+=1)>15){o=!0,n=t[d].name;var u=w()(String(t[d].date),"YYYY-MM-DD"),m=w()(u).format("DD/MM/YYYY")}r=this.distance(13.6567,100.7518,t[d].lat,t[d].long,"N")}}!0===o&&(this.state.arr[h].name=n,this.state.arr[h].datetime=m,l.push(m)),h<s-1&&this.state.arr.push({name:"",coords:[[]],date:[[]],aircraft:"",datetime:""})}var f=Object(v.a)(new Set(l));f.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0})),this.setState({dataAll:this.state.arr,distinct_date:f})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Holding Analytics"),i.a.createElement(st,{data:this.state.dataAll,date:this.state.distinct_date,dataref:this.dataref}))}}]),e}(i.a.Component),lt=(k.a.Option,function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).handleChange=function(t){a.setState({csvfile:t.target.files[0],upload:!1})},a.importCSV=function(){var t=a.state.csvfile;N.a.parse(t,{complete:a.updateData,header:!0})},a.state={csvfile:void 0,status:!0,data:null,upload:!0},a.test=t.data,a.check=t.check,a.updateData=a.updateData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"updateData",value:function(t){var e=t.data;this.setState({data:e,status:!1})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("h2",null,"Import reference .csv file"),i.a.createElement("input",{className:"csv-input",type:"file",ref:function(t){e.filesInput=t},name:"file",placeholder:null,onChange:this.handleChange}),i.a.createElement("p",null),i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white"},onClick:this.importCSV,disabled:this.state.upload}," Upload now!"),!1===this.state.status?i.a.createElement(rt,{data:this.test,status:this.state.status,dataref:this.state.data}):null)}}]),e}(i.a.Component)),ot=[{key:"tab1",tab:"visualize"},{key:"tab2",tab:"analyze"}],ct=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).onTabChange=function(t,e){console.log(t,e),a.setState(Object(c.a)({},e,t))},a.handleChange=function(t){a.setState({csvfile:t.target.files[0],check:!1,upload:!1})},a.importCSV=function(){var t=a.state.csvfile;N.a.parse(t,{complete:a.updateData,header:!0})},a.state={key:"tab1",csvfile:void 0,data:null,check:!1,upload:!0},a.updateData=a.updateData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"updateData",value:function(t){var e=t.data;this.setState({data:e,check:!0,key:"tab1"})}},{key:"render",value:function(){var t=this,e={tab1:i.a.createElement(nt,{check:this.state.check,data:this.state.data}),tab2:i.a.createElement(lt,{check:this.state.check,data:this.state.data})};return i.a.createElement("div",{className:"importbar"},i.a.createElement("div",{style:{marginLeft:"80px"}},i.a.createElement("h2",null,"Import holding .csv file"),i.a.createElement("input",{className:"csv-input",type:"file",ref:function(e){t.filesInput=e},name:"file",placeholder:null,onChange:this.handleChange}),i.a.createElement("p",null),i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white",marginTop:"1%",display:"flex"},onClick:this.importCSV,disabled:this.state.upload}," Upload now!")),!0===this.state.check?i.a.createElement(p.a,{style:{width:"100%",textAlign:"center"},tabList:ot,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")}},e[this.state.key]):null)}}]),e}(i.a.Component),ht=a(887),dt=(k.a.Option,{center:[100.7395539,13.6983666],zoom:8,altitudeScale:3.28,baseLayer:new S.a("base",{urlTemplate:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"],attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>'})}),ut=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).getOption=function(){return{maptalks3D:dt,series:[{type:"scatter3D",coordinateSystem:"maptalks3D",itemStyle:{color:"rgb(50, 50, 150)",opacity:1},data:a.state.data,symbolSize:function(t){return t[3]},label:{show:!0,formatter:function(t){return t[3]},position:"insideTop"}},{type:"lines3D",coordinateSystem:"maptalks3D",polyline:!0,data:a.state.data_line}]}},a.state={data:[],runway:[{name:"01R",lat:13.656697,long:100.751831},{name:"01L",lat:13.671278,long:100.734664},{name:"19L",lat:13.691714,long:100.761033},{name:"19R",lat:13.703669,long:100.743178}],checkedList:[],data_line:[],heavy:["A38","A35","A33","B74","B77","B78"],large:["A31","A32","B73","A20"],small:["AT7"]},a.data=t.data,a.time_pick=t.time_pick,a.name_pick=t.name,a.time=t.time,a.turn=t.turn,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){this.getData(this.data)}},{key:"timeStringToFloat",value:function(t){var e=t.split(":");return parseInt(e[0],10)+(e[1]?parseInt(e[1],10):0)/60+(e[2]?parseInt(e[2],10):0)/3600}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"interpolate",value:function(t,e,a,n,i){return(n-e)/(a-t)*(i-t)+e}},{key:"getData",value:function(t){for(var e,a,n,i,s,r,l,o,c,h,d=this.timeStringToFloat(w()(this.time_pick).format("HH:mm:ss")),u=[],m=[],f=[],p=0,g=0;g<t.length;g++){for(var y,v,b=0,_=1;_<t[g].data.coords.length;_++)if(e=this.timeStringToFloat(w()(t[g].data.coords[_-1][3]).format("HH:mm:ss")),a=this.timeStringToFloat(w()(t[g].data.coords[_][3]).format("HH:mm:ss")),d>=e&&d<=a){i=t[g].data.coords[_-1][0],o=t[g].data.coords[_][0],n=t[g].data.coords[_-1][1],l=t[g].data.coords[_][1],r=t[g].data.coords[_-1][2],h=t[g].data.coords[_][2],s=e,c=a,b=_-1;break}var S=this.interpolate(s,parseFloat(i),c,parseFloat(o),d),k=this.interpolate(s,parseFloat(n),c,parseFloat(l),d),D=this.interpolate(s,parseFloat(r),c,parseFloat(h),d);if("01R"===this.turn[g].runway?v=this.distance(this.state.runway[0].lat,this.state.runway[0].long,k,S):"01L"===this.turn[g].runway?v=this.distance(this.state.runway[1].lat,this.state.runway[1].long,k,S):"19L"===this.turn[g].runway?v=this.distance(this.state.runway[2].lat,this.state.runway[2].long,k,S):"19R"===this.turn[g].runway&&(v=this.distance(this.state.runway[3].lat,this.state.runway[3].long,k,S)),g<t.length-1&&0!==D&&v<15){var M,E;this.state.heavy.includes(t[g].data.aircraft)?(u.push([S,k,D,15,t[g].name]),M="heavy"):this.state.large.includes(t[g].data.aircraft)?(u.push([S,k,D,10,t[g].name]),M="large"):this.state.small.includes(t[g].data.aircraft)?(u.push([S,k,D,5,t[g].name]),M="small"):(u.push([S,k,D,10,t[g].name]),M="large"),E=this.state.heavy.includes(t[g+1].data.aircraft)?"heavy":this.state.large.includes(t[g+1].data.aircraft)?"large":this.state.small.includes(t[g+1].data.aircraft)?"small":"large";var O=0;"small"===M?O=3:"large"===M?O="small"===E?4:3:"heavy"===M&&(O="small"===E?6:"large"===E?5:4),y=this.distance(k,S,t[g].data.coords[b][1],t[g].data.coords[b][0]),f=[[S,k,D],[t[g].data.coords[b][0],t[g].data.coords[b][1],t[g].data.coords[b][2]]];for(_=b;_>1&&!((y+=this.distance(t[g].data.coords[_][1],t[g].data.coords[_][0],t[g].data.coords[_-1][1],t[g].data.coords[_-1][0]))>=O);_--)f.push([t[g].data.coords[_-1][0],t[g].data.coords[_-1][1],t[g].data.coords[_-1][2]]);f.length>2&&(p%2==0?(m.push({name:t[g].name,coords:f,lineStyle:{width:3,color:"#a6c84c",opacity:1}}),p+=1):p%2!=0&&(m.push({name:t[g].name,coords:f,lineStyle:{width:3,color:"#ffa022",opacity:1}}),p+=1))}else g===t.length-1&&v<15&&(this.state.heavy.includes(t[g].data.aircraft)?u.push([S,k,D,15,t[g].name]):this.state.large.includes(t[g].data.aircraft)?u.push([S,k,D,10,t[g].name]):this.state.small.includes(t[g].data.aircraft)&&u.push([S,k,D,5,t[g].name]))}var x=m.reverse();this.setState({data:u,data_line:x})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement(E,null,i.a.createElement(_.a,{option:this.getOption(),style:{width:"100%",height:800,border:"1px solid lightgray"}})))}}]),e}(i.a.Component),mt=k.a.Option,ft=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.onChange=function(t){a.setState({time_stamp:t})},a.state={runway:[{name:"01R",lat:13.656697,long:100.751831},{name:"01L",lat:13.671278,long:100.734664},{name:"19L",lat:13.691714,long:100.761033},{name:"19R",lat:13.703669,long:100.743178}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",aircraft:""}],distinct_time:[],distinct_name:[],data_point:[],select_date:!1,date_name:[],time_flight:[],time_stamp:"",time_default:"Select Time",date_default:"Select Date",flight_default:"Select Flight",real:"00:00:00",click:!1,pick:"00:00:00",name:null,time_real:[]},a.data=t.data,a.check=t.check,a.date=t.date,a.offsetScrollingRef=i.a.createRef(),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(t,e,a){var n=this.state.click;if(e.click!=n&&n){var i=this.offsetScrollingRef.current;i&&i.scrollIntoView({behavior:"smooth"})}}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"interpolate",value:function(t,e,a,n,i){return(n-e)/(a-t)*(i-t)+e}},{key:"timeStringToFloat",value:function(t){var e=t.split(":");return parseInt(e[0],10)+(e[1]?parseInt(e[1],10):0)/60+(e[2]?parseInt(e[2],10):0)/3600}},{key:"FloattoTime",value:function(t){var e=t%1*60,a=e%1*60;return t-t%1+":"+(e-e%1)+":"+(a-a%1)}},{key:"compute_newcoords",value:function(t,e){for(var a,n,i,s,r,l,o=[{name:"",time:"",data:[]}],c=[],h=0;h<t.length;h++){a=0,n=0,i=0,s=0,r=0,l=0;for(var d=1;d<t[h].coords.length;d++){if(n=t[h].coords[d-1][1],r=t[h].coords[d][1],i=t[h].coords[d-1][0],l=t[h].coords[d][0],e[0].lat>=n&&e[0].lat<=r&&e[0].long>=i&&e[0].long<=l){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));var u=e[0].lat,m=e[0].long,f="01R";break}if(e[1].lat>=n&&e[1].lat<=r&&e[1].long>=i&&e[1].long<=l){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[1].lat,m=e[1].long,f="01L";break}if(e[2].lat>=r&&e[2].lat<=n&&e[2].long>=l&&e[2].long<=i){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[2].lat,m=e[2].long,f="19L";break}if(e[3].lat>=r&&e[3].lat<=n&&e[3].long>=l&&e[3].long<=i){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[3].lat,m=e[3].long,f="19R";break}}var p=(this.interpolate(parseFloat(n),a,parseFloat(r),s,u)+this.interpolate(parseFloat(i),a,parseFloat(l),s,m))/2,g=w()(t[h].date,"DD/MM/YYYY").format("MM/DD/YYYY")+" "+this.FloattoTime(p),y=w()(g).toDate();o[h].name=t[h].name,o[h].time=y,o[h].timeint=p,o[h].data=t[h],o[h].runway=f,0!==p&&c.push(y.getHours()),h<t.length-1&&o.push({name:"",time:"",data:[]})}return{res:o,time:c}}},{key:"Date_onhandleChange",value:function(t,e){var a,n=[];this.setState({date_default:t,click:!1});for(var i=0;i<e.length;i++)e[i].date===String(t)&&n.push(e[i]);a=this.compute_newcoords(n,this.state.runway);var s=Object(v.a)(new Set(a.time)).sort((function(t,e){return t-e}));this.setState({distinct_time:s,date_name:a.res,time_default:"Select Time",flight_default:"Select Flight",real:"00:00:00"})}},{key:"compare",value:function(t,e){return t.timeint<e.timeint?-1:t.timeint>e.timeint?1:0}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});for(var a=[],n=0;n<e.length;n++)e[n].time.getHours()===parseInt(t)&&a.push(e[n]);a.sort(this.compare),this.setState({time_flight:a,distinct_name:a,flight_default:"Select Flight",real:"00:00:00"})}},{key:"checkselect",value:function(){for(var t=[],e=0;e<w()().hour();e++)t.push(e);return t}},{key:"Flight_onhandleChange",value:function(t,e){var a;this.setState({flight_default:t,click:!1});for(var n=0;n<e.length;n++)if(e[n].name===t){a=e[n];break}this.setState({real:a.time,name:a.name})}},{key:"onChange_picktime",value:function(t){var e=w.a.utc(t).toDate();this.setState({real:e,click:!1})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Date"},i.a.createElement(k.a,{placeholder:"Select Date",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.date_default,onChange:function(t){return e.Date_onhandleChange(t,e.data)}},this.date.map((function(t){return i.a.createElement(mt,{style:{fontSize:"1rem"},key:t},t)})))),"Select Date"!==this.state.date_default?i.a.createElement(D.a.Item,{label:"Time"},i.a.createElement(k.a,{placeholder:"Select Time",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.state.date_name)}},this.state.distinct_time.map((function(t){return i.a.createElement(mt,{style:{fontSize:"1rem"},key:t},t,".00 - ",t,".59")})))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default?i.a.createElement("div",null,i.a.createElement(D.a.Item,{label:"Flight no"},i.a.createElement(k.a,{placeholder:"Select Flight",style:{width:400,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.flight_default,onChange:function(t){return e.Flight_onhandleChange(t,e.state.time_flight)}},this.state.distinct_name.map((function(t){return i.a.createElement(mt,{style:{fontSize:"1rem"},key:t.name},t.name," time: ",w()(t.time).format("HH:mm:ss")," ")})))),i.a.createElement(D.a.Item,{label:"Time stamp"},i.a.createElement(ht.a,{defaultValue:w()("00:00:00","HH:mm:ss"),disabledHours:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]},value:w()(this.state.real,"HH:mm:ss"),onChange:function(t){return e.onChange_picktime(t)}}))):null,"Select Date"!==this.state.date_default&&"Select Time"!==this.state.time_default&&"Select Flight"!==this.state.flight_default?i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white"},onClick:this.search},"Search"):null)),i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{position:"absolute",top:-16},ref:this.offsetScrollingRef})),!0===this.state.click?i.a.createElement(ut,{data:this.state.time_flight,time_pick:this.state.real,name:this.state.name,turn:this.state.date_name}):null))}}]),e}(i.a.Component),pt=(k.a.Option,function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[["","",""]],date:"",aircraft:""}],arr:[{name:"",coords:[[]],date:"",aircraft:""}],distinct_date:[],distinct_time:[],select_date:!1,date_time:[],date_name:[],time_name:[],time_flight:[],check_data:!1,distinct_name:[]},a.test=t.data,a.check=t.check,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!0===this.check&&this.getData(this.test)}},{key:"componentWillUpdate",value:function(t){t.check!=this.check&&t.test!=this.test&&(console.log(this.check,"next ",t.check),!0===this.check&&this.getData(t.test))}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]]}];for(var e=0,a=t[0].name,n=t[0].name,i=this.uniqueNameFlight(a,t,n),s=[],r=0;r<i;r++){for(var l=e;l<=t.length;l++){var o=w()(String(t[l].date),"YYYY-MM-DD");if("-"===t[l].name){var c=this.distance(13.6902099,100.7449953,t[e].lat,t[e].long,"N"),h=this.distance(13.6902099,100.7449953,t[l-1].lat,t[l-1].long,"N"),d=w()(String(t[l-1].date),"YYYY-MM-DD"),u=w()(d).format("MM/DD/YYYY")+" "+t[l-1].time,m=w()(u).toDate(),f=w()(m).format("DD/MM/YYYY");c>h&&s.push(f),this.state.arr[r].date=f,e=l+1,this.state.arr[r].coords.pop();break}this.state.arr[r].coords.push([]),this.state.arr[r].name=t[l].name,this.state.arr[r].aircraft=t[l].aircraft;var p=w()(o).format("MM/DD/YYYY")+" "+t[l].time,g=w()(p).toDate();this.state.arr[r].coords[l-e].push(t[l].long),this.state.arr[r].coords[l-e].push(t[l].lat),this.state.arr[r].coords[l-e].push(.3048*t[l].altitude_ft),this.state.arr[r].coords[l-e].push(g)}r<i-1&&this.state.arr.push({name:"",coords:[[]],date:"",aircraft:""})}var y=Object(v.a)(new Set(s));y.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0})),this.setState({dataAll:this.state.arr,distinct_date:y})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Separate Visualization"),i.a.createElement(ft,{check:this.state.check,data:this.state.dataAll,date:this.state.distinct_date}))}}]),e}(i.a.Component)),gt=a(886),yt=a(13),vt=a(883);function bt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _t(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?bt(a,!0).forEach((function(e){Object(c.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}k.a.Option;var St=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).getColumnSearchProps=function(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,s=e.selectedKeys,r=e.confirm,l=e.clearFilters;return i.a.createElement("div",{style:{padding:8}},i.a.createElement(gt.a,{ref:function(t){a.searchInput=t},placeholder:"Search ".concat(t),value:s[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return a.handleSearch(s,r,t)},style:{width:188,marginBottom:8,display:"block"}}),i.a.createElement(y.a,{onClick:function(){return a.handleSearch(s,r,t)},size:"small",style:{width:90,marginRight:8,backgroundColor:"#b47b44",color:"white"}},"Search"),i.a.createElement(y.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(t){return i.a.createElement(yt.a,{type:"search",style:{color:t?"#1890ff":void 0}})},onFilter:function(e,a){return a[t].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return a.searchInput.select()}))}}},a.handleSearch=function(t,e,n){e(),a.setState({searchText:t[0],searchedColumn:n})},a.handleReset=function(t){t(),a.setState({searchText:""})},a.onChartClick=function(t,e){for(var n={num:t.data[0],data:[]},i=0;i<a.state.table.length;i++)if(i===t.seriesIndex)for(var s=0;s<a.state.table[i].length;s++)a.state.table[i][s].num===t.data[0]&&n.data.push(a.state.table[i][s].data);var r=[];if(0!==n.length)for(i=0;i<n.data.length;i++)r.push({date:w()(n.data[i][0].time).format("MM/DD/YYYY"),key:i,head:n.data[i][0].head,tail:n.data[i][0].tail});var l="Wake separation between "+t.seriesName+" at "+t.data[0]+" nmi";r.sort(a.compare),a.setState({data_table:r,click:!0,name_table:l})},a.getOption=function(){return{legend:{},tooltip:{},grid:[{width:"20%",height:"20%"},{width:"20%",height:"20%",right:"40%"},{width:"20%",height:"20%",right:"10%"},{width:"20%",height:"20%",bottom:"40%"},{width:"20%",height:"20%",right:"40%",bottom:"40%"},{width:"20%",height:"20%",right:"10%",bottom:"40%"},{width:"20%",height:"20%",bottom:"5%"},{width:"20%",height:"20%",right:"40%",bottom:"5%"},{width:"20%",height:"20%",right:"10%",bottom:"5%"}],xAxis:[{type:"value",gridIndex:0,name:"distance (nmi)"},{type:"value",gridIndex:1,name:"distance (nmi)"},{type:"value",gridIndex:2,name:"distance (nmi)"},{type:"value",gridIndex:3,name:"distance (nmi)"},{type:"value",gridIndex:4,name:"distance (nmi)"},{type:"value",gridIndex:5,name:"distance (nmi)"},{type:"value",gridIndex:6,name:"distance (nmi)"},{type:"value",gridIndex:7,name:"distance (nmi)"},{type:"value",gridIndex:8,name:"distance (nmi)"}],yAxis:[{type:"value",gridIndex:0,name:"number of flight"},{type:"value",gridIndex:1,name:"number of flight"},{type:"value",gridIndex:2,name:"number of flight"},{type:"value",gridIndex:3,name:"number of flight"},{type:"value",gridIndex:4,name:"number of flight"},{type:"value",gridIndex:5,name:"number of flight"},{type:"value",gridIndex:6,name:"number of flight"},{type:"value",gridIndex:7,name:"number of flight"},{type:"value",gridIndex:8,name:"number of flight"}],series:a.state.data_bar}},a.state={data:[],runway:[{name:"01R",lat:13.656697,long:100.751831},{name:"01L",lat:13.671278,long:100.734664},{name:"19L",lat:13.691714,long:100.761033},{name:"19R",lat:13.703669,long:100.743178}],checkedList:[],data_bar:[],heavy:["A38","A35","A33","B74","B77","B78"],large:["A31","A32","B73","A20"],small:["AT7"],table:[],data_table:[],click:!1,name_table:""},a.data=t.data,a.time_pick=t.time_pick,a.name_pick=t.name,a.time=t.time,a.turn=t.turn,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){this.getData(this.data)}},{key:"compute_newcoords",value:function(t,e){for(var a,n,i,s,r,l,o=[{name:"",time:"",data:[]}],c=[],h=0;h<t.length;h++){a=0,n=0,i=0,s=0,r=0,l=0;for(var d=1;d<t[h].coords.length;d++){if(n=t[h].coords[d-1][1],r=t[h].coords[d][1],i=t[h].coords[d-1][0],l=t[h].coords[d][0],e[0].lat>=n&&e[0].lat<=r&&e[0].long>=i&&e[0].long<=l){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));var u=e[0].lat,m=e[0].long,f="01R";break}if(e[1].lat>=n&&e[1].lat<=r&&e[1].long>=i&&e[1].long<=l){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[1].lat,m=e[1].long,f="01L";break}if(e[2].lat>=r&&e[2].lat<=n&&e[2].long>=l&&e[2].long<=i){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[2].lat,m=e[2].long,f="19L";break}if(e[3].lat>=r&&e[3].lat<=n&&e[3].long>=l&&e[3].long<=i){a=this.timeStringToFloat(w()(t[h].coords[d-1][3]).format("HH:mm:ss")),s=this.timeStringToFloat(w()(t[h].coords[d][3]).format("HH:mm:ss"));u=e[3].lat,m=e[3].long,f="19R";break}}var p=(this.interpolate(parseFloat(n),a,parseFloat(r),s,u)+this.interpolate(parseFloat(i),a,parseFloat(l),s,m))/2,g=w()(t[h].date,"DD/MM/YYYY").format("MM/DD/YYYY")+" "+this.FloattoTime(p),y=w()(g).toDate();o[h].name=t[h].name,o[h].time=y,o[h].timeint=p,o[h].data=t[h],o[h].runway=f,0!==p&&c.push(t[h].date),h<t.length-1&&o.push({name:"",time:"",data:[]})}return{res:o,time:c}}},{key:"timeStringToFloat",value:function(t){var e=t.split(":");return parseInt(e[0],10)+(e[1]?parseInt(e[1],10):0)/60+(e[2]?parseInt(e[2],10):0)/3600}},{key:"FloattoTime",value:function(t){var e=t%1*60,a=e%1*60;return t-t%1+":"+(e-e%1)+":"+(a-a%1)}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"interpolate",value:function(t,e,a,n,i){return(n-e)/(a-t)*(i-t)+e}},{key:"compare",value:function(t,e){return t.time<e.time?-1:t.time>e.time?1:0}},{key:"distribution",value:function(t){for(var e=[-2,-1,0,1,2,3,4,5,6,7,8],a=[-1,0,1,2,3,4,5,6,7,8,9],n=[[e,e,e],[a,e,e],[[1,2,3,4,5,6,7,8,9,10,11],[0,1,2,3,4,5,6,7,8,9,10],a]],i=[],s=0;s<t.length;s++)for(var r=0;r<t[s].length;r++){var l=n[s][r].map((function(e){return[e,t[s][r].filter((function(t){return t===e})).length]}));i.push(l)}return i}},{key:"getData",value:function(t){var e,a,n,i,s,r,l,o,c,h,d=this.compute_newcoords(t,this.state.runway);(t=d.res).sort(this.compare),Object(v.a)(new Set(d.time)).map((function(t){return{time:t,num:d.time.filter((function(e){return e===t})).length}})).sort(this.compare);for(var u=[[[],[],[]],[[],[],[]],[[],[],[]]],m=[[],[],[],[],[],[],[],[],[]],f=0;f<t.length-1;f++){var p;if(t[f].data.date===t[f+1].data.date&&0!==t[f].timeint){for(var g=1;g<t[f+1].data.coords.length;g++){if(e=this.timeStringToFloat(w()(t[f+1].data.coords[g-1][3]).format("HH:mm:ss")),a=this.timeStringToFloat(w()(t[f+1].data.coords[g][3]).format("HH:mm:ss")),t[f+1].timeint>=e&&t[f+1].timeint<=a){i=t[f+1].data.coords[g-1][0],o=t[f+1].data.coords[g][0],n=t[f+1].data.coords[g-1][1],l=t[f+1].data.coords[g][1],r=t[f+1].data.coords[g-1][2],h=t[f+1].data.coords[g][2],s=e,c=a;break}var y=this.interpolate(s,parseFloat(i),c,parseFloat(o),t[f+1].timeint),b=this.interpolate(s,parseFloat(n),c,parseFloat(l),t[f+1].timeint);this.interpolate(s,parseFloat(r),c,parseFloat(h),t[f+1].timeint)}if("01R"===t[f].runway?p=this.distance(this.state.runway[0].lat,this.state.runway[0].long,b,y):"01L"===t[f].runway?p=this.distance(this.state.runway[1].lat,this.state.runway[1].long,b,y):"19L"===t[f].runway?p=this.distance(this.state.runway[2].lat,this.state.runway[2].long,b,y):"19R"===t[f].runway&&(p=this.distance(this.state.runway[3].lat,this.state.runway[3].long,b,y)),p<9){var _,S;_=this.state.heavy.includes(t[f].data.aircraft)?"heavy":this.state.large.includes(t[f].data.aircraft)?"large":this.state.small.includes(t[f].data.aircraft)?"small":"large",this.state.heavy.includes(t[f+1].data.aircraft)?S="heavy":this.state.large.includes(t[f+1].data.aircraft)?S="large":this.state.small.includes(t[f+1].data.aircraft)?S="small":_="large";"small"===_?"small"===S?(u[0][0].push(Math.round(p)),m[0].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"large"===S?(u[0][1].push(Math.round(p)),m[1].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"heavy"===S&&(u[0][2].push(Math.round(p)),m[2].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"large"===_?"small"===S?(u[1][0].push(Math.round(p)),m[3].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"large"===S?(u[1][1].push(Math.round(p)),m[4].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"heavy"===S&&(u[1][2].push(Math.round(p)),m[5].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"heavy"===_&&("small"===S?(u[2][0].push(Math.round(p)),m[6].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"large"===S?(u[2][1].push(Math.round(p)),m[7].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})):"heavy"===S&&(u[2][2].push(Math.round(p)),m[8].push({num:Math.round(p),data:[{time:t[f].time,head:t[f].name,tail:t[f+1].name}]})))}}}var k=["Light and Light","Light and Medium","Light and Heavy","Medium and Light","Medium and Medium","Medium and Heavy","Heavy and Light","Heavy and Medium","Heavy and Heavy"],D=this.distribution(u),M=[];for(f=0;f<D.length;f++)M.push({data:D[f],name:k[f],xAxisIndex:f,yAxisIndex:f,type:"bar"});this.setState({data_bar:M,table:m})}},{key:"render",value:function(t){var e=this,a={click:this.onChartClick},n=[_t({title:"Date",dataIndex:"date",key:"date",width:"40%"},this.getColumnSearchProps("date")),_t({title:"Head",dataIndex:"head",key:"head",width:"30%"},this.getColumnSearchProps("head")),_t({title:"tail",dataIndex:"tail",key:"tail"},this.getColumnSearchProps("tail"))];return i.a.createElement("div",{className:"App"},i.a.createElement(_.a,{ref:function(t){e.echarts_react=t},option:this.getOption(),style:{marginTop:"1%",width:"80%",height:1e3,display:"inline-block"},onEvents:a}),i.a.createElement("h1",{style:{color:"#b47b44",margin:"3% 0 2% 0"}},this.state.name_table),!0===this.state.click?i.a.createElement(vt.a,{style:{width:"50%",display:"inline-block"},columns:n,dataSource:this.state.data_table,bordered:!0}):null)}}]),e}(i.a.Component),kt=k.a.Option,Dt=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).search=function(){a.setState({click:!0})},a.state={runway:[{name:"01R",lat:13.656697,long:100.751831},{name:"01L",lat:13.671278,long:100.734664},{name:"19L",lat:13.691714,long:100.761033},{name:"19R",lat:13.703669,long:100.743178}],arr:[{name:"",coords:[[]],date:"",time_1:"",time_2:"",aircraft:""}],distinct_time:[],data_point:[],select_date:!1,date_name:[],time_flight:[],time_stamp:"",time_default:"Select",unit_default:"Select Unit",click:!1,name:null,real:[],unit:["Date","Week","Month"]},a.data=t.data,a.check=t.check,a.date=t.date,a.week=t.week,a.month=t.month,a.year=t.year,a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"getDateOfWeek",value:function(t,e){return w()().day("Monday").year(e).week(t)}},{key:"Unit_onhandleChange",value:function(t,e,a,n){this.setState({unit_default:t,click:!1});var i,s,r=[],l=[],o=[],c=[];if("Date"===t){for(var h=0;h<e.length;h++)l.push([e[h],e[h]]);r=l}else if("Week"===t){for(h=0;h<a.length;h++)i=w()(this.getDateOfWeek(a[h],this.year)).format("DD/MM/YYYY"),s=w()(this.getDateOfWeek(a[h],this.year)).add(6,"days").format("DD/MM/YYYY"),o.push([a[h],i+"-"+s]);r=o}else{for(h=0;h<n.length;h++)c.push([n[h],w.a.months(n[h])]);r=c}this.setState({distinct_time:r,time_default:"Select"})}},{key:"Time_onhandleChange",value:function(t,e){this.setState({time_default:t,click:!1});var a=[];if("Week"===this.state.unit_default)for(var n=0;n<e.length;n++)String(e[n].week)===t&&a.push(e[n]);else if("Month"===this.state.unit_default)for(n=0;n<e.length;n++)String(e[n].month)===t&&a.push(e[n]);else for(n=0;n<e.length;n++)String(e[n].date)===t&&a.push(e[n]);this.setState({real:a})}},{key:"render",value:function(t){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"1%"}},i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Unit per"},i.a.createElement(k.a,{placeholder:"Select Unit",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.unit_default,onChange:function(t){return e.Unit_onhandleChange(t,e.date,e.week,e.month)}},this.state.unit.map((function(t){return i.a.createElement(kt,{style:{fontSize:"1rem"},key:t},t)})))),"Select Unit"!==this.state.unit_default?i.a.createElement(D.a.Item,{label:this.state.unit_default},i.a.createElement(k.a,{placeholder:"Select",style:{width:200,fontSize:"1.2rem",paddingRight:"100 px"},value:this.state.time_default,onChange:function(t){return e.Time_onhandleChange(t,e.data)}},this.state.distinct_time.map((function(t){return i.a.createElement(kt,{style:{fontSize:"1rem"},key:t[0]},t[1])})))):null,"Select Unit"!==this.state.unit_default&&"Select"!==this.state.time_default?i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white"},onClick:this.search},"Search"):null)),i.a.createElement("div",null,!0===this.state.click?i.a.createElement(St,{data:this.state.real}):null))}}]),e}(i.a.Component),Mt=(k.a.Option,function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={dataAll:[{name:"",coords:[["","",""]],date:"",aircraft:""}],arr:[{name:"",coords:[[]],date:"",aircraft:"",week:"",month:""}],distinct_date:[],distinct_week:[],distinct_month:[],select_date:!1,date_time:[],date_name:[],time_name:[],time_flight:[],check_data:!1,distinct_name:[],year:""},a.test=t.data,a.check=t.check,a.getData=a.getData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentWillMount",value:function(){!0===this.check&&this.getData(this.test)}},{key:"componentWillUpdate",value:function(t){t.check!=this.check&&t.test!=this.test&&(console.log(this.check,"next ",t.check),!0===this.check&&this.getData(t.test))}},{key:"uniqueNameFlight",value:function(t,e,a){for(var n=0,i=1;i<e.length;i++)"-"===e[i].name&&(n+=1);return n}},{key:"distance",value:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,l=e-n,o=Math.PI*l/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"===i&&(c*=1.609344),"N"===i&&(c*=.8684),c}},{key:"getData",value:function(t){this.state.arr=[{name:"",coords:[[]]}];for(var e=0,a=t[0].name,n=t[0].date,i=this.uniqueNameFlight(a,t,n),s=[],r=[],l=[],o=0;o<i;o++){for(var c=e;c<=t.length;c++){var h=w()(String(t[c].date),"YYYY-MM-DD");if("-"===t[c].name){var d=this.distance(13.6902099,100.7449953,t[e].lat,t[e].long,"N"),u=this.distance(13.6902099,100.7449953,t[c-1].lat,t[c-1].long,"N"),m=w()(String(t[c-1].date),"YYYY-MM-DD"),f=w()(m).format("MM/DD/YYYY")+" "+t[c-1].time,p=w()(f).toDate(),g=w()(p).format("DD/MM/YYYY"),y=w()(p).format("WW"),b=p.getFullYear();d>u&&(s.push(g),l.push(y),r.push(p.getMonth())),this.state.arr[o].date=g,this.state.arr[o].week=y,this.state.arr[o].month=p.getMonth(),e=c+1,this.state.arr[o].coords.pop();break}this.state.arr[o].coords.push([]),this.state.arr[o].name=t[c].name,this.state.arr[o].aircraft=t[c].aircraft;var _=w()(h).format("MM/DD/YYYY")+" "+t[c].time,S=w()(_).toDate();this.state.arr[o].coords[c-e].push(t[c].long),this.state.arr[o].coords[c-e].push(t[c].lat),this.state.arr[o].coords[c-e].push(.3048*t[c].altitude_ft),this.state.arr[o].coords[c-e].push(S)}o<i-1&&this.state.arr.push({name:"",coords:[[]],date:"",aircraft:"",week:"",month:""})}var k=Object(v.a)(new Set(s));k.sort((function(t,e){var a=t.split("/").reverse().join(),n=e.split("/").reverse().join();return a<n?-1:a>n?1:0}));var D=Object(v.a)(new Set(l)),M=Object(v.a)(new Set(r));this.setState({dataAll:this.state.arr,distinct_date:k,distinct_week:D,distinct_month:M,year:b})}},{key:"render",value:function(t){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{style:{color:"#b47b44",margin:"1% 0 1% 0"}},"Separate Analytics"),i.a.createElement(Dt,{check:this.state.check,data:this.state.dataAll,date:this.state.distinct_date,week:this.state.distinct_week,month:this.state.distinct_month,year:this.state.year}))}}]),e}(i.a.Component)),wt=[{key:"tab1",tab:"visualize"},{key:"tab2",tab:"analyze"}],Et=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(m.a)(e).call(this,t))).onTabChange=function(t,e){console.log(t,e),a.setState(Object(c.a)({},e,t))},a.handleChange=function(t){a.setState({csvfile:t.target.files[0],check:!1,upload:!1})},a.importCSV=function(){var t=a.state.csvfile;N.a.parse(t,{complete:a.updateData,header:!0})},a.state={key:"tab1",csvfile:void 0,data:null,check:!1,upload:!0},a.updateData=a.updateData.bind(Object(g.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"updateData",value:function(t){var e=t.data;this.setState({data:e,check:!0,key:"tab1"})}},{key:"render",value:function(){var t=this,e={tab1:i.a.createElement(pt,{check:this.state.check,data:this.state.data}),tab2:i.a.createElement(Mt,{check:this.state.check,data:this.state.data})};return i.a.createElement("div",{className:"importbar"},i.a.createElement("div",{style:{marginLeft:"80px"}},i.a.createElement("h2",null,"Import separate .csv file"),i.a.createElement("input",{className:"csv-input",type:"file",ref:function(e){t.filesInput=e},name:"file",placeholder:null,onChange:this.handleChange}),i.a.createElement(y.a,{style:{backgroundColor:"#b47b44",color:"white",marginTop:"1%",display:"flex"},onClick:this.importCSV,disabled:this.state.upload}," Upload now!")),!0===this.state.check?i.a.createElement(p.a,{style:{width:"100%",textAlign:"center"},tabList:wt,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")}},e[this.state.key]):null)}}]),e}(i.a.Component),Ot=(a(372),[{key:"tab1",tab:"Offset"},{key:"tab2",tab:"Holding"},{key:"tab3",tab:"Wake separate"}]),xt={tab1:i.a.createElement($,null),tab2:i.a.createElement(ct,null),tab3:i.a.createElement(Et,null)},Ct=function(t){function e(){var t,a;Object(h.a)(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={key:"tab1"},a.onTabChange=function(t,e){console.log(t,e),a.setState(Object(c.a)({},e,t))},a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"navbar"},i.a.createElement(p.a,{style:{width:"100%",fontSize:"2rem !important",backgroundColor:"#5886af",fontFamily:"Comic Sans MS"},tabList:Ot,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")}},xt[this.state.key]))}}]),e}(i.a.Component),jt=function(){return i.a.createElement(l.a,null,i.a.createElement(o.c,null,i.a.createElement(o.a,{path:""},i.a.createElement(Ct,null))))};a(880);r.a.render(i.a.createElement(jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[391,1,2]]]);
//# sourceMappingURL=main.2c24481f.chunk.js.map