{"version":3,"sources":["serviceWorker.js","BlockScrolling.js","mode/offset/visualize/offset.js","mode/offset/visualize/select_date.js","mode/offset/visualize/select_flight.js","mode/offset/visualize/select_data.js","mode/offset/analytics/arrival.js","mode/offset/analytics/feature.js","mode/offset/analytics/select_data.js","mode/offset/analytics/predata.js","mode/offset/offset.js","mode/holding/visualize/echart.js","mode/holding/visualize/select_data.js","mode/holding/visualize/detect_holding.js","mode/holding/analytics/select_data.js","mode/holding/analytics/detect_holding.js","mode/holding/analytics/read_reference.js","mode/holding/holding.js","mode/separate/visualize/separate.js","mode/separate/visualize/select_date.js","mode/separate/visualize/predata.js","mode/separate/analytics/separate.js","mode/separate/analytics/select_date.js","mode/separate/analytics/predata.js","mode/separate/separate.js","navbar.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","BlockScrolling","children","divRef","useRef","useEffect","ele","current","cancel","e","preventDefault","addEventListener","passive","removeEventListener","ref","Option","Select","map","center","zoom","altitudeScale","baseLayer","maptalks","urlTemplate","subdomains","attribution","FileReader","props","getOption","maptalks3D","series","type","coordinateSystem","itemStyle","color","opacity","data","state","scatter","symbolSize","label","show","formatter","position","effect","constantSpeed","trailWidth","trailLength","trailOpacity","polyline","lineStyle","width","checkedList","list","flight","check","name","what","getData","bind","this","value","data_select","data_scatter","setState","j","length","i","Math","floor","coords","push","result","mode","style","marginBottom","placeholder","onChange","onhandleChange","fontSize","key","option","height","border","React","Component","search","click","arr","date","time_1","time_2","week","distinct_date","distinct_time","select_date","date_time","date_name","time_name","time_flight","check_data","time_default","date_default","type_default","turn_default","real","checkbox","what_select","last","offsetScrollingRef","createRef","lat1","lon1","lat2","lon2","unit","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","data_time","String","distance","getHours","distinct","Set","sort","a","b","parseInt","before_state","data_departure","data_arrival","name_departure","name_arrival","prevProps","prevState","snapshot","scrollIntoView","behavior","layout","Item","paddingRight","Date_onhandleChange","Time_onhandleChange","Type_onhandleChange","onClick","backgroundColor","top","distinct_week","distinct_month","data_selected","unit_default","flight_default","year","data_month","data_week","getMonth","distinctMonth","month","moment","months","dateofweek1","dateofweek2","distinctWeek","getDateOfWeek","format","add","w","y","day","Name_onhandleChange","Unit_onhandleChange","disabled","button_search","dataAll","feature","select_feature","distinct_name","test","nextPorps","console","log","count","num","uniqueNameFlight","dataall_date","dataall_name","mydate","test1","time","time1","toDate","local","test2","time2","fullyear","getFullYear","pop","long","lat","altitude_ft","distinctName","aa","split","reverse","join","bb","className","margin","Feature_onhandleChange","xaxis","xyaxis","OffsetAnalyze","average","reduce","prev","curr","tooltip","trigger","toolbox","saveAsImage","title","xAxis","plot_xaxis","nameLocation","nameGap","nameTextStyle","axisLabel","interval","inside","yAxis","plot_yaxis","Option3nmi","text","select","plot_graph","distribute3nmi","Option5nmi","distribute5nmi","Option8nmi","distribute8nmi","csvfile","undefined","rawdata","plot","smooth","showSymbol","avg_arr","data_lateral","data_linegraph","x1","y1","x2","y2","diff_x","pow","diff_y","x","array","distribute","param","distance_min","value_min","distance_max","value_max","res","interpolate","isNaN","parseFloat","dis","init_arrdistribute_xy","no","no1","distance_xy","closest_xy","distributed","init_arrdistribute","arr_ref","ground","speed","closest","avg","altitude","lateral","altitude_nmi","k","xais","lateral_nmi","defaultValue","display","marginTop","turn","type_select","sum_west","sum_east","data_west","data_east","dis_check","start","Turn_onhandleChange","pre","tabList","tab","Mode","onTabChange","handleChange","event","target","files","upload","importCSV","Papa","parse","complete","updateData","header","contentList","tab1","tab2","marginLeft","input","filesInput","id","textAlign","activeTabKey","FileReader2","data_name","sum","arr_date","distinctDate","FileReader1","dataHoldingDist","normal","Idealdis","symbol","markLine","getOptiontime","dataHoldingTime","Idealtime","arr_select","data_select_name","heavy","large","small","point","lon","dataref","newdate","avg_time","selectdata","mydate1","mydate2","Diff","Date","timeStart","minDiff","datetime","data_dist","speed_size","speed_size_des","alldata","includes","aircraft","close","ideal","round","resIdeal","ideal_speedperhour","ideal_speed","resIdealtime","time_hold","time_non","status","data_line","runway","time_pick","name_pick","hoursMinutes","first","lat_min","lon_min","time_min","altitude_min","lat_max","lon_max","time_max","altitude_max","timepick","timeStringToFloat","line","coord","color_num","dis_runway","res_lon","res_lat","res_alt","head","follow","real_dis","rev","time_stamp","data_point","pick","time_real","min","seconds","first_lat","first_long","last_lat","last_long","point_lat","point_long","FloattoTime","timeint","compute_newcoords","compare","hours","hour","utc","Flight_onhandleChange","disabledHours","onChange_picktime","dis2","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","node","searchInput","onPressEnter","handleSearch","size","marginRight","handleReset","filterIcon","filtered","onFilter","record","toString","toLowerCase","onFilterDropdownVisibleChange","visible","setTimeout","searchText","searchedColumn","onChartClick","echarts","data_click","table","seriesIndex","tail","seriesName","data_table","name_table","legend","grid","right","bottom","gridIndex","data_bar","unique3","unique4","unique","data_distribute","duplicates","filter","str","data_array","graph_name","plot_data","distribution","xAxisIndex","yAxisIndex","onEvents","columns","echarts_react","dataSource","bordered","select_unit","arr_week","arr_month","tab3","Home","fontFamily","App","path","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2c24481f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useEffect, useRef } from 'react';\r\n\r\nexport default function BlockScrolling({ children }) {\r\n    const divRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const ele = divRef.current;\r\n        if (ele != null) {\r\n            const cancel = e => e.preventDefault();\r\n            ele.addEventListener(\"wheel\", cancel, { passive: false });\r\n            return () => ele.removeEventListener(\"wheel\", cancel);\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div ref={divRef} >\r\n            {children}\r\n        </div>\r\n    );\r\n}","import React, { createRef, useEffect } from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './offset.css'\r\nimport { Select,Checkbox } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport BlockScrolling from \"../../../BlockScrolling\";\r\n\r\nconst { Option } = Select;\r\n\r\nvar map = {\r\n    center: [100.7395539,13.6983666], //mahamek\r\n    zoom: 9,\r\n    // pitch: 100,\r\n    altitudeScale: 3.28,\r\n    baseLayer: new maptalks.TileLayer('base', {\r\n        urlTemplate: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',\r\n        subdomains: ['a','b','c','d'],\r\n        attribution: '&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>'\r\n    }),\r\n}\r\n\r\nvar dataplane = [\r\n    // {name:'MP19R-RYAUN', coords: [[100.7432,13.70367,0],\r\n    // [100.7694,13.80349,609.6],\r\n    // [100.7858,13.86579,762],\r\n    // [100.8056,13.94083,1066.8]]},\r\n    {name:'LOUIS-BS902', coords: [[100.7518,13.6567,0],\r\n    [100.7369,13.59995,10],\r\n    [100.798,13.51101,10],\r\n    [100.8975,13.51687,1828.8]]}\r\n]\r\n\r\nvar R = [[100.743178,13.703669,0]]\r\n\r\nvar centrallocat = [[100.7415433,13.6383389,23]]\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data : [],\r\n            checkedList: [],\r\n            list: [],\r\n            scatter: []\r\n        };\r\n        this.flight = props.data\r\n        this.check = props.name\r\n        this.what = props.what\r\n\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        if(this.what === \"Flight no\"){\r\n            this.getData(this.flight)\r\n        }\r\n\r\n    }\r\n\r\n    onhandleChange(value,data) {\r\n        // console.log(`selected ${value}`);\r\n        var data_select = []\r\n        var data_scatter = []\r\n        // console.log(value)\r\n        this.setState({checkedList : value})\r\n        for(var j=0;j<value.length;j++){\r\n            for(var i=0;i<data.length;i++){\r\n                if(data[i].name === value[j]){\r\n                    var state = Math.floor((data[i].coords.length)/2)\r\n                    //console.log(state)\r\n                    data_select.push(data[i])\r\n                    data_scatter.push([data[i].coords[state][0],data[i].coords[state][1],data[i].coords[state][2],data[i].name])\r\n                    // console.log(data[i])\r\n                }\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        this.setState({data : data_select,scatter:data_scatter})\r\n    }\r\n\r\n    getData(result){\r\n        this.setState({data : result})\r\n    }\r\n\r\n    getOption = () => ({\r\n        maptalks3D: map, \r\n        series: [\r\n            // {\r\n            //     type: 'lines3D',\r\n            //     coordinateSystem: 'maptalks3D',\r\n            //     polyline: true,\r\n            //     // silent: true,\r\n            //     lineStyle: {\r\n            //         width: 50,\r\n            //         color: 'red',\r\n            //         opacity: 0.3,\r\n            //     },\r\n            //     data: dataplane\r\n            // },\r\n            // {\r\n            //     type: 'lines3D',\r\n            //     coordinateSystem: 'maptalks3D',\r\n            //     polyline: true,\r\n            //     // silent: true,\r\n            //     lineStyle: {\r\n            //         width: 5,\r\n            //         color: 'red',\r\n            //         opacity: 0.7,\r\n            //     },\r\n            //     data: dataplane\r\n            // },\r\n            // {\r\n            //     type: 'bar3D',\r\n            //     coordinateSystem: 'maptalks3D',\r\n            //     shading: 'lambert',\r\n            //     data: centrallocat,\r\n            //     barSize: 1.2,\r\n            //     minHeight: 0.2,\r\n            //     silent: true,\r\n            //     itemStyle: {\r\n            //         color: 'orange'\r\n            //         // opacity: 0.8\r\n            //     }\r\n            // },\r\n            // {\r\n            //     type: 'scatter3D',\r\n            //     coordinateSystem: 'maptalks3D',\r\n            //     itemStyle: {\r\n            //         color: 'rgb(50, 50, 150)',\r\n            //         opacity: 1\r\n            //     },\r\n            //     data: R,\r\n            //     symbolSize: 10,\r\n            // },\r\n            {\r\n                type: 'scatter3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                itemStyle: {\r\n                    color: 'rgb(50, 50, 150)',\r\n                    opacity: 1\r\n                },\r\n                data: this.state.scatter,\r\n                symbolSize: 1,\r\n                label: {\r\n                    show: true,\r\n                    formatter: function (data) {\r\n                        return data[3];\r\n                    },\r\n                    position: 'insideTop'\r\n                },\r\n            },\r\n            {\r\n                type: 'lines3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                effect: {\r\n                    show: true,\r\n                    constantSpeed: 40,\r\n                    trailWidth: 2,\r\n                    trailLength: 0.05,\r\n                    trailOpacity: 1,\r\n                },\r\n                // label: {\r\n                //     show: true,\r\n                //     formatter: function (data) {\r\n                //         return data.name;\r\n                //     },\r\n                //     position: 'insideTop'\r\n                // },\r\n                //blendMode: 'lighter',\r\n                polyline: true,\r\n                lineStyle: {\r\n                    width: 2,\r\n                    color: 'rgb(50, 60, 170)',\r\n                    opacity: 0.5\r\n                },\r\n                data: this.state.data \r\n            }\r\n        ],\r\n    });\r\n  \r\n    render(props) {\r\n    //   console.log(this.flight);\r\n      return (\r\n        <div>\r\n            {this.what === \"Date\" ?\r\n            <Select\r\n                mode=\"multiple\"\r\n                style={{ width: '50%',marginBottom:'2%' }}\r\n                placeholder=\"Please select flight\"\r\n                value={this.state.checkedList}\r\n                // defaultValue={['a10', 'c12']}\r\n                onChange={e => this.onhandleChange(e,this.flight)}\r\n                //options={this.check}\r\n            >\r\n                {this.check.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                ))}\r\n            </Select>\r\n            :\r\n                null\r\n            }\r\n            {/* <Checkbox.Group options={this.check}  value={this.state.checkedList} onChange={e => this.onhandleChange(e,this.flight)}/> */}\r\n            <BlockScrolling>\r\n                <ReactEcharts option={this.getOption()} style={{width:'100%', height:800, border:'1px solid lightgray'}} />\r\n            </BlockScrolling>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    name: PropTypes.array,\r\n    what: PropTypes.string\r\n    // check_data: PropTypes.bool\r\n  };\r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './select.css'\r\nimport { Select,Button,Form  } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Offset from './offset';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                week:''\r\n            }],\r\n            distinct_date : [],\r\n            distinct_time : [],\r\n            select_date : false,\r\n            date_time : [],\r\n            date_name : [],\r\n            time_name : [],\r\n            time_flight : [],\r\n            check_data : false,\r\n            time_default : \"Select Time\",\r\n            date_default : \"Select Date\",\r\n            type_default : \"Select Section\",\r\n            turn_default : \"Select Turn Direction\",\r\n            type : ['Departure','Arrival'],\r\n            real : [],\r\n            click : false,\r\n            checkbox : [],\r\n            what_select : \"Date\",\r\n            last: null\r\n            // button_search: true\r\n            // checkedList: [],\r\n        };\r\n        this.data = props.data\r\n        this.check = props.check\r\n        this.date = props.date\r\n\r\n\r\n        this.offsetScrollingRef = React.createRef();\r\n        // this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n  \r\n    Date_onhandleChange(value,data) {\r\n        var data_select = []\r\n        var data_time = []\r\n        var dis,dis2\r\n        this.setState({date_default:value,click:false})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            dis = 0\r\n            dis2 = 0\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].date === String(value)){\r\n                data_select.push(data[i])\r\n                var state = data[i].coords.length-1\r\n                // console.log(state)\r\n                dis = this.distance(13.6902099,100.7449953,data[i].coords[0][1], data[i].coords[0][0], \"N\")\r\n                dis2 = this.distance(13.6902099,100.7449953,data[i].coords[state][1], data[i].coords[state][0], \"N\")\r\n                if(dis < dis2) data_time.push(data[i].time_1.getHours())\r\n                else{\r\n                    data_time.push(data[i].time_2.getHours())\r\n                }\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_time)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        var distinct = [...new Set(data_time)].sort(function(a, b){return a-b})\r\n\r\n        this.setState({distinct_time : distinct, date_name:data_select, time_default:\"Select Time\",type_default:\"Select Section\"})\r\n    }\r\n\r\n    Time_onhandleChange(value,data) {\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            if(data[i].time_1.getHours() === parseInt(value) || data[i].time_2.getHours() === parseInt(value)){\r\n                data_select.push(data[i])\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        this.setState({time_flight : data_select,type_default:\"Select Section\"})\r\n    }\r\n\r\n    Type_onhandleChange(value,data) {\r\n\r\n        var before_state = this.state.type_default\r\n        this.setState({type_default:value,click:false,last:before_state})\r\n        // console.log(this.state.type_default,this.state.last)\r\n        var data_select = []\r\n        var name = []\r\n        var data_departure = []\r\n        var data_arrival = []\r\n        var name_departure = []\r\n        var name_arrival = []\r\n        var sumdeparture;\r\n        var sumarrival;\r\n        var dis,dis2;\r\n\r\n        for(var i=0;i<data.length;i++){\r\n            sumdeparture = 0\r\n            sumarrival = 0\r\n            var state = data[i].coords.length-1\r\n            // console.log(state)\r\n            dis = this.distance(13.6902099,100.7449953,data[i].coords[0][1], data[i].coords[0][0], \"N\")\r\n            dis2 = this.distance(13.6902099,100.7449953,data[i].coords[state][1], data[i].coords[state][0], \"N\")\r\n            // console.log('dis',dis,dis2)\r\n            if(dis < dis2) {\r\n                data_departure.push(data[i])\r\n                name_departure.push(data[i].name)\r\n            }\r\n            else {\r\n                data_arrival.push(data[i])\r\n                name_arrival.push(data[i].name) \r\n            }\r\n        }\r\n        //console.log(data_departure , data_arrival)\r\n        if(value === 'Departure'){\r\n            data_select = data_departure\r\n            name = name_departure\r\n        }\r\n        else{\r\n            data_select = data_arrival\r\n            name = name_arrival\r\n        }\r\n\r\n        // if(this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.type_default !== 'Select Type'){\r\n        //     this.setState({button_search:false})\r\n        // }\r\n\r\n\r\n        this.setState({real : data_select ,checkbox:name})\r\n    }\r\n  \r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const { click } = this.state;\r\n        if (prevState.click != click && click) {\r\n            const { current } = this.offsetScrollingRef;\r\n            if (current) {\r\n                current.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    render(props) {\r\n        // console.log(this.data)\r\n      return (\r\n        <div>\r\n            <div style={{marginBottom:'1%'}}>\r\n            <Form layout=\"inline\">\r\n                {/* <Form layout=\"inline\"> */}\r\n                    <Form.Item label=\"Date\">\r\n                    <Select placeholder=\"Select Date\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.date_default} onChange={e => this.Date_onhandleChange(e,this.data)}>\r\n                        {this.date.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                {/* </Form> */}\r\n\r\n                {this.state.date_default !== 'Select Date' ?\r\n                    <Form.Item label=\"Time\">\r\n                    <Select placeholder=\"Select Time\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.state.date_name)}>\r\n                        {this.state.distinct_time.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}.00 - {flight}.59</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                : null}\r\n                {/* </Form> */}\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' ?\r\n                    <Form.Item label=\"Section\">\r\n                    <Select placeholder=\"Select Section\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.type_default} onChange={e => this.Type_onhandleChange(e,this.state.time_flight)}>\r\n                        {this.state.type.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                : null}\r\n                {/* </Form> */}\r\n                {/* <Select placeholder=\"Select Turn Direction\" disabled style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.type_default} onChange={e => this.Type_onhandleChange(e,this.state.time_flight)}>\r\n                    {this.state.type.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select> */}\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.type_default !== 'Select Section' ?\r\n                <Button onClick={this.search} style={{backgroundColor:'#b47b44',color:'white'}}>Search</Button> : null}\r\n                </Form>\r\n            </div>\r\n            <div style={{marginBottom:'1%'}}>\r\n                <div style={{ position: \"relative\" }}>\r\n                    <div style={{ position: \"absolute\", top: -16 }} ref={this.offsetScrollingRef} />\r\n                </div>\r\n                {this.state.click === true ? \r\n                // {/* {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.type_default !== 'Select Type' && this.state.last !== this.state.type_default? */}\r\n                <Offset data={this.state.real} name={this.state.checkbox} what={this.state.what_select}/>\r\n                : null}\r\n            </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool,\r\n    date: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './select.css'\r\nimport { Select,Button,Form  } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Offset from './offset';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                week:''\r\n            }],\r\n            distinct_week : [],\r\n            distinct_month : [],\r\n            data_selected : [],\r\n            check_data : false,\r\n            time_default : \"Select\",\r\n            unit_default : \"Select Unit\",\r\n            flight_default : \"Select Flight no\",\r\n            unit : ['Week','Month'],\r\n            real : [],\r\n            click : false,\r\n            checkbox : [],\r\n            distinct_time : [],\r\n            what_select : \"Flight no\"\r\n            // checkedList: [],\r\n        };\r\n        this.data = props.data\r\n        this.check = props.check\r\n        this.name = props.name\r\n        this.year = props.year\r\n\r\n        this.offsetScrollingRef = React.createRef();\r\n\r\n        // this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const { click } = this.state;\r\n        if (prevState.click != click && click) {\r\n            const { current } = this.offsetScrollingRef;\r\n            if (current) {\r\n                current.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n        }\r\n    }\r\n  \r\n    Name_onhandleChange(value,data) {\r\n        var data_select = []\r\n        var data_month = []\r\n        var data_week = []\r\n        this.setState({flight_default:value,click:false})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].name === value){\r\n                data_select.push(data[i])\r\n                data_month.push(data[i].time_1.getMonth())\r\n                data_week.push(data[i].week)\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        var distinctMonth = [...new Set(data_month)]\r\n        var month = []\r\n        for(var i=0;i<distinctMonth.length;i++){\r\n            month.push([distinctMonth[i],moment.months(distinctMonth[i])])\r\n        }\r\n\r\n        var distinctWeek = [...new Set(data_week)]\r\n        var week = []\r\n        var dateofweek1,dateofweek2;\r\n        for(var i=0;i<distinctWeek.length;i++){\r\n            dateofweek1 = moment(this.getDateOfWeek(distinctWeek[i],this.year)).format('DD/MM/YYYY')\r\n            dateofweek2 = moment(this.getDateOfWeek(distinctWeek[i],this.year)).add(6,'days').format('DD/MM/YYYY')\r\n            week.push([distinctWeek[i],dateofweek1+'-'+dateofweek2])\r\n            // moment(this.getDateOfWeek(distinctWeek[i],2019)).format('DD/MM/YYYY')\r\n        }\r\n        // console.log(week)\r\n\r\n        this.setState({data_selected:data_select, distinct_month : month, distinct_week:week, time_default:\"Select\", unit_default:\"Select Unit\"})\r\n    }\r\n\r\n    getDateOfWeek(w, y) {\r\n        return moment().day(\"Monday\").year(y).week(w)\r\n    }\r\n\r\n    Unit_onhandleChange(value) {\r\n        this.setState({unit_default:value,click:false})\r\n        var data_select = null\r\n        // console.log(data)\r\n        if(value === \"Week\"){\r\n            data_select = this.state.distinct_week\r\n        }\r\n        else{\r\n            data_select = this.state.distinct_month\r\n        }\r\n        this.setState({distinct_time:data_select, time_default:\"Select\"})\r\n    }\r\n\r\n    Time_onhandleChange(value,data) {\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        if(this.state.unit_default === \"Week\"){\r\n            for(var i=0;i<data.length;i++){\r\n                // console.log(data[i].week, \"vs\" , value)\r\n                if(String(data[i].week) === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            for(var i=0;i<data.length;i++){\r\n                // console.log(data[i].time_1.getMonth(), \"vs\" , value)\r\n                if(String(data[i].time_1.getMonth()) === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log(data_select)\r\n        this.setState({real : data_select})\r\n\r\n    }\r\n  \r\n    render(props) {\r\n        // console.log(this.data)\r\n      return (\r\n          <div>\r\n            <div>\r\n                <Form layout=\"inline\">\r\n                    <Form.Item label=\"Flight no\">\r\n                    <Select placeholder=\"Select Flight no\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.flight_default} onChange={e => this.Name_onhandleChange(e,this.data)}>\r\n                        {this.name.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                    {this.state.flight_default !== 'Select Flight no' ?\r\n                    <Form.Item label=\"Unit per\">\r\n                    <Select placeholder=\"Select Unit\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.unit_default} onChange={e => this.Unit_onhandleChange(e)}>\r\n                        {this.state.unit.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                    : null}\r\n                    {this.state.flight_default !== 'Select Flight no' && this.state.unit_default !== 'Select Unit' ?\r\n                    <Form.Item label={this.state.unit_default}>\r\n                    <Select placeholder=\"Select\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.state.data_selected)}>\r\n                        {this.state.distinct_time.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight[0]}>{flight[1]}</Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                    : null}\r\n                    {this.state.flight_default !== 'Select Flight no' && this.state.unit_default !== 'Select Unit' && this.state.time_default !== 'Select' ?\r\n                    <Button onClick={this.search} disabled={this.state.button_search} style={{backgroundColor:'#b47b44',color:'white'}}>Search</Button> : null}\r\n                    {/* <Button onClick={this.search}>Search</Button> */}\r\n                </Form>\r\n            </div>\r\n            <div>\r\n                <div style={{ position: \"relative\" }}>\r\n                    <div style={{ position: \"absolute\", top: -16 }} ref={this.offsetScrollingRef} />\r\n                </div>\r\n                {this.state.click === true ? \r\n                <Offset data={this.state.real} name={this.state.checkbox} what={this.state.what_select}/>\r\n                : null}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool,\r\n    name: PropTypes.array,\r\n    year: PropTypes.number\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './select.css'\r\nimport { Select,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport SelectDate from './select_date';\r\nimport SelectFlight from './select_flight';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [['', '', '']],date:'',time_1:'',time_2:'',week:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                week:''\r\n            }],\r\n            distinct_date : [],\r\n            distinct_time : [],\r\n            select_date : false,\r\n            date_time : [],\r\n            date_name : [],\r\n            time_name : [],\r\n            time_flight : [],\r\n            check_data : false,\r\n            time_default : \"Select Time\",\r\n            unit_default : \"Select Unit\",\r\n            flight_default : \"Select Flight no\",\r\n            date_default : \"Select Date\",\r\n            type_default : \"Select Type\",\r\n            feature : ['Date','Flight no'],\r\n            unit : ['Week','Month'],\r\n            type : ['Departure','Arrival'],\r\n            select_feature : \"Date\",\r\n            distinct_name : [],\r\n            year:''\r\n        };\r\n        this.test = props.data\r\n        this.check = props.check\r\n\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n  \r\n\r\n    componentWillMount(){\r\n        if(this.check === true){\r\n            this.getData(this.test)\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUpdate(nextPorps){\r\n        if(nextPorps.check != this.check && nextPorps.test != this.test){\r\n            console.log(this.check , 'next ', nextPorps.check )\r\n            if(this.check === true){\r\n                this.getData(nextPorps.test)\r\n            }\r\n        }\r\n        // console.log('willl')\r\n    }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    Feature_onhandleChange(value) {\r\n        this.setState({select_feature:value,date_default:\"Select Date\",flight_default:\"Select Flight no\",\r\n    time_default: \"Select Time\", unit_default:\"Select Unit\",type_default:\"Select Type\"})\r\n    // this.getData(this.test)\r\n    }\r\n\r\n    getData(result) {\r\n        this.state.arr = [{\r\n            name:'',\r\n            coords: [[]]\r\n        }]\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].name\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dataall_date = []\r\n        var dataall_name = []\r\n        var data_check_time_date = []\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            //console.log(j)\r\n            var mydate = moment(String(result[num].date), 'YYYY-MM-DD');\r\n            // console.log(mydate)\r\n            dataall_name.push(result[num].name)\r\n            for(var i=num;i<=result.length;i++){\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n\r\n                    var test1 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[num].time\r\n                    var time1 = moment(test1).toDate();\r\n                    var local = moment(time1).format('DD/MM/YYYY');\r\n                    //console.log(time1)\r\n                    dataall_date.push(local)\r\n                    var test2 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    var time2 = moment(test2).toDate();\r\n                    var week = moment(time1).format('WW')\r\n                    var fullyear = time1.getFullYear()\r\n                    // console.log('week ',week)\r\n                    this.state.arr[j].date = local\r\n                    this.state.arr[j].time_1 = time1\r\n                    this.state.arr[j].time_2 = time2\r\n                    this.state.arr[j].week = week\r\n                    // console.log('time',time2)\r\n                    // data_check_time_date.push({name: result[num].name,date: date,time_1:time1,time_2:time2})\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    break;\r\n                }\r\n                this.state.arr[j].coords.push([])\r\n                this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].coords[i-num].push(result[i].long)\r\n                this.state.arr[j].coords[i-num].push(result[i].lat)\r\n                this.state.arr[j].coords[i-num].push(result[i].altitude_ft*0.3048)\r\n            }\r\n            // console.log(j)\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]],date:'',time_1:'',time_2:'',week:''})\r\n            }\r\n        }\r\n\r\n        var distinct = [...new Set(dataall_date)]\r\n        var distinctName = [...new Set(dataall_name)]\r\n        distinct.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n\r\n        this.setState({dataAll: this.state.arr,distinct_date:distinct,distinct_name:distinctName,year:fullyear});\r\n    }\r\n  \r\n    render(props) {\r\n      return (\r\n        <div className=\"App\">\r\n            <h1 style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Offset Visualization</h1>\r\n            <Form layout=\"inline\">\r\n                <Form.Item label=\"Fliter by\">\r\n                    <Select placeholder=\"Select Feature\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" , marginBottom:'2%'}} value={this.state.select_feature} onChange={e => this.Feature_onhandleChange(e)}>\r\n                        {this.state.feature.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n            </Form>\r\n                \r\n                { this.state.select_feature === 'Date' ?\r\n                <SelectDate check={this.state.check} data={this.state.dataAll} date={this.state.distinct_date}/>\r\n                : \r\n                <SelectFlight check={this.state.check} data={this.state.dataAll} name={this.state.distinct_name} year={this.state.year}/>\r\n                }\r\n            \r\n            {/* {this.state.check_data === true ?\r\n            <Offset flight={this.state.flight} check_data={this.state.check_data}/>: null } */}\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './offset.css'\r\nimport * as d3 from 'd3-request';\r\n// import url from '../data/data_flight.csv';\r\n//import url from '../data/data_arrival.csv';\r\nimport Papa from 'papaparse'\r\nimport echarts from 'echarts'\r\nimport { Select,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n// import 'antd/dist/antd.css';\r\n\r\nconst { Option } = Select;\r\n\r\nvar xaxis = ['Altitude (ft)','Lateral Dispersion (nmi)','Groungspeed (kts)']\r\nvar xyaxis = [['Altitude (ft)','Ground Track Distance (nmi)'],['North-South Distance (nmi)','East-West Distance (nmi)'],['Groungspeed (kts)','Ground Track Distance (nmi)']]\r\n\r\nclass OffsetAnalyze extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            csvfile: undefined,\r\n            rawdata : null,\r\n            select : \"altitude\",\r\n            data : [],\r\n            plot : [],\r\n            arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}],\r\n            avg_arr : {name:'avg', type: 'line',smooth: true,lineStyle:{color:'#CB4335'},showSymbol:false,data:[]},\r\n            distribute3nmi : [],\r\n            distribute5nmi : [],\r\n            distribute8nmi : [],\r\n            plot_graph: null,\r\n            plot_xaxis: null,\r\n            plot_yaxis: null,\r\n            check : false\r\n        };\r\n\r\n        this.test = props.data\r\n        // this.type = props.type\r\n\r\n        this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        if(this.test.length !== 0){\r\n            this.getData()\r\n            this.setState({check : true})\r\n        }\r\n    }\r\n\r\n    onhandleChange(value) {\r\n        this.setState({select : value})\r\n        if (value == 'lateral'){\r\n            this.data_lateral(this.test,value)\r\n            this.setState({plot_graph:xaxis[1],plot_xaxis:xyaxis[1][1],plot_yaxis:xyaxis[1][0]})\r\n        }\r\n        else{\r\n            if(value === 'speed') this.setState({plot_graph:xaxis[2],plot_xaxis:xyaxis[2][1],plot_yaxis:xyaxis[2][0]})\r\n            else this.setState({plot_graph:xaxis[0],plot_xaxis:xyaxis[0][1],plot_yaxis:xyaxis[0][0]})\r\n            this.data_linegraph(this.test,value)\r\n        }\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684}\r\n            // console.log('nmi') }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    distance_xy(x1,y1,x2,y2){\r\n        var diff_x = Math.pow(x1-x2,2)\r\n        var diff_y = Math.pow(y1-y2,2)\r\n        return Math.pow(diff_x+diff_y, 0.5) \r\n    }\r\n\r\n    interpolate(x1,y1,x2,y2,x){\r\n        var diff = ((y2-y1)/(x2-x1))*(x-x1)\r\n        var res = diff+y1\r\n        return res\r\n    }\r\n\r\n    closest(array,num,distribute,param){\r\n        var distance_min;\r\n        var value_min;\r\n        var distance_max;\r\n        var value_max;\r\n        var res;\r\n        for(var i=1;i<array.length;i++){\r\n            // console.log('arr' , array[i],array[i-1] , ' num:' , num)\r\n            if(num > array[i][0] && num < array[i-1][0]){\r\n                distance_min=array[i-1][0]; \r\n                value_min=array[i-1][1];\r\n                distance_max=array[i][0]; \r\n                value_max=array[i][1];\r\n            }\r\n        }\r\n        // console.log(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        res = this.interpolate(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        // console.log(res)\r\n        if(isNaN(res)) return distribute\r\n        distribute[param].data.push(res)\r\n        return distribute;\r\n    }\r\n\r\n    closest_xy(array,num,distribute,param){\r\n        // console.log(num)\r\n        var distance_min;\r\n        var value_min;\r\n        var distance_max;\r\n        var value_max;\r\n        var x,y;\r\n        for(var i=1;i<array.length;i++){\r\n            // console.log('arr' , array[i],array[i-1])\r\n            if(num > array[i-1][0] && num < array[i][0]){\r\n                distance_min=array[i-1][0]; \r\n                value_min=array[i-1][1];\r\n                distance_max=array[i][0]; \r\n                value_max=array[i][1];\r\n                break\r\n            }\r\n        }\r\n        if(value_min === undefined || value_max === undefined){\r\n            return distribute;\r\n        }\r\n        // console.log(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        x = this.interpolate(distance_min,parseFloat(value_min[0]),distance_max,parseFloat(value_max[0]),num)\r\n        y = this.interpolate(distance_min,parseFloat(value_min[1]),distance_max,parseFloat(value_max[1]),num)\r\n        distribute[param].x.push(x)\r\n        distribute[param].y.push(y)\r\n        distribute[param].data.push([x,y])\r\n        return distribute;\r\n    }\r\n\r\n    init_arrdistribute(distribute){\r\n        // distribute.push({dis:0,data:[]})\r\n        for(var i=-0.5;i>=-17;i-=0.5){\r\n            distribute.push({dis:i,data:[]})\r\n        }\r\n    }\r\n\r\n    init_arrdistribute_xy(distribute){\r\n        // distribute.push({dis:0,data:[]})\r\n        for(var i=1;i<20;i+=1){\r\n            distribute.push({dis:i,x:[],y:[],data:[]})\r\n        }\r\n    }\r\n\r\n    average = list => list.reduce((prev, curr) => prev + curr) / list.length;\r\n\r\n    data_lateral(result,value){\r\n        // this.setState({arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]})\r\n        this.state.arr = [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]\r\n        var long_origin = 100.743178;\r\n        var lat_origin = 13.703669;\r\n        var dist = [{name:'',data:[[]]}]\r\n        var distribute = []\r\n        this.init_arrdistribute_xy(distribute)\r\n        var x1,y1,x2,y2;\r\n        for(var i=0;i<result.length;i++){\r\n            var dis = 0; var no = 0; var no1 = 0;\r\n            // for(var j=1;j<result[i].coords.length;j++){\r\n            for(var j=result[i].coords.length-1;j>1;j--){\r\n                x1 = -(((result[i].coords[j-1].lat - lat_origin)*(0.01745329251*6371))*0.539957)\r\n                y1 = (((result[i].coords[j-1].long - long_origin)*(0.01745329251*6371)*Math.cos(result[i].coords[j-1].lat*0.01745329251))*0.539957)\r\n                x2 = -(((result[i].coords[j].lat - lat_origin)*(0.01745329251*6371))*0.539957)\r\n                y2 = (((result[i].coords[j].long - long_origin)*(0.01745329251*6371)*Math.cos(result[i].coords[j].lat*0.01745329251))*0.539957)\r\n                dis = dis + this.distance_xy(x1,y1,x2,y2)\r\n                // console.log('check',dis,x1,y1,x2,y2)\r\n                // y = (((result[i].coords[j].lat - lat_origin)*(0.01745329251*6371))*0.539957)\r\n                // x = (((result[i].coords[j].long - long_origin)*(0.01745329251*6371)*Math.cos(result[i].coords[j].lat*0.01745329251))*0.539957)\r\n                if(dis < 20){\r\n                    //console.log(i)\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    if(x1 < 0){\r\n                        this.state.arr[i].data[no].push(x1)\r\n                        this.state.arr[i].data[no].push(y1)\r\n                        no++\r\n                    }\r\n                }\r\n                if(dis < 50){\r\n                    dist[i].name = result[i].name\r\n                    dist[i].data.push([])\r\n                    dist[i].data[no1].push(dis)\r\n                    dist[i].data[no1].push([x1,y1])\r\n                    no1++\r\n                }\r\n                // if( (y>-20 && y<6) && (x>-4 && x<20) ){\r\n                //     // console.log((result[i].coords.length-1)-j)\r\n                //     this.state.arr[i].data.push([])\r\n                //     this.state.arr[i].name = result[i].name\r\n                //     this.state.arr[i].data[no].push(x)\r\n                //     this.state.arr[i].data[no].push(y)\r\n                //     dist[i].name = result[i].name\r\n                //     dist[i].data.push([])\r\n                //     var dis = this.distance_xy(this.state.arr[i].data[no][0],x,this.state.arr[i].data[no][1],y)\r\n                //     dist[i].data[no].push(dis)\r\n                //     dist[i].data[no].push([x,y])\r\n                //     no += 1\r\n                // }\r\n            }\r\n            // console.log(this.state.arr)\r\n            // console.log(dist)\r\n            for(var j=0;j<distribute.length;j++){\r\n                this.closest_xy(dist[i].data,distribute[j].dis,distribute,j)\r\n            }\r\n            //console.log(distribute)\r\n            if(i < result.length-1){\r\n                this.state.arr.push({name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]})\r\n                dist.push({name:'',data:[[]]})\r\n            }\r\n        }\r\n        // console.log(distribute)\r\n        this.state.avg_arr.data = []\r\n        // this.state.avg_arr.data.push([0,0])\r\n        var num = 0\r\n        for(var i=0;i<distribute.length;i++){\r\n            if(distribute[i].data.length !== 0){\r\n                this.state.avg_arr.data.push([])\r\n                this.state.avg_arr.data[num].push(this.average(distribute[i].x),this.average(distribute[i].y))\r\n                num++\r\n            }\r\n        }\r\n        console.log(this.state.avg_arr)\r\n        console.log(distribute)\r\n        // console.log(this.state.avg_arr)\r\n        this.state.arr.push(this.state.avg_arr)\r\n        this.setState({data: this.state.arr})\r\n        this.distributed(distribute,value,this.state.avg_arr)\r\n        //console.log(this.state.data)\r\n    }\r\n\r\n    data_linegraph(result,value){\r\n        // this.state.arr = []\r\n        this.state.arr = [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]\r\n        // this.setState({arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]})\r\n        var num = 1\r\n        var list;\r\n        var distribute = []\r\n        this.init_arrdistribute(distribute)\r\n        var arr_ref = [{data:[[]]}]\r\n        // var name = result[0].name\r\n        // var date = result[0].date\r\n        // var count = this.uniqueNameFlight(name,result,date)\r\n        // console.log('count',count)\r\n        for(var i=0;i<result.length;i++){\r\n            var ground = 0\r\n            for(var j=result[i].coords.length-1;j>1;j--){\r\n                ground = ground + this.distance(result[i].coords[j-1].lat, result[i].coords[j-1].long, result[i].coords[j].lat, result[i].coords[j].long, \"N\")\r\n                if(j === result[i].coords.length-1){\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    // this.state.arr[j].type = 'line'\r\n                    // this.state.arr[j].lineStyle = {color:'#A9CCE3'}\r\n                    // this.state.arr[j].showSymbol = false\r\n                    // this.state.arr[i].data[(result[i].coords.length-1)-j].push(0) \r\n                    // this.state.arr[i].data[(result[i].coords.length-1)-j].push(0) \r\n                    // arr_ref[i].data[(result[i].coords.length-1)-j].push(0)\r\n                    // arr_ref[i].data[(result[i].coords.length-1)-j].push(0)\r\n                }\r\n                if(ground < 18){\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    this.state.arr[i].data[(result[i].coords.length-1)-j].push(ground*-1)\r\n                    if (value === 'speed')\r\n                        this.state.arr[i].data[(result[i].coords.length-1)-j].push(result[i].coords[j].speed)\r\n                    else\r\n                        this.state.arr[i].data[(result[i].coords.length-1)-j].push(result[i].coords[j].altitude_ft) \r\n                    //console.log(this.state.arr)\r\n                }\r\n                if(ground < 30){\r\n                    arr_ref[i].data.push([])\r\n                    arr_ref[i].data[(result[i].coords.length-1)-j].push(ground*-1)\r\n                    if (value === 'speed')\r\n                        arr_ref[i].data[(result[i].coords.length-1)-j].push(result[i].coords[j].speed)\r\n                    else\r\n                        arr_ref[i].data[(result[i].coords.length-1)-j].push(result[i].coords[j].altitude_ft) \r\n                    //console.log(this.state.arr)\r\n                }\r\n            }\r\n            // console.log(arr_ref)\r\n            for(var j=0;j<distribute.length;j++){\r\n                // console.log(distribute[j].dis)\r\n                this.closest(arr_ref[i].data,distribute[j].dis,distribute,j)\r\n            }\r\n            if(i < result.length-1){\r\n                this.state.arr.push({name:'', type: 'line',showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]})\r\n                arr_ref.push({data:[[]]})\r\n            }\r\n        }\r\n        \r\n        // console.log('arr', this.state.arr)\r\n        this.state.avg_arr.data = []\r\n        // this.state.avg_arr.data.push([0,0])\r\n        for(var i=0;i<distribute.length;i++){\r\n            // average(distribute[i].data)\r\n            this.state.avg_arr.data.push([])\r\n            this.state.avg_arr.data[i].push(distribute[i].dis,this.average(distribute[i].data))\r\n        }\r\n        this.state.arr.push(this.state.avg_arr)\r\n        this.setState({data: this.state.arr});\r\n        // console.log(this.state.arr)\r\n        this.distributed(distribute,value,this.state.avg_arr)\r\n        // console.log('distribute', distribute)\r\n    }\r\n\r\n    distributed(distribute,value,avg){\r\n        var altitude = [4,8,14]\r\n        var lateral = [2,4,7]\r\n        if (value === \"speed\"){\r\n            for(var j=0;j<3;j++){\r\n                var num = []\r\n                var altitude_nmi = []\r\n                for(var i=0;i<=300;i+=10){\r\n                    num.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    altitude_nmi.push([(num[i]+num[i+1])/2,0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[altitude[j]].data.length;i++){\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        if(distribute[altitude[j]].data[i] >= num[k] && distribute[altitude[j]].data[i] < num[k+1]){\r\n                            altitude_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                if(j === 0) this.setState({distribute3nmi : altitude_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : altitude_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : altitude_nmi})\r\n            }\r\n        }\r\n        else if (value === \"lateral\"){\r\n            var dist\r\n            for(var j=0;j<3;j++){\r\n                // var lateral_nmi = [['-4,-3',0],['-3,-2',0],['-2,-1',0],['-1,0',0],['0,1',0],['1,2',0],['2,3',0],['3,4',0]]\r\n                // for(var i=0;i<distribute[lateral[j]].data.length;i++){\r\n                //     dist = this.distance_xy(avg.data[lateral[j]+1][0],avg.data[lateral[j]+1][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                //     // console.log(j , '=' ,dist, \"y1 \", avg.data[lateral[j]+1][1] , 'y2 ' , distribute[lateral[j]].data[i][1])\r\n                //     if(dist >= 3 && dist < 4 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[0][1] += 1;\r\n                //     else if(dist >= 2 && dist < 3 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[1][1] += 1;\r\n                //     else if(dist >= 1 && dist < 2 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[2][1] += 1;\r\n                //     else if(dist >= 0 && dist < 1 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[3][1] += 1;\r\n                //     else if(dist >= 0 && dist < 1 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[4][1] += 1;\r\n                //     else if(dist >= 1 && dist < 2 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[5][1] += 1;\r\n                //     else if(dist >= 2 && dist < 3 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[6][1] += 1;\r\n                //     else if(dist >= 3 && dist < 4 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[7][1] += 1;\r\n                // }\r\n                var num = []\r\n                var xais = []\r\n                var lateral_nmi = []\r\n                for(var i=-4;i<=4;i+=0.5){\r\n                    num.push(i)\r\n                    xais.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    lateral_nmi.push([xais[i],0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[lateral[j]].data.length;i++){\r\n                    // console.log\r\n                    // dist = this.distance_xy(avg.data[lateral[j]+1][0],avg.data[lateral[j]+1][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    dist = this.distance_xy(avg.data[lateral[j]][0],avg.data[lateral[j]][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    // console.log(avg.data[lateral[j]][0],avg.data[lateral[j]][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    if(distribute[lateral[j]].data[i][1] < avg.data[lateral[j]][1]) dist = -dist\r\n                    // console.log(dist)\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        // console.log(dist)\r\n                        // console.log(dist , num[k+1], num[k])\r\n                        if(dist >= num[k] && dist < num[k+1] ){\r\n                            // console.log(-dist)\r\n                            lateral_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                if(j === 0) this.setState({distribute3nmi : lateral_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : lateral_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : lateral_nmi})\r\n            }\r\n        }\r\n        else{\r\n            for(var j=0;j<3;j++){\r\n                var num = []\r\n                var altitude_nmi = []\r\n                for(var i=0;i<=3500;i+=100){\r\n                    num.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    altitude_nmi.push([(num[i]+num[i+1])/2,0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[altitude[j]].data.length;i++){\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        if(distribute[altitude[j]].data[i] >= num[k] && distribute[altitude[j]].data[i] < num[k+1]){\r\n                            altitude_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                if(j === 0) this.setState({distribute3nmi : altitude_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : altitude_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : altitude_nmi})\r\n            }\r\n        }\r\n    }\r\n\r\n    getData() {\r\n        // console.log(this.test)\r\n        this.data_linegraph(this.test,0)\r\n        this.setState({plot_graph:xaxis[0],plot_xaxis:xyaxis[0][1],plot_yaxis:xyaxis[0][0]})\r\n\r\n    }\r\n\r\n    getOption = () => ({\r\n        // title: {\r\n        //     text: 'Departure ' + this.state.select\r\n        // },\r\n        tooltip: {\r\n           trigger: 'axis'\r\n        }, \r\n        // grid: {\r\n        //     left: '3%',\r\n        //     right: '4%',\r\n        //     bottom: '3%',\r\n        //     containLabel: true\r\n        // },\r\n        toolbox: {\r\n            feature: {\r\n                saveAsImage: {\r\n                    show: true,\r\n                    title: 'Save As Image'\r\n                },\r\n                // dataView: {\r\n                //     show: true,\r\n                //     title: 'Data View'\r\n                // },\r\n            }\r\n        },\r\n        xAxis: {\r\n            type: 'value',\r\n            name: this.state.plot_xaxis,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 20,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: this.state.plot_yaxis,\r\n            nameLocation: 'center',\r\n            nameGap: 70,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 20,\r\n            }\r\n        },\r\n        series: this.state.data\r\n    });\r\n\r\n    Option3nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 3 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute3nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    Option5nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 5 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute5nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    Option8nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 8 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute8nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    render(props) {\r\n    //   console.log(this.state.data);\r\n      return (\r\n        <div className=\"App\">\r\n            {this.state.check === true ?\r\n            <div>\r\n            <Form layout=\"inline\">\r\n                    {/* <Form layout=\"inline\"> */}\r\n                    <Form.Item label=\"Analyze by\">\r\n                    <Select defaultValue=\"altitude\" style={{ width: 300, fontSize: \"1.2rem\" }} onChange={e => this.onhandleChange(e)}>\r\n                        <Option value=\"altitude\" style={{ fontSize: \"1rem\" }}>Altitude</Option>\r\n                        <Option value=\"lateral\" style={{ fontSize: \"1rem\" }}>Lateral</Option>\r\n                        <Option value=\"speed\" style={{ fontSize: \"1rem\" }}>Speed</Option>\r\n                    </Select>\r\n                    </Form.Item>\r\n                </Form>\r\n                <ReactEcharts option={this.getOption()} style={{width:'70%', height:700, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option3nmi()} style={{width:'60%', height:600, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option5nmi()} style={{width:'60%', height:600, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option8nmi()} style={{width:'60%', height:600,  display:'inline-block'}} />\r\n            </div>\r\n            : <p style={{fontSize:'1.5em', marginTop:'9%'}}>No data for Analyze</p>}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  OffsetAnalyze.propTypes = {\r\n    data: PropTypes.array\r\n    // type: PropTypes.string\r\n  };\r\n\r\n  export default OffsetAnalyze;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './offset.css'\r\nimport * as d3 from 'd3-request';\r\n// import url from '../data/data_flight.csv';\r\n//import url from '../data/data_arrival.csv';\r\nimport Papa from 'papaparse'\r\nimport echarts from 'echarts'\r\nimport { Select,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport Arrival from './arrival'\r\n// import 'antd/dist/antd.css';\r\n\r\nconst { Option } = Select;\r\n\r\nvar xaxis = ['Altitude (ft)','Lateral Dispersion (nmi)','Groungspeed (kts)']\r\nvar xyaxis = [['Altitude (ft)','Ground Track Distance (nmi)'],['North-South Distance (nmi)','East-West Distance (nmi)'],['Groungspeed (kts)','Ground Track Distance (nmi)']]\r\n\r\nclass OffsetAnalyze extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            csvfile: undefined,\r\n            rawdata : null,\r\n            select : \"altitude\",\r\n            data : [],\r\n            plot : [],\r\n            arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}],\r\n            avg_arr : {name:'avg', type: 'line',smooth: true,lineStyle:{color:'#CB4335'},showSymbol:false,data:[]},\r\n            distribute3nmi : [],\r\n            distribute5nmi : [],\r\n            distribute8nmi : [],\r\n            // xaxis: ['Altitude (ft)','Lateral Dispersion (nmi)','Groungspeed (kts)'],\r\n            plot_graph: null,\r\n            plot_xaxis: null,\r\n            plot_yaxis: null,\r\n            // xyaxis: [['Altitude (ft)','Dround distance (nmi)'],['North-South distance (nmi)','East-West distance (nmi)'],['Groungspeed (kts)','ground distance (nmi)']],\r\n            check : false\r\n        };\r\n\r\n        this.test = props.data\r\n        this.type = props.type\r\n\r\n        this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        if(this.type === \"Departure\" && this.test.length !== 0){\r\n            // console.log(this.test)\r\n            this.getData()\r\n            this.setState({check : true})\r\n        }\r\n    }\r\n\r\n    onhandleChange(value) {\r\n        this.setState({select : value})\r\n        // console.log(value)\r\n        if (value === 'lateral'){\r\n            // console.log('lateral')\r\n            this.data_lateral(this.test,value)\r\n            this.setState({plot_graph:xaxis[1],plot_xaxis:xyaxis[1][1],plot_yaxis:xyaxis[1][0]})\r\n        }\r\n        else{\r\n            if(value === 'speed') this.setState({plot_graph:xaxis[2],plot_xaxis:xyaxis[2][1],plot_yaxis:xyaxis[2][0]})\r\n            else this.setState({plot_graph:xaxis[0],plot_xaxis:xyaxis[0][1],plot_yaxis:xyaxis[0][0]})\r\n            this.data_linegraph(this.test,value)\r\n        }\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684}\r\n            // console.log('nmi') }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    distance_xy(x1,y1,x2,y2){\r\n        var diff_x = Math.pow(x1-x2,2)\r\n        var diff_y = Math.pow(y1-y2,2)\r\n        return Math.pow(diff_x+diff_y, 0.5) \r\n    }\r\n\r\n    interpolate(x1,y1,x2,y2,x){\r\n        var diff = ((y2-y1)/(x2-x1))*(x-x1)\r\n        var res = diff+y1\r\n        return res\r\n    }\r\n\r\n    closest(array,num,distribute,param){\r\n        var distance_min;\r\n        var value_min;\r\n        var distance_max;\r\n        var value_max;\r\n        var res;\r\n        for(var i=1;i<array.length;i++){\r\n            // console.log('arr' , array[i],array[i-1])\r\n            if(num > array[i-1][0] && num < array[i][0]){\r\n                distance_min=array[i-1][0]; \r\n                value_min=array[i-1][1];\r\n                distance_max=array[i][0]; \r\n                value_max=array[i][1];\r\n            }\r\n        }\r\n        // console.log(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        res = this.interpolate(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        // console.log('f',res)\r\n        if(isNaN(res)) return distribute\r\n        distribute[param].data.push(res)\r\n        return distribute;\r\n    }\r\n\r\n    closest_xy(array,num,distribute,param){\r\n        // console.log(num)\r\n        var distance_min;\r\n        var value_min;\r\n        var distance_max;\r\n        var value_max;\r\n        var x,y;\r\n        for(var i=1;i<array.length;i++){\r\n            // console.log('arr' , array[i],array[i-1])\r\n            if(num > array[i-1][0] && num < array[i][0]){\r\n                distance_min=array[i-1][0]; \r\n                value_min=array[i-1][1];\r\n                distance_max=array[i][0]; \r\n                value_max=array[i][1];\r\n                break\r\n            }\r\n        }\r\n        if(value_min === undefined || value_max === undefined){\r\n            return distribute;\r\n        }\r\n        // console.log(distance_min,parseInt(value_min),distance_max,parseInt(value_max),num)\r\n        x = this.interpolate(distance_min,parseFloat(value_min[0]),distance_max,parseFloat(value_max[0]),num)\r\n        y = this.interpolate(distance_min,parseFloat(value_min[1]),distance_max,parseFloat(value_max[1]),num)\r\n        distribute[param].x.push(x)\r\n        distribute[param].y.push(y)\r\n        distribute[param].data.push([x,y])\r\n        return distribute;\r\n    }\r\n\r\n    init_arrdistribute(distribute){\r\n        // distribute.push({dis:0,data:[]})\r\n        for(var i=0.5;i<=17;i+=0.5){\r\n            distribute.push({dis:i,data:[]})\r\n        }\r\n    }\r\n\r\n    init_arrdistribute_xy(distribute){\r\n        // distribute.push({dis:0,data:[]})\r\n        for(var i=1;i<20;i+=1){\r\n            distribute.push({dis:i,x:[],y:[],data:[]})\r\n        }\r\n    }\r\n\r\n    average = list => list.reduce((prev, curr) => prev + curr) / list.length;\r\n\r\n    data_lateral(result,value){\r\n        // this.setState({arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]})\r\n        this.state.arr = [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]\r\n        var long_origin = 100.743178;\r\n        var lat_origin = 13.703669;\r\n        var dist = [{name:'',data:[[]]}]\r\n        var distribute = []\r\n        this.init_arrdistribute_xy(distribute)\r\n        var x1,y1,x2,y2;\r\n        // var count = this.uniqueNameFlight(name,result,date)\r\n        // console.log('count',count)\r\n        for(var i=0;i<result.length;i++){\r\n            var dis = 0;\r\n            for(var j=1;j<result[i].coords.length;j++){\r\n\r\n                x1 = -(((result[i].coords[j-1].lat - lat_origin)*(0.01745329251*6371))*0.539957)\r\n                y1 = (((result[i].coords[j-1].long - long_origin)*(0.01745329251*6371)*Math.cos(result[i].coords[j-1].lat*0.01745329251))*0.539957)\r\n                x2 = -(((result[i].coords[j].lat - lat_origin)*(0.01745329251*6371))*0.539957)\r\n                y2 = (((result[i].coords[j].long - long_origin)*(0.01745329251*6371)*Math.cos(result[i].coords[j].lat*0.01745329251))*0.539957)\r\n                dis = dis + this.distance_xy(x1,y1,x2,y2)\r\n                if( dis < 20 ){\r\n                    //console.log(i)\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    this.state.arr[i].data[j-1].push(x1)\r\n                    this.state.arr[i].data[j-1].push(y1)\r\n                }\r\n                if(dis < 50){\r\n                    dist[i].name = result[i].name\r\n                    dist[i].data.push([])\r\n                    dist[i].data[j-1].push(dis)\r\n                    dist[i].data[j-1].push([x1,y1])\r\n                }\r\n            }\r\n            //console.log('dist',dist)\r\n            for(var j=0;j<distribute.length;j++){\r\n                this.closest_xy(dist[i].data,distribute[j].dis,distribute,j)\r\n            }\r\n            //console.log(distribute)\r\n            if(i < result.length-1){\r\n                this.state.arr.push({name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]})\r\n                dist.push({name:'',data:[[]]})\r\n            }\r\n        }\r\n        // console.log(distribute)\r\n        this.state.avg_arr.data = []\r\n        // this.state.avg_arr.data.push([0,0])\r\n        var num = 0\r\n        for(var i=0;i<distribute.length;i++){\r\n            if(distribute[i].data.length !== 0){\r\n                this.state.avg_arr.data.push([])\r\n                this.state.avg_arr.data[num].push(this.average(distribute[i].x),this.average(distribute[i].y))\r\n                num++\r\n            }\r\n        }\r\n        // console.log(this.state.avg_arr)\r\n        this.state.arr.push(this.state.avg_arr)\r\n        this.setState({data: this.state.arr})\r\n        this.distributed(distribute,value,this.state.avg_arr)\r\n        //console.log(this.state.data)\r\n    }\r\n\r\n    data_linegraph(result,value){\r\n        // this.state.arr = []\r\n        this.state.arr = [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]\r\n        // this.setState({arr : [{name:'', type: 'line',smooth: true,showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]}]})\r\n        var num = 1\r\n        var list;\r\n        var distribute = []\r\n        this.init_arrdistribute(distribute)\r\n        var arr_ref = [{data:[[]]}]\r\n        // var name = result[0].name\r\n        // var date = result[0].date\r\n        // var count = this.uniqueNameFlight(name,result,date)\r\n        // console.log('count',count)\r\n        for(var i=0;i<result.length;i++){\r\n            var ground = 0\r\n            for(var j=1;j<result[i].coords.length;j++){\r\n                ground = ground + this.distance(result[i].coords[j-1].lat, result[i].coords[j-1].long, result[i].coords[j].lat, result[i].coords[j].long, \"N\")\r\n                if(j === 1){\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    // this.state.arr[j].type = 'line'\r\n                    // this.state.arr[j].lineStyle = {color:'#A9CCE3'}\r\n                    // this.state.arr[j].showSymbol = false\r\n                    // this.state.arr[i].data[j-1].push(0) \r\n                    // this.state.arr[i].data[j-1].push(0) \r\n                    // arr_ref[i].data[j-1].push(0)\r\n                    // arr_ref[i].data[j-1].push(0)\r\n                }\r\n                if(ground < 18){\r\n                    this.state.arr[i].data.push([])\r\n                    this.state.arr[i].name = result[i].name\r\n                    this.state.arr[i].data[j].push(ground)\r\n                    if (value === 'speed')\r\n                        this.state.arr[i].data[j].push(result[i].coords[j].speed)\r\n                    else\r\n                        this.state.arr[i].data[j].push(result[i].coords[j].altitude_ft) \r\n                    //console.log(this.state.arr)\r\n                }\r\n                if(ground < 30){\r\n                    arr_ref[i].data.push([])\r\n                    arr_ref[i].data[j].push(ground)\r\n                    if (value === 'speed')\r\n                        arr_ref[i].data[j].push(result[i].coords[j].speed)\r\n                    else\r\n                        arr_ref[i].data[j].push(result[i].coords[j].altitude_ft) \r\n                    //console.log(this.state.arr)\r\n                }\r\n            }\r\n            // console.log(arr_ref)\r\n            for(var j=0;j<distribute.length;j++){\r\n                this.closest(arr_ref[i].data,distribute[j].dis,distribute,j)\r\n            }\r\n            if(i < result.length-1){\r\n                this.state.arr.push({name:'', type: 'line',showSymbol:false,lineStyle:{color:'#A9CCE3'},data: [[]]})\r\n                arr_ref.push({data:[[]]})\r\n            }\r\n        }\r\n        \r\n        // console.log('arr', this.state.arr)\r\n        this.state.avg_arr.data = []\r\n        // this.state.avg_arr.data.push([0,0])\r\n        for(var i=0;i<distribute.length;i++){\r\n            // console.log('dis' , distribute[i].data)\r\n            this.state.avg_arr.data.push([])\r\n            if(distribute[i].data.length !== 0){\r\n                this.state.avg_arr.data[i].push(distribute[i].dis,this.average(distribute[i].data))\r\n            }\r\n        }\r\n        this.state.arr.push(this.state.avg_arr)\r\n        this.setState({data: this.state.arr});\r\n        this.distributed(distribute,value,this.state.avg_arr)\r\n        // console.log('distribute', distribute)\r\n    }\r\n\r\n    distributed(distribute,value,avg){\r\n        var altitude = [4,8,14]\r\n        var lateral = [2,4,7]\r\n        if (value === \"speed\"){\r\n            for(var j=0;j<3;j++){\r\n                var num = []\r\n                var altitude_nmi = []\r\n                for(var i=0;i<=300;i+=10){\r\n                    num.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    altitude_nmi.push([(num[i]+num[i+1])/2,0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[altitude[j]].data.length;i++){\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        if(distribute[altitude[j]].data[i] >= num[k] && distribute[altitude[j]].data[i] < num[k+1]){\r\n                            altitude_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                // var altitude_nmi = [['0-50',0],['50-100',0],['100-150',0],['150-200',0],['200-250',0],['250-300',0]]\r\n                // for(var i=0;i<distribute[altitude[j]].data.length;i++){\r\n                //     if(distribute[altitude[j]].data[i] >= 0 && distribute[altitude[j]].data[i] < 50) altitude_nmi[0][1] += 1;\r\n                //     else if(distribute[altitude[j]].data[i] >= 50 && distribute[altitude[j]].data[i] < 100) altitude_nmi[1][1] += 1;\r\n                //     else if(distribute[altitude[j]].data[i] >= 100 && distribute[altitude[j]].data[i] < 150) altitude_nmi[2][1] += 1;\r\n                //     else if(distribute[altitude[j]].data[i] >= 150 && distribute[altitude[j]].data[i] < 200) altitude_nmi[3][1] += 1;\r\n                //     else if(distribute[altitude[j]].data[i] >= 200 && distribute[altitude[j]].data[i] < 250) altitude_nmi[4][1] += 1;\r\n                //     else if(distribute[altitude[j]].data[i] >= 250 && distribute[altitude[j]].data[i] < 300) altitude_nmi[5][1] += 1;\r\n                // }\r\n                if(j === 0) this.setState({distribute3nmi : altitude_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : altitude_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : altitude_nmi})\r\n            }\r\n        }\r\n        else if (value === \"lateral\"){\r\n            var dist\r\n            for(var j=0;j<3;j++){\r\n                var num = []\r\n                var xais = []\r\n                var lateral_nmi = []\r\n                for(var i=-4;i<=4;i+=0.5){\r\n                    num.push(i)\r\n                    xais.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    lateral_nmi.push([xais[i],0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[lateral[j]].data.length;i++){\r\n                    // console.log\r\n                    // dist = this.distance_xy(avg.data[lateral[j]+1][0],avg.data[lateral[j]+1][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    dist = this.distance_xy(avg.data[lateral[j]][0],avg.data[lateral[j]][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    // console.log(avg.data[lateral[j]][0],avg.data[lateral[j]][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                    if(distribute[lateral[j]].data[i][1] < avg.data[lateral[j]][1]) dist = -dist\r\n                    // console.log(dist)\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        // console.log(dist)\r\n                        // console.log(dist , num[k+1], num[k])\r\n                        if(dist >= num[k] && dist < num[k+1] ){\r\n                            // console.log(-dist)\r\n                            lateral_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                // var lateral_nmi = [['-4,-3',0],['-3,-2',0],['-2,-1',0],['-1,0',0],['0,1',0],['1,2',0],['2,3',0],['3,4',0]]\r\n                // for(var i=0;i<distribute[lateral[j]].data.length;i++){\r\n                //     dist = this.distance_xy(avg.data[lateral[j]+1][0],avg.data[lateral[j]+1][1],distribute[lateral[j]].data[i][0],distribute[lateral[j]].data[i][1])\r\n                //     // console.log(j , '=' ,dist, \"y1 \", avg.data[lateral[j]+1][1] , 'y2 ' , distribute[lateral[j]].data[i][1])\r\n                //     if(dist >= 3 && dist < 4 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[0][1] += 1;\r\n                //     else if(dist >= 2 && dist < 3 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[1][1] += 1;\r\n                //     else if(dist >= 1 && dist < 2 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[2][1] += 1;\r\n                //     else if(dist >= 0 && dist < 1 && distribute[lateral[j]].data[i][1] < avg.data[lateral[j]+1][1]) lateral_nmi[3][1] += 1;\r\n                //     else if(dist >= 0 && dist < 1 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[4][1] += 1;\r\n                //     else if(dist >= 1 && dist < 2 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[5][1] += 1;\r\n                //     else if(dist >= 2 && dist < 3 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[6][1] += 1;\r\n                //     else if(dist >= 3 && dist < 4 && distribute[lateral[j]].data[i][1] >= avg.data[lateral[j]+1][1]) lateral_nmi[7][1] += 1;\r\n                // }\r\n                if(j === 0) this.setState({distribute3nmi : lateral_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : lateral_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : lateral_nmi})\r\n            }\r\n        }\r\n        else{\r\n            for(var j=0;j<3;j++){\r\n                var num = []\r\n                var altitude_nmi = []\r\n                for(var i=0;i<=5500;i+=200){\r\n                    num.push(i)\r\n                }\r\n                for(var i=0;i<num.length-1;i++){\r\n                    altitude_nmi.push([(num[i]+num[i+1])/2,0])\r\n                }\r\n                // console.log(altitude_nmi)\r\n                for(var i=0;i<distribute[altitude[j]].data.length;i++){\r\n                    for(var k=0;k<num.length-1;k++){\r\n                        if(distribute[altitude[j]].data[i] >= num[k] && distribute[altitude[j]].data[i] < num[k+1]){\r\n                            altitude_nmi[k][1] += 1;\r\n                        }\r\n                    }\r\n                }\r\n                if(j === 0) this.setState({distribute3nmi : altitude_nmi})\r\n                else if (j === 1) this.setState({distribute5nmi : altitude_nmi})\r\n                else if (j === 2) this.setState({distribute8nmi : altitude_nmi})\r\n            }\r\n        }\r\n    }\r\n\r\n    getData() {\r\n        // console.log(this.test)\r\n        this.data_linegraph(this.test,0)\r\n        this.setState({plot_graph:xaxis[0],plot_xaxis:xyaxis[0][1],plot_yaxis:xyaxis[0][0]})\r\n    }\r\n\r\n    getOption = () => ({\r\n        // title: {\r\n        //     text: 'Departure ' + this.state.select\r\n        // },\r\n        tooltip: {\r\n           trigger: 'axis'\r\n        }, \r\n        // grid: {\r\n        //     left: '3%',\r\n        //     right: '4%',\r\n        //     bottom: '3%',\r\n        //     containLabel: true\r\n        // },\r\n        toolbox: {\r\n            feature: {\r\n                saveAsImage: {\r\n                    show: true,\r\n                    title: 'Save As Image'\r\n                },\r\n                // dataView: {\r\n                //     show: true,\r\n                //     title: 'Data View'\r\n                // },\r\n            }\r\n        },\r\n        xAxis: {\r\n            type: 'value',\r\n            name: this.state.plot_xaxis,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 20,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: this.state.plot_yaxis,\r\n            nameLocation: 'center',\r\n            nameGap: 70,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 20,\r\n            }\r\n        },\r\n        series: this.state.data\r\n    });\r\n\r\n    Option3nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 3 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute3nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    Option5nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 5 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute5nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    Option8nmi = () => ({\r\n        title: {\r\n            text: 'Distribution of ' + this.state.select + ' at 8 nmi'\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            name: this.state.plot_graph,\r\n            nameLocation: 'center',\r\n            nameGap: 40,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 15,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'Number of Flight',\r\n            nameLocation: 'center',\r\n            nameGap: 50,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.distribute8nmi,\r\n                type: 'bar',\r\n                color: '#A9CCE3'\r\n            }\r\n        ]      \r\n    });\r\n\r\n    render(props) {\r\n    //   console.log(this.state.data);\r\n      return (\r\n        <div className=\"App\">\r\n            {this.type === \"Departure\" ? this.state.check === true ?\r\n            <div>\r\n                <Form layout=\"inline\">\r\n                    {/* <Form layout=\"inline\"> */}\r\n                    <Form.Item label=\"Analyze by\">\r\n                    <Select defaultValue=\"altitude\" style={{ width: 300, fontSize: \"1.2rem\" }} onChange={e => this.onhandleChange(e)}>\r\n                        <Option value=\"altitude\" style={{ fontSize: \"1rem\" }}>Altitude</Option>\r\n                        <Option value=\"lateral\" style={{ fontSize: \"1rem\" }}>Lateral</Option>\r\n                        <Option value=\"speed\" style={{ fontSize: \"1rem\" }}>Speed</Option>\r\n                    </Select>\r\n                    </Form.Item>\r\n                </Form>\r\n                <ReactEcharts option={this.getOption()} style={{width:'70%', height:700, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option3nmi()} style={{width:'60%', height:600, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option5nmi()} style={{width:'60%', height:600, display:'inline-block',marginBottom:'3%'}} />\r\n                <ReactEcharts option={this.Option8nmi()} style={{width:'60%', height:600,  display:'inline-block'}} />\r\n            </div>\r\n            : <p style={{fontSize:'1.5em', marginTop:'9%'}}>No data for Analyze</p>\r\n            : <Arrival data={this.test}/> }\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  OffsetAnalyze.propTypes = {\r\n    data: PropTypes.array,\r\n    type: PropTypes.string\r\n  };\r\n\r\n  export default OffsetAnalyze;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './offset.css'\r\nimport { Select,Button,Form  } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Feature from './feature';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                week:''\r\n            }],\r\n            distinct_date : [],\r\n            distinct_time : [],\r\n            select_date : false,\r\n            date_time : [],\r\n            date_name : [],\r\n            time_name : [],\r\n            time_flight : [],\r\n            check_data : false,\r\n            time_default : \"Select Time\",\r\n            turn_default : \"Select Turn Direction\",\r\n            date_default : \"Select Date\",\r\n            type_default : \"Select Section\",\r\n            type : ['Departure','Arrival'],\r\n            turn : ['West','East'],\r\n            select_feature : \"Date\",\r\n            real : [],\r\n            click : false,\r\n            checkbox : [],\r\n            what_select : \"Date\",\r\n            type_select : []\r\n            // checkedList: [],\r\n        };\r\n        this.data = props.data\r\n        this.date = props.date\r\n\r\n        // this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n  \r\n    Date_onhandleChange(value,data) {\r\n        var data_select = []\r\n        var data_time = []\r\n        var dis,dis2\r\n        this.setState({date_default:value,click:false})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            dis = 0\r\n            dis2 = 0\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].date === String(value)){\r\n                data_select.push(data[i])\r\n                var state = data[i].coords.length-1\r\n                // console.log(state)\r\n                dis = this.distance(13.6902099,100.7449953,data[i].coords[0].lat, data[i].coords[0].long, \"N\")\r\n                dis2 = this.distance(13.6902099,100.7449953,data[i].coords[state].lat, data[i].coords[state].long, \"N\")\r\n                if(dis < dis2) data_time.push(data[i].time_1.getHours())\r\n                else{\r\n                    data_time.push(data[i].time_2.getHours())\r\n                }\r\n                // data_time.push(data[i].time_1.getHours())\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_time)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        var distinct = [...new Set(data_time)].sort(function(a, b){return a-b})\r\n\r\n        this.setState({distinct_time : distinct, date_name:data_select, time_default:\"Select Time\",type_default:\"Select Section\",turn_default : \"Select Turn Direction\"})\r\n    }\r\n\r\n    Time_onhandleChange(value,data) {\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            if(data[i].time_1.getHours() === parseInt(value) || data[i].time_2.getHours() === parseInt(value)){\r\n                data_select.push(data[i])\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        this.setState({time_flight : data_select,type_default:\"Select Section\",turn_default : \"Select Turn Direction\"})\r\n    }\r\n\r\n    Type_onhandleChange(value,data) {\r\n        this.setState({type_default:value,click:false})\r\n        var data_select = []\r\n        var name = []\r\n        var data_departure = []\r\n        var data_arrival = []\r\n        var name_departure = []\r\n        var name_arrival = []\r\n        var sumdeparture;\r\n        var sumarrival;\r\n        var dis,dis2;\r\n\r\n        for(var i=0;i<data.length;i++){\r\n            sumdeparture = 0\r\n            sumarrival = 0\r\n            var state = data[i].coords.length-1\r\n            // console.log(state)\r\n            dis = this.distance(13.6902099,100.7449953,data[i].coords[0].lat, data[i].coords[0].long, \"N\")\r\n            dis2 = this.distance(13.6902099,100.7449953,data[i].coords[state].lat, data[i].coords[state].long, \"N\")\r\n            // console.log(dis)\r\n            if(dis < dis2) {\r\n                data_departure.push(data[i])\r\n                name_departure.push(data[i].name)\r\n            }\r\n            else {\r\n                data_arrival.push(data[i])\r\n                name_arrival.push(data[i].name) \r\n            }\r\n        }\r\n        //console.log(data_departure , data_arrival)\r\n        if(value === 'Departure'){\r\n            data_select = data_departure\r\n            name = name_departure\r\n        }\r\n        else{\r\n            data_select = data_arrival\r\n            name = name_arrival\r\n        }\r\n\r\n        this.setState({type_select : data_select ,checkbox:name,turn_default : \"Select Turn Direction\"})\r\n    }\r\n\r\n    Turn_onhandleChange(value,data) {\r\n        // console.log(value)\r\n        this.setState({turn_default:value,click:false})\r\n        var data_select = []\r\n        // var name = []\r\n        var sum_west = 0\r\n        var sum_east = 0\r\n        var data_west = []\r\n        var data_east = []\r\n        var dis_check = 0\r\n        var start = 0\r\n        // var name_west = []\r\n        // var name_east = []\r\n\r\n        // console.log(value)\r\n        if(this.state.type_default === 'Departure'){\r\n            for(var i=0;i<data.length;i++){\r\n                sum_east = 0\r\n                sum_west = 0\r\n                dis_check = 0\r\n                for(var j=0;j<data[i].coords.length-1;j++){\r\n                    dis_check = dis_check + this.distance(data[i].coords[j].lat,data[i].coords[j].long,data[i].coords[j+1].lat,data[i].coords[j+1].long,\"N\")\r\n                    if(dis_check > 30){\r\n                        break\r\n                    }\r\n                    if(data[i].coords[j].long > data[i].coords[j+1].long){\r\n                        sum_west += 1\r\n                    }\r\n                    else if(data[i].coords[j].long < data[i].coords[j+1].long){\r\n                        sum_east += 1\r\n                    }\r\n                }\r\n                if(sum_west > sum_east){\r\n                    data_west.push(data[i])\r\n                    // name_west.push(data[i].name)\r\n                }\r\n                else{\r\n                    data_east.push(data[i])\r\n                    // name_east.push(data[i].name)\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            for(var i=0;i<data.length;i++){\r\n                sum_east = 0\r\n                sum_west = 0\r\n                dis_check = 0\r\n                for(var j=data[i].coords.length-1;j>1;j--){\r\n                    dis_check = dis_check + this.distance(data[i].coords[j].lat,data[i].coords[j].long,data[i].coords[j-1].lat,data[i].coords[j-1].long,\"N\")\r\n                    if(dis_check > 8){\r\n                        start = j\r\n                        break\r\n                    }\r\n                }\r\n                dis_check = 0\r\n                for(var j=start;j>1;j--){\r\n                    dis_check = dis_check + this.distance(data[i].coords[j].lat,data[i].coords[j].long,data[i].coords[j-1].lat,data[i].coords[j-1].long,\"N\")\r\n                    if(dis_check > 25){\r\n                        break\r\n                    }\r\n                    if(data[i].coords[j].long > data[i].coords[j-1].long){\r\n                        sum_west += 1\r\n                    }\r\n                    else if(data[i].coords[j].long < data[i].coords[j-1].long){\r\n                        sum_east += 1\r\n                    }\r\n                    // console.log(j)\r\n                }\r\n                // console.log(data[i].name,sum_east,sum_west)\r\n                if(sum_west > sum_east){\r\n                    data_west.push(data[i])\r\n                    // name_west.push(data[i].name)\r\n                }\r\n                else{\r\n                    data_east.push(data[i])\r\n                    // name_east.push(data[i].name)\r\n                }\r\n            }\r\n        }\r\n\r\n        if(value === 'West') data_select = data_west\r\n        else data_select = data_east\r\n\r\n        // console.log('real' , data_select)\r\n\r\n        this.setState({real : data_select})\r\n    }\r\n  \r\n    render(props) {\r\n        // console.log(this.date)\r\n      return (\r\n        <div>\r\n            <div style={{marginBottom:'1%'}}>\r\n            <Form layout=\"inline\">\r\n                {/* <Form layout=\"inline\"> */}\r\n                <Form.Item label=\"Date\">\r\n                <Select placeholder=\"Select Date\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.date_default} onChange={e => this.Date_onhandleChange(e,this.data)}>\r\n                    {this.date.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n\r\n                {this.state.date_default !== 'Select Date' ?\r\n                <Form.Item label=\"Time\">\r\n                <Select placeholder=\"Select Time\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.state.date_name)}>\r\n                    {this.state.distinct_time.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}.00 - {flight}.59</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                : null}\r\n                \r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' ?\r\n                <Form.Item label=\"Section\">\r\n                <Select placeholder=\"Select Section\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.type_default} onChange={e => this.Type_onhandleChange(e,this.state.time_flight)}>\r\n                    {this.state.type.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                : null}\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.type_default !== 'Select Section' ?\r\n                <Form.Item label=\"Turn Direction\">\r\n                <Select placeholder=\"Select Turn Direction\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.turn_default} onChange={e => this.Turn_onhandleChange(e,this.state.type_select)}>\r\n                    {this.state.turn.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                : null}\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.type_default !== 'Select Section' && this.state.turn_default !== \"Select Turn Direction\" ?\r\n                <Button onClick={this.search} style={{backgroundColor:'#b47b44',color:'white'}}>Search</Button> : null}\r\n                {/* <Button onClick={this.search}>Search</Button> */}\r\n                </Form>\r\n            </div>\r\n            <div>\r\n                {this.state.click === true ? \r\n                <Feature data={this.state.real} type={this.state.type_default}/>\r\n                : null}\r\n            </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    date: PropTypes.array,\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './offset.css'\r\nimport { Select } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport SelectData from './select_data';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [[]],date:'',time_1:'',time_2:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:''\r\n            }],\r\n            distinct_date : [],\r\n            pre : false\r\n        };\r\n        this.test = props.data\r\n        this.check = props.check\r\n\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n  \r\n\r\n    componentWillMount(){\r\n        if(this.check === true){\r\n            this.getData(this.test)\r\n        }\r\n\r\n    }\r\n\r\n    // componentWillUpdate(nextPorps){\r\n    //     if(nextPorps.check != this.check && nextPorps.test != this.test){\r\n    //         console.log(this.check , 'next ', nextPorps.check )\r\n    //         if(this.check === true){\r\n    //             this.getData(nextPorps.test)\r\n    //         }\r\n    //     }\r\n    //     // console.log('willl')\r\n    // }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    // Feature_onhandleChange(value) {\r\n    //     this.setState({select_feature:value,date_default:\"Select Date\",flight_default:\"Select Flight no\",\r\n    // time_default: \"Select Time\", unit_default:\"Select Unit\",type_default:\"Select Type\"})\r\n    // // this.getData(this.test)\r\n    // }\r\n\r\n    getData(result) {\r\n        this.state.arr = [{name:'', coords: [[]],date:'',time_1:'',time_2:''}]\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].name\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dataall_date = []\r\n        var dataall_name = []\r\n        var data_check_time_date = []\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            //console.log(j)\r\n            var mydate = moment(String(result[num].date), 'YYYY-MM-DD');\r\n            // console.log(mydate)\r\n            // dataall_name.push(result[num].name)\r\n            for(var i=num;i<=result.length;i++){\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n\r\n                    var test1 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[num].time\r\n                    var time1 = moment(test1).toDate();\r\n                    var local = moment(time1).format('DD/MM/YYYY');\r\n                    //console.log(time1)\r\n                    dataall_date.push(local)\r\n                    var test2 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    var time2 = moment(test2).toDate();\r\n                    // var onejan = new Date(time1.getFullYear(),0,1);\r\n                    // var week =  Math.ceil((((time1 - onejan) / 86400000) + onejan.getDay())/7);\r\n                    // console.log('week ',week)\r\n                    this.state.arr[j].date = local\r\n                    this.state.arr[j].time_1 = time1\r\n                    this.state.arr[j].time_2 = time2\r\n                    // this.state.arr[j].week = week\r\n                    // data_check_time_date.push({name: result[num].name,date: date,time_1:time1,time_2:time2})\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    break;\r\n                }\r\n                this.state.arr[j].coords.push([{lat:'',long:'',altitude:'',altitude_ft:'',speed:''}])\r\n                this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].coords[i-num].long = result[i].long\r\n                this.state.arr[j].coords[i-num].lat = result[i].lat\r\n                // this.state.arr[j].coords[i-num].altitude = result[i].altitude\r\n                this.state.arr[j].coords[i-num].altitude_ft = result[i].altitude_ft\r\n                this.state.arr[j].coords[i-num].speed = result[i].speed\r\n            }\r\n            // console.log(j)\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]],date:'',time_1:'',time_2:''})\r\n            }\r\n        }\r\n\r\n        // console.log(dataall_date)\r\n        var distinct = [...new Set(dataall_date)]\r\n        // var distinctName = []\r\n        distinct.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n\r\n        this.setState({dataAll: this.state.arr,distinct_date:distinct, pre:true});\r\n    }\r\n  \r\n    render(props) {\r\n      return (\r\n        <div className=\"App\">\r\n            <h1  style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Offset Analytics</h1>\r\n            {/* <Select placeholder=\"Select Feature\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.select_feature} onChange={e => this.Feature_onhandleChange(e)}>\r\n                {this.state.feature.map(flight => (\r\n                    <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                ))}\r\n            </Select>\r\n            \r\n            { this.state.select_feature === 'Date' ?\r\n            <SelectDate check={this.state.check} data={this.state.dataAll} date={this.state.distinct_date}/>\r\n            : \r\n            <SelectFlight check={this.state.check} data={this.state.dataAll} name={this.state.distinct_name}/>\r\n            } */}\r\n            \r\n            {this.state.pre === true ?\r\n            <SelectData data={this.state.dataAll} date={this.state.distinct_date}/>: null }\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import { Card,Button } from 'antd';\r\nimport React from \"react\";\r\n// import Offset from '../../visualize/offset';\r\nimport Offset from './visualize/select_data'\r\nimport OffsetAnalyze from './analytics/predata'\r\nimport Papa from 'papaparse'\r\nimport './offset.css'\r\n// import { Button } from 'antd/lib/radio';\r\n\r\nconst tabList = [\r\n    {\r\n      key: 'tab1',\r\n      tab: 'visualize',\r\n    },\r\n    {\r\n      key: 'tab2',\r\n      tab: 'analyze',\r\n    },\r\n];\r\n\r\nclass Mode extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      key: 'tab1',\r\n      csvfile: undefined,\r\n      data : null,\r\n      check : false,\r\n      upload : true\r\n    };\r\n    // this.test = props.data\r\n\r\n    // this.getData = this.getData.bind(this);\r\n    this.updateData = this.updateData.bind(this);\r\n  }\r\n\r\n    onTabChange = (key, type) => {\r\n      console.log(key, type);\r\n      this.setState({ [type]: key });\r\n    };\r\n\r\n    handleChange = event => {\r\n      this.setState({\r\n        csvfile: event.target.files[0],\r\n        check: false,\r\n        upload:false\r\n      });\r\n    };\r\n  \r\n    importCSV = () => {\r\n      const { csvfile } = this.state;\r\n      Papa.parse(csvfile, {\r\n        complete: this.updateData,\r\n        header: true\r\n      });\r\n    };\r\n  \r\n    updateData(result) {\r\n      var rawdata = result.data;\r\n      this.setState({data : rawdata, check : true, key : 'tab1'})\r\n      // this.forceUpdate();\r\n    }\r\n  \r\n    render() {\r\n      const contentList = {\r\n        tab1: <Offset check={this.state.check} data={this.state.data}/>,\r\n        tab2: <OffsetAnalyze check={this.state.check} data={this.state.data}/>,\r\n      };\r\n      // console.log(this.state.csvfile)\r\n      return (\r\n        <div className='importbar'>\r\n          <div style={{marginLeft:'80px'}}>\r\n            <h2>Import offset .csv file</h2>\r\n            <input\r\n                className=\"csv-input\"\r\n                type=\"file\"\r\n                ref={input => {\r\n                this.filesInput = input;\r\n                }}\r\n                name=\"upload\" \r\n                id=\"upload\" \r\n                // name=\"file\"\r\n                placeholder={null}\r\n                onChange={this.handleChange}\r\n                // style={{color:'#b47b44'}}\r\n            />\r\n            <Button style={{backgroundColor:'#b47b44',color:'white',marginTop:'1%', display:'flex'}} onClick={this.importCSV} disabled={this.state.upload}> Upload now!</Button>\r\n          </div>\r\n          {this.state.check === true ? \r\n          <div>\r\n            <Card \r\n              style={{ width: '100%',textAlign:'center'}}\r\n              // title=\"Card title\"\r\n              tabList={tabList}\r\n              activeTabKey={this.state.key}\r\n              onTabChange={key => {\r\n                this.onTabChange(key, 'key');\r\n              }}\r\n            >\r\n              {contentList[this.state.key]}\r\n            </Card>\r\n          </div>\r\n          : null}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Mode;  \r\n\r\n","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\nimport './holding.css'\r\nimport { Select,Checkbox,Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport BlockScrolling from \"../../../BlockScrolling\";\r\n\r\nconst { Option } = Select;\r\n\r\nvar map = {\r\n    center: [100.7395539,13.6983666], //mahamek\r\n    zoom: 10,\r\n    // pitch: 100,\r\n    altitudeScale: 3.28,\r\n    baseLayer: new maptalks.TileLayer('base', {\r\n        urlTemplate: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',\r\n        subdomains: ['a','b','c','d'],\r\n        attribution: '&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>'\r\n    }),\r\n}\r\n\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data : [],\r\n            scatter: [],\r\n            checkedList: [],\r\n        };\r\n        this.test = props.data\r\n        this.name = props.name\r\n        \r\n        // this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n  \r\n\r\n    onhandleChange(value,data) {\r\n        // console.log(`selected ${value}`);\r\n        var data_select = []\r\n        var data_scatter = []\r\n        // console.log(value)\r\n        this.setState({checkedList : value})\r\n        for(var j=0;j<value.length;j++){\r\n            for(var i=0;i<data.length;i++){\r\n                if(data[i].name === value[j]){\r\n                    var state = Math.floor((data[i].coords.length)/2)\r\n                    data_select.push(data[i])\r\n                    data_scatter.push([data[i].coords[state][0],data[i].coords[state][1],data[i].coords[state][2],data[i].name])\r\n                    // console.log(data[i])\r\n                }\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        this.setState({data : data_select,scatter:data_scatter})\r\n        // this.setState({data : data_select})\r\n    }\r\n\r\n    getOption = () => ({\r\n        maptalks3D: map, \r\n        series: [\r\n            {\r\n                type: 'scatter3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                itemStyle: {\r\n                    color: 'rgb(50, 50, 150)',\r\n                    opacity: 1\r\n                },\r\n                data: this.state.scatter,\r\n                symbolSize: 1,\r\n                label: {\r\n                    show: true,\r\n                    formatter: function (data) {\r\n                        return data[3];\r\n                    },\r\n                    position: 'insideTop'\r\n                },\r\n            },\r\n            {\r\n                type: 'lines3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                effect: {\r\n                    show: true,\r\n                    constantSpeed: 40,\r\n                    trailWidth: 2,\r\n                    trailLength: 0.05,\r\n                    trailOpacity: 1,\r\n                },\r\n                //blendMode: 'lighter',\r\n                polyline: true,\r\n                lineStyle: {\r\n                    width: 2,\r\n                    color: 'rgb(50, 60, 170)',\r\n                    opacity: 0.5\r\n                },\r\n                data: this.state.data\r\n            }\r\n        ],\r\n    });\r\n\r\n  \r\n    render(props) {\r\n    //   console.log(this.state.csvfile);\r\n      return (\r\n        <div>\r\n            <Col>\r\n                <Select\r\n                    mode=\"multiple\"\r\n                    style={{ width: '50%' ,marginBottom:'2%'}}\r\n                    placeholder=\"Please select flight\"\r\n                    value={this.state.checkedList}\r\n                    // defaultValue={['a10', 'c12']}\r\n                    onChange={e => this.onhandleChange(e,this.test)}\r\n                    //options={this.check}\r\n                >\r\n                    {this.name.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n            </Col>\r\n            <BlockScrolling>\r\n            <ReactEcharts option={this.getOption()}  style={{width:'100%', height:800, border:'1px solid lightgray'}} />\r\n            </BlockScrolling>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    name: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './holding.css'\r\nimport { Select,Button,Form} from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Holding from './echart'\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            checkedList: [],\r\n            distinct_time : [],\r\n            time_default : \"Select Time\",\r\n            date_default : \"Select Date\",\r\n            date_name : [],\r\n            data_time : [],\r\n            name : [],\r\n            data : [],\r\n            click : false\r\n        };\r\n        this.data = props.data\r\n        this.date = props.date\r\n\r\n        this.offsetScrollingRef = React.createRef();\r\n        \r\n        // this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const { click } = this.state;\r\n        if (prevState.click != click && click) {\r\n            const { current } = this.offsetScrollingRef;\r\n            if (current) {\r\n                current.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    Date_onhandleChange(value,data) {\r\n        var data_select = []\r\n        var data_time = []\r\n        this.setState({date_default:value,click:false})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].date === String(value)){\r\n                data_select.push(data[i])\r\n                data_time.push(data[i].time_2.getHours())\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_time)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        var distinct = [...new Set(data_time)].sort(function(a, b){return a-b})\r\n\r\n        this.setState({distinct_time : distinct, date_name:data_select, time_default:\"Select Time\"})\r\n    }\r\n\r\n    Time_onhandleChange(value,data) {\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        var data_name = []\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            if(data[i].time_1.getHours() === parseInt(value) || data[i].time_2.getHours() === parseInt(value)){\r\n                data_select.push(data[i])\r\n                data_name.push(data[i].name)\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        this.setState({data_time : data_select, name:data_name})\r\n    }\r\n\r\n    render(props) {\r\n    //   console.log(this.state.csvfile);\r\n      return (\r\n        <div>\r\n            <div style={{marginBottom:'1%'}}>\r\n            <Form layout=\"inline\">\r\n                {/* <Form layout=\"inline\"> */}\r\n                <Form.Item label=\"Date\">\r\n                <Select placeholder=\"Select Date\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.date_default} onChange={e => this.Date_onhandleChange(e,this.data)}>\r\n                    {this.date.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n\r\n                {this.state.date_default !== 'Select Date' ?\r\n                <Form.Item label=\"Time\">\r\n                <Select placeholder=\"Select Time\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.state.date_name)}>\r\n                    {this.state.distinct_time.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}.00 - {flight}.59</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                : null}\r\n\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time'?\r\n                <Button style={{backgroundColor:'#b47b44',color:'white'}} onClick={this.search}>Search</Button> : null}\r\n                </Form>\r\n                {/* <Button onClick={this.search}>Search</Button> */}\r\n            </div>\r\n            <div>\r\n                <div style={{ position: \"relative\" }}>\r\n                    <div style={{ position: \"absolute\", top: -16 }} ref={this.offsetScrollingRef} />\r\n                </div>\r\n                {this.state.click === true ? \r\n                    <Holding data={this.state.data_time} name={this.state.name}/>\r\n                : null}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    date: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './holding.css'\r\nimport { Select,Checkbox,Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Selectdata from './select_data'\r\n\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [['', '', '']],date:'',time_1:'',time_2:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:''\r\n            }],\r\n            distinct_date : [],\r\n\r\n        };\r\n        this.test = props.data\r\n        this.check = props.check\r\n        \r\n        this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n  \r\n    componentWillMount(){\r\n        if(this.check === true){\r\n            this.getData(this.test)\r\n        }\r\n        // console.log('mount')\r\n        // console.log(this.check)\r\n        // console.log(this.test)\r\n    }\r\n\r\n    componentWillUpdate(nextPorps){\r\n        if(nextPorps.check !== this.check && nextPorps.test !== this.test){\r\n            console.log(this.check , 'next ', nextPorps.check )\r\n            if(this.check === true){\r\n                this.getData(nextPorps.test)\r\n            }\r\n        }\r\n        // console.log('willl')\r\n    }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 === lat2) && (lon1 === lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684 }\r\n            // console.log('nmi') }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    getData(result) {\r\n        // console.log(result.length)\r\n        this.state.arr = [{ name:'',coords: [[]],date:'',time_1:'',time_2:''}]\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].name\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dis = 100000\r\n        var check = false\r\n        var sum = 0\r\n        var dist\r\n        // var time_first\r\n        // var time_last\r\n        var arr_date = []\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            dis = 100000\r\n            check = false\r\n            sum = 0\r\n            // time_first = 0\r\n            // time_last = 0\r\n            var mydate = moment(String(result[num].date), 'YYYY-MM-DD');\r\n            for(var i=num;i<=result.length;i++){\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n                    if(this.distance(13.6567,100.7518,result[num].lat,result[num].long,\"N\") < this.distance(13.6567,100.7518,result[i-1].lat,result[i-1].long,\"N\")){\r\n                        check = false\r\n                    }\r\n                    var test1 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[num].time\r\n                    var time1 = moment(test1).toDate();\r\n                    var local = moment(time1).format('DD/MM/YYYY');\r\n                    //console.log(time1)\r\n                    // dataall_date.push(local)\r\n                    var test2 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    var time2 = moment(test2).toDate();\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    break;\r\n                }\r\n                // var state = result.length-1\r\n                // // console.log(state)\r\n                // dis = this.distance(13.6902099,100.7449953,data[i].coords[0][1], data[i].coords[0][0], \"N\")\r\n                // dis2 = this.distance(13.6902099,100.7449953,data[i].coords[state][1], data[i].coords[state][0], \"N\")\r\n                // // console.log('check' , this.state.arr)\r\n                this.state.arr[j].coords.push([])\r\n                this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].coords[i-num].push(result[i].long)\r\n                this.state.arr[j].coords[i-num].push(result[i].lat)\r\n                this.state.arr[j].coords[i-num].push(result[i].altitude_ft*0.3048)\r\n                // dist = this.distance(13.6567,100.7518,result.data[i][5],result.data[i][4],\"K\")\r\n                // console.log(result.data[i][1],\" \", dist)\r\n                if(check === false){\r\n                    dist = this.distance(13.6567,100.7518,result[i].lat,result[i].long,\"N\")\r\n                    if(dist > dis && (dist > 30 & dist < 50)){\r\n                        // console.log(result.data[i][1],\" \", dist)\r\n                        sum = sum + 1\r\n                        // var timeStart = new Date(\"01/01/2007 \" + data_select[0].date[0][1]);\r\n                        // if(sum === 1){\r\n                        //     var mydate = moment(String(result[i].date), 'YYYY-MM-DD');\r\n                        //     var time1 = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i].time);\r\n                        //     time_first= moment(time1).toDate();\r\n                        //     var local = moment(time_first).format('DD/MM/YYYY');\r\n                        //     // console.log('test' + String(result[i].date))\r\n                        // }\r\n                        if(sum > 15){\r\n                            // console.log(sum)\r\n                            check = true\r\n                            name = result[i].name\r\n                            // var mydate = moment(String(result[i].date), 'YYYY-MM-DD');\r\n                            // time_last = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i].time);\r\n                        }\r\n                        \r\n                    }\r\n                    dis = this.distance(13.6567,100.7518,result[i].lat,result[i].long,\"N\")\r\n                    // console.log(result.data[i][1],\" \", this.distance(13.6567,100.7518,result.data[i][5],result.data[i][4],\"N\"))\r\n                }\r\n            }\r\n            if(check === true){\r\n                this.state.arr[j].time_1 = time1\r\n                this.state.arr[j].time_2 = time2\r\n                this.state.arr[j].date = local\r\n                // arr.push(name)\r\n                arr_date.push(local)\r\n                // console.log(name, ':' ,time_first, ' & ', time_last)\r\n            }\r\n            // else if(check === false){\r\n            //     console.log('false')\r\n            //     this.state.arr.pop()\r\n            // }\r\n            // console.log(j)\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]],date:'',time_1:'',time_2:''})\r\n            }\r\n        }\r\n\r\n        var distinctDate = [...new Set(arr_date)]\r\n        distinctDate.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n        this.setState({dataAll: this.state.arr, distinct_date:distinctDate});\r\n    }\r\n\r\n  \r\n    render(props) {\r\n    //   console.log(this.state.csvfile);\r\n      return (\r\n        <div className=\"App\">\r\n          <h1 style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Holding Visualization</h1>\r\n          <Selectdata data={this.state.dataAll} date={this.state.distinct_date}/>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport './holding.css'\r\nimport Papa from 'papaparse'\r\nimport { Select,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nclass FileReader1 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date: [[]]\r\n            }],\r\n            arr_select : [],\r\n            select : \"\",\r\n            dataHoldingDist : [],\r\n            dataHoldingTime : [],\r\n            distinct_name : [],\r\n            Idealdis: [],\r\n            Idealtime: [],\r\n            data_select_name : [],\r\n            flight_default : \"Select Flight\",\r\n            date_default : \"Select Date\",\r\n            heavy: ['A38','A35','A33','B74','B77','B78'],\r\n            large: ['A31','A32','B73','A20'],\r\n            small: ['AT7'],\r\n            point : [{name: 'LEBIM',lat:13.087447 ,lon: 100.473475, dis:62.04648723260302},\r\n            {name: 'NORTA',lat:14.718789 ,lon: 100.639017, dis:57.16186200443073},\r\n            {name: 'EASTE',lat:14.309667 ,lon: 101.286244, dis:74.06176424138363},\r\n            {name: 'WILLA',lat:14.404717 ,lon: 100.059822, dis:64.93007258847182},\r\n            {name: 'DOLNI',lat:13.294339 ,lon: 101.180114, dis:58.124521104594955}],\r\n            click: false\r\n        };\r\n\r\n        this.date = props.date\r\n        this.dataref = props.dataref\r\n        this.data = props.data\r\n\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 === lat2) && (lon1 === lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684 }\r\n            // console.log('nmi') }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    // process(date){\r\n    //     var parts = date.split(\"/\");\r\n    //     return new Date(parts[2], parts[1] - 1, parts[0]);\r\n    // }\r\n\r\n    average = list => list.reduce((prev, curr) => prev + curr) / list.length;\r\n\r\n    alldata(value,data,date){\r\n        // console.log(data)\r\n        var avg = []\r\n        var avg_time = []\r\n        var res = []\r\n        var selectdata = []\r\n        var count = 0\r\n        var dis = 100000\r\n        var check = false\r\n        var sum = 0\r\n        var dist\r\n        var num = 0\r\n        var mydate1 = moment(String(date), 'DD/MM/YYYY').add(5, 'days');\r\n        var mydate2 = moment(String(date), 'DD/MM/YYYY').add(-5, 'days');\r\n        var newdate;\r\n        // console.log(mydate1,mydate2)\r\n        // console.log(mydate.subtract('1', 'days'))\r\n        for(var i=0;i<data.length-1;i++){\r\n            newdate = moment(String(data[i].date), 'YYYY-MM-DD')\r\n            if(data[i].name === value && mydate1 > newdate && mydate2 < newdate){\r\n                // console.log(moment(String(data[i].date), 'YYYY-MM-DD'))\r\n                // if(mydate1 > newdate && mydate2 < newdate){\r\n                //     // console.log(newdate)\r\n                // }\r\n                if(data[i+1].name === '-'){\r\n                    // console.log(i)\r\n                    selectdata.push('-')\r\n                    // avg.push(sum)\r\n                    // sum = 0\r\n                }\r\n                else{\r\n                    selectdata.push(data[i])\r\n                    // sum = sum + this.distance(data[i].lat,data[i].long,data[i+1].lat,data[i+1].long,\"N\")\r\n                }\r\n            }\r\n        }\r\n        // console.log('selct',selectdata)\r\n        if(selectdata.length === 0){\r\n            return 0;\r\n        }\r\n        for(var i=0;i<selectdata.length-1;i++){\r\n            if(selectdata[i+1] === '-'){\r\n                check = false\r\n                dis = 100000\r\n                sum = 0\r\n                if(count != 0){\r\n                    avg.push(count)\r\n                    count = 0\r\n                    var mydate = moment(String(selectdata[i].date), 'YYYY-MM-DD');\r\n                    // console.log(mydate)\r\n                    var timeEnd = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + selectdata[i].time);\r\n                    // var timeEnd = new Date(\"01/01/2007 \" + selectdata[i].time);\r\n                    var Diff = timeEnd - timeStart;\r\n                    avg_time.push(Diff)\r\n                }\r\n                i = i+2\r\n                num = i\r\n                // console.log('----')\r\n            }\r\n            if(check === false && i < selectdata.length-1){\r\n                dist = this.distance(13.6567,100.7518,selectdata[i].lat,selectdata[i].long,\"N\")\r\n                if(dist > dis && (dist > 30 & dist < 50)){\r\n                    // console.log(result.data[i][1],\" \", dist)\r\n                    sum = sum + 1\r\n                    if(sum > 15){\r\n                        check = true\r\n                        // console.log(sum)\r\n                    }\r\n                    \r\n                }\r\n                dis = this.distance(13.6567,100.7518,selectdata[i].lat,selectdata[i].long,\"N\")\r\n                count = count + this.distance(selectdata[i].lat,selectdata[i].long,selectdata[i+1].lat,selectdata[i+1].long,\"N\")\r\n                if(num === i){\r\n                    var mydate = moment(String(selectdata[num].date), 'YYYY-MM-DD');\r\n                    var timeStart = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + selectdata[num].time);\r\n                    // var timeStart = new Date(\"01/01/2007 \" + selectdata[num].time);\r\n                }\r\n                // console.log(result.data[i][1],\" \", this.distance(13.6567,100.7518,result.data[i][5],result.data[i][4],\"N\"))\r\n            }\r\n            if(check === true){\r\n                count = 0\r\n            }\r\n            // console.log('count',count)\r\n        }\r\n        res.push(this.average(avg),this.average(avg_time))\r\n        return res\r\n    }\r\n\r\n    closest(array,point){\r\n        var i=0;\r\n        var j=0;\r\n        var minDiff=1000000;\r\n        var distance;\r\n        var value;\r\n        var res;\r\n        for(i in array){\r\n            // console.log('i',array[i])\r\n            for(j in point){\r\n                // console.log(point[j])\r\n                var dis = this.distance(array[i][1],array[i][0],point[j].lat,point[j].lon,\"N\")\r\n                // console.log(dis)\r\n                // var m=Math.abs(dis-array[i][0]);\r\n                if(dis<minDiff){ \r\n                    minDiff=dis; \r\n                    value=point[j]\r\n                }\r\n            }\r\n        }\r\n        // res = (num*value)/distance\r\n        // distribute[param].data.push(res)\r\n        return value;\r\n    }\r\n\r\n    Date_onhandleChange(value,data) {\r\n        var data_select = []\r\n        var data_name = []\r\n        this.setState({date_default:value})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].datetime === String(value)){\r\n                data_select.push(data[i])\r\n                data_name.push(data[i].name)\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        var distinctName = [...new Set(data_name)]\r\n        // console.log(data_time)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        // var distinct = [...new Set(data_time)].sort(function(a, b){return a-b})\r\n\r\n        this.setState({distinct_name : distinctName, data_select_name:data_select, flight_default:\"Select Flight\"})\r\n    }\r\n\r\n    onhandleChange(value,data) {\r\n        if(value !== 'Select Flight'){\r\n            this.setState({flight_default:value})\r\n            var data_select = []\r\n            var data_dist = []\r\n            var data_time = []\r\n            var ground = 0\r\n            var speed_size = 0\r\n            var speed_size_des = 0\r\n            var res = this.alldata(value,this.dataref,this.state.date_default)\r\n            for(var i=0;i<data.length;i++){\r\n                if(data[i].name === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n\r\n            if(this.state.heavy.includes(data_select[0].aircraft)) {\r\n                speed_size = 150*0.868976\r\n                speed_size_des = 500\r\n            }\r\n            else if(this.state.large.includes(data_select[0].aircraft)){\r\n                speed_size = 140*0.868976;\r\n                speed_size_des = 450\r\n            } \r\n            else if(this.state.small.includes(data_select[0].aircraft)) {\r\n                speed_size = 140*0.868976;    \r\n                speed_size_des = 450\r\n            }\r\n\r\n            //-----------------compute part ideal-------------------------------\r\n            var close = this.closest(data_select[0].coords,this.state.point)\r\n            var ideal = Math.round(this.distance(data_select[0].coords[0][1],data_select[0].coords[0][0],close.lat,close.lon,\"N\") + close.dis)\r\n            var resIdeal = [['Not holding',ideal],['Holding',ideal]]\r\n\r\n            var ideal_speedperhour = (this.distance(data_select[0].coords[0][1],data_select[0].coords[0][0],close.lat,close.lon,\"N\")/speed_size_des) + (close.dis/speed_size)\r\n            var ideal_speed = Math.round(ideal_speedperhour*60)\r\n            var resIdealtime = [['Not holding',ideal_speed],['Holding',ideal_speed]]\r\n            this.setState({Idealdis:resIdeal, Idealtime:resIdealtime})\r\n\r\n            var mydate = moment(String(data_select[0].date[0][0]), 'YYYY-MM-DD');\r\n            var timeStart = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + data_select[0].date[0][1]);\r\n            // var timeStart = new Date(\"01/01/2007 \" + data_select[0].date[0][1]);\r\n            var timeEnd = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + data_select[0].date[data_select[0].date.length-1][1]);\r\n            // var timeEnd = new Date(\"01/01/2007 \" + data_select[0].date[data_select[0].date.length-1][1]);\r\n\r\n            var Diff = timeEnd - timeStart;\r\n\r\n            for(var i=1;i<data_select[0].coords.length;i++){\r\n                ground = ground + this.distance(data_select[0].coords[i-1][1],data_select[0].coords[i-1][0],data_select[0].coords[i][1],data_select[0].coords[i][0],\"N\")\r\n            }\r\n            var time_hold = Diff * 0.16666666666667 * 0.0001\r\n            var time_non = res[1] * 0.16666666666667 * 0.0001\r\n            data_dist.push(['Not holding',Math.round(res[0])])\r\n            data_dist.push(['Holding',Math.round(ground)])\r\n            data_time.push(['Not holding',Math.round(time_non)])\r\n            data_time.push(['Holding',Math.round(time_hold)])\r\n            this.setState({dataHoldingDist : data_dist, dataHoldingTime : data_time})\r\n        }\r\n        else{\r\n            this.setState({dataHoldingDist : [], dataHoldingTime : [],Idealdis:[], Idealtime:[]})\r\n        }\r\n    }\r\n\r\n    getOption = () => ({\r\n        xAxis: {\r\n            type: 'category',\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'distance (nmi)',\r\n            nameLocation: 'center',\r\n            nameGap: 80,\r\n            nameTextStyle: {\r\n                fontSize: 20\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.dataHoldingDist,\r\n                type: 'bar',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        position: 'inside',\r\n                        fontSize: 20\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                type: 'line',\r\n                data: this.state.Idealdis,\r\n                lineStyle: {\r\n                    opacity : 0\r\n                },\r\n                symbol : 'none',\r\n                markLine: {\r\n                    data: [\r\n                        {type: 'average', name: 'Ideal'}\r\n                    ],\r\n                    lineStyle: {\r\n                        width : 2\r\n                    },\r\n                    label: {\r\n                        normal: {\r\n                            show: true,\r\n                            fontSize: 20\r\n                        }\r\n                    },\r\n                }\r\n            }\r\n        ]      \r\n    });\r\n    getOptiontime = () => ({\r\n        xAxis: {\r\n            type: 'category',\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        yAxis: {\r\n            type: 'value',\r\n            name: 'time (min)',\r\n            nameLocation: 'center',\r\n            nameGap: 80,\r\n            nameTextStyle: {\r\n                fontSize: 20,\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                interval: 'auto',\r\n                inside: false,\r\n                fontSize: 22,\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                data: this.state.dataHoldingTime,\r\n                type: 'bar',\r\n                label: {\r\n                    normal: {\r\n                        show: true,\r\n                        position: 'inside',\r\n                        fontSize: 20\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                type: 'line',\r\n                data: this.state.Idealtime,\r\n                lineStyle: {\r\n                    opacity : 0\r\n                },\r\n                symbol : 'none',\r\n                markLine: {\r\n                    data: [\r\n                        {type: 'average', name: 'Ideal'}\r\n                    ],\r\n                    lineStyle: {\r\n                        width : 2\r\n                    },\r\n                    label: {\r\n                        normal: {\r\n                            show: true,\r\n                            fontSize: 20\r\n                        }\r\n                    },\r\n                }\r\n            }\r\n        ]      \r\n    });\r\n  \r\n    render(props) {\r\n    //   console.log(this.date);\r\n      return (\r\n        <div>\r\n            <Form layout=\"inline\">\r\n            <Form.Item label=\"Date\">\r\n            <Select placeholder=\"Select Date\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.date_default} onChange={e => this.Date_onhandleChange(e,this.data)}>\r\n                {this.date.map(flight => (\r\n                    <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                ))}\r\n            </Select>\r\n            </Form.Item>\r\n\r\n            {this.state.date_default !== 'Select Date' ?\r\n            <Form.Item label=\"Flight no\">\r\n            <Select placeholder=\"Select Flight\" style={{ width: 300, fontSize: \"1.2rem\" }} value={this.state.flight_default} onChange={e => this.onhandleChange(e,this.state.data_select_name)}>\r\n                {this.state.distinct_name.map(flight => (\r\n                    <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                ))}\r\n            </Select>\r\n            </Form.Item>\r\n            : null}\r\n            </Form>\r\n\r\n            <ReactEcharts option={this.getOption()} style={{width:'60%', height:500, display:'inline-block'}} />\r\n            <ReactEcharts option={this.getOptiontime()} style={{width:'60%', height:500,  display:'inline-block'}} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader1.propTypes = {\r\n    data: PropTypes.array,\r\n    date: PropTypes.array,\r\n    dataref: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader1;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './holding.css'\r\nimport { Select,Checkbox,Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Selectdata from './select_data'\r\n\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [['', '', '']],date:'',time_1:'',time_2:'',aircraft:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                aircraft:''\r\n            }],\r\n            distinct_name : [],\r\n            distinct_date : []\r\n\r\n        };\r\n        this.test = props.data\r\n        this.check = props.status\r\n        this.dataref = props.dataref\r\n\r\n        this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n  \r\n    componentWillMount(){\r\n        if(this.check === false){\r\n            this.getData(this.test)\r\n        }\r\n        // console.log('mount')\r\n        // console.log(this.check)\r\n        // console.log(this.test)\r\n    }\r\n\r\n    componentWillUpdate(nextPorps){\r\n        if(nextPorps.check !== this.check && nextPorps.test !== this.test){\r\n            // console.log(this.check , 'next ', nextPorps.check )\r\n            if(this.check === false){\r\n                this.getData(nextPorps.test)\r\n            }\r\n        }\r\n        // console.log('willl')\r\n    }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 === lat2) && (lon1 === lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684 }\r\n            // console.log('nmi') }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    getData(result) {\r\n        this.state.arr = [{\r\n            name:'',\r\n            coords: [[]],\r\n            date: [[]],\r\n            aircraft:'',\r\n            datetime:''\r\n        }]\r\n        // console.log(result.length)\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].name\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dis = 100000\r\n        var arr_name = []\r\n        var arr_date = []\r\n        var check = false\r\n        var sum = 0\r\n        var dist\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            dis = 100000\r\n            check = false\r\n            sum = 0\r\n            for(var i=num;i<=result.length;i++){\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n                    if(this.distance(13.6567,100.7518,result[num].lat,result[num].long,\"N\") < this.distance(13.6567,100.7518,result[i-1].lat,result[i-1].long,\"N\")){\r\n                        check = false\r\n                    }\r\n                    this.state.arr[j].aircraft = result[i-1].aircraft\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    this.state.arr[j].date.pop()\r\n                    break;\r\n                }\r\n                this.state.arr[j].coords.push([])\r\n                this.state.arr[j].date.push([])\r\n                // this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].coords[i-num].push(result[i].long)\r\n                this.state.arr[j].coords[i-num].push(result[i].lat)\r\n                this.state.arr[j].coords[i-num].push(result[i].altitude_ft*0.3048)\r\n                this.state.arr[j].date[i-num].push(result[i].date)\r\n                this.state.arr[j].date[i-num].push(result[i].time)\r\n                if(check === false){\r\n                    dist = this.distance(13.6567,100.7518,result[i].lat,result[i].long,\"N\")\r\n                    if(dist > dis && (dist > 30 & dist < 50)){\r\n                        // console.log(result.data[i][1],\" \", dist)\r\n                        sum = sum + 1\r\n                        if(sum > 15){\r\n                            // console.log(sum)\r\n                            check = true\r\n                            name = result[i].name\r\n                            var mydate = moment(String(result[i].date), 'YYYY-MM-DD');\r\n                            // time_first = new Date(moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i].time);\r\n                            var local = moment(mydate).format('DD/MM/YYYY');\r\n\r\n                        }\r\n                        \r\n                    }\r\n                    dis = this.distance(13.6567,100.7518,result[i].lat,result[i].long,\"N\")\r\n                    // console.log(result.data[i][1],\" \", this.distance(13.6567,100.7518,result.data[i][5],result.data[i][4],\"N\"))\r\n                }\r\n            }\r\n            if(check === true){\r\n                this.state.arr[j].name = name\r\n                //arr_name.push(name)\r\n                this.state.arr[j].datetime = local\r\n                // arr.push(name)\r\n                arr_date.push(local)\r\n                // arr_date.push(local)\r\n                // console.log(name, ':' ,time_first, ' & ', time_last)\r\n            }\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]], date:[[]],aircraft:'',datetime:''})\r\n            }\r\n        }\r\n\r\n        var distinctDate = [...new Set(arr_date)]\r\n        distinctDate.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n        // var distinctName = [...new Set(arr_name)]\r\n        // console.log(distinctDate)\r\n        this.setState({dataAll: this.state.arr,  distinct_date:distinctDate});\r\n    }\r\n\r\n  \r\n    render(props) {\r\n    //   console.log(this.dataref);\r\n      return (\r\n        <div className=\"App\">\r\n          <h1 style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Holding Analytics</h1>\r\n          <Selectdata data={this.state.dataAll} date={this.state.distinct_date} dataref={this.dataref}/>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    status: PropTypes.bool,\r\n    dataref: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport './holding.css'\r\nimport Papa from 'papaparse'\r\nimport { Select, Button,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Detect from './detect_holding'\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nclass FileReader1 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            csvfile: undefined,\r\n            status : true,\r\n            data : null,\r\n            upload: true\r\n            // route : [\r\n            // [{name: 'LEBIM',lat:13.087447 ,lon: 100.473475},\r\n            // {name: 'INNDY',lat:13.271014 ,lon: 100.624633},\r\n            // {name: 'SALSA',lat:13.466314 ,lon: 100.785817},\r\n            // {name: 'LATIN',lat:13.662172 ,lon: 100.839414},\r\n            // {name: 'SE191',lat:13.91385 ,lon: 100.908408},\r\n            // {name: 'EKCHO',lat:13.996256 ,lon: 100.931042}],\r\n            // [{name: 'DOLNI',lat:13.294339 ,lon: 101.180114},\r\n            // {name: 'BEATS',lat:13.364217 ,lon: 101.020128},\r\n            // {name: 'SALSA',lat:13.466314 ,lon: 100.785817},\r\n            // {name: 'LATIN',lat:13.662172 ,lon: 100.839414},\r\n            // {name: 'SE191',lat:13.91385 ,lon: 100.908408},\r\n            // {name: 'EKCHO',lat:13.996256 ,lon: 100.931042}],\r\n            // [{name: 'EASTE',lat:14.309667 ,lon: 101.286244},\r\n            // {name: 'LENTO',lat:14.102892 ,lon: 101.084469},\r\n            // {name: 'TUMBA',lat:13.962453 ,lon: 101.045858},\r\n            // {name: 'SANJO',lat:13.631817 ,lon: 100.9552},\r\n            // {name: 'LATIN',lat:13.662172 ,lon: 100.839414},\r\n            // {name: 'SE191',lat:13.91385 ,lon: 100.908408},\r\n            // {name: 'EKCHO',lat:13.996256 ,lon: 100.931042}],\r\n            // [{name: 'WILLA',lat:14.404717 ,lon: 100.059822},\r\n            // {name: 'BAROK',lat:14.37175 ,lon: 100.191836},\r\n            // {name: 'SW195',lat:14.334878 ,lon: 100.339122},\r\n            // {name: 'SW194',lat:14.298961 ,lon: 100.4822},\r\n            // {name: 'SW193',lat:14.250286 ,lon: 100.675492},\r\n            // {name: 'SW192',lat:13.992608 ,lon: 100.607731},\r\n            // {name: 'SW191',lat:13.962311 ,lon: 100.723583},\r\n            // {name: 'WALTZ',lat:14.043339 ,lon: 100.745058}],\r\n            // [{name: 'NORTA',lat:14.718789 ,lon: 100.639017},\r\n            // {name: 'SW196',lat:14.576814 ,lon: 100.682742},\r\n            // {name: 'FORTE',lat:14.438839 ,lon: 100.725189},\r\n            // {name: 'SW193',lat:14.250286 ,lon: 100.675492},\r\n            // {name: 'SW192',lat:13.992608 ,lon: 100.607731},\r\n            // {name: 'SW191',lat:13.962311 ,lon: 100.723583},\r\n            // {name: 'WALTZ',lat:14.043339 ,lon: 100.745058}]\r\n            // ]\r\n        };\r\n\r\n        this.test = props.data\r\n        this.check = props.check\r\n\r\n        // this.getData = this.getData.bind(this);\r\n        this.updateData = this.updateData.bind(this)\r\n    }\r\n\r\n    // componentWillMount(){\r\n    //   if(this.check === true){\r\n    //       this.getData(this.state.route)\r\n    //   }\r\n    //   // console.log('mount')\r\n    //   // console.log(this.check)\r\n    //   // console.log(this.test)\r\n    // }\r\n\r\n    // getData(result){\r\n    //   var i=0;\r\n    //   for(i in result){\r\n    //     var res = 0\r\n    //     // console.log(result[i])\r\n    //     for(var j=1;j<result[i].length;j++){\r\n    //       // console.log(result[i][j-1].lat)\r\n    //       // console.log(result[i][j-1].lon)\r\n    //       res = res + this.distance(result[i][j-1].lat,result[i][j-1].lon,result[i][j].lat,result[i][j].lon,\"N\")\r\n    //     }\r\n    //     console.log(res)\r\n    //   }\r\n    // }\r\n\r\n    // distance(lat1, lon1, lat2, lon2, unit) {\r\n    //   if ((lat1 === lat2) && (lon1 === lon2)) {\r\n    //       return 0;\r\n    //   }\r\n    //   else {\r\n    //       var radlat1 = Math.PI * lat1/180;\r\n    //       var radlat2 = Math.PI * lat2/180;\r\n    //       var theta = lon1-lon2;\r\n    //       var radtheta = Math.PI * theta/180;\r\n    //       var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    //       if (dist > 1) {\r\n    //           dist = 1;\r\n    //       }\r\n    //       dist = Math.acos(dist);\r\n    //       dist = dist * 180/Math.PI;\r\n    //       dist = dist * 60 * 1.1515;\r\n    //       if (unit===\"K\") { dist = dist * 1.609344 }\r\n    //       if (unit===\"N\") { dist = dist * 0.8684 }\r\n    //       // console.log('nmi') }\r\n    //       return dist;\r\n    //   }\r\n    // }\r\n    \r\n    handleChange = event => {\r\n        this.setState({\r\n          csvfile: event.target.files[0],\r\n          upload: false\r\n        //   check: false\r\n        });\r\n    };\r\n    \r\n\r\n    importCSV = () => {\r\n        const { csvfile } = this.state;\r\n        Papa.parse(csvfile, {\r\n          complete: this.updateData,\r\n          header: true\r\n        });\r\n    };\r\n    \r\n    updateData(result) {\r\n        var rawdata = result.data;\r\n        this.setState({data : rawdata, status:false})\r\n        // console.log('data:' , result.data)\r\n        // this.forceUpdate();\r\n    }\r\n\r\n    render(props) {\r\n      // console.log(this.state.data);\r\n      return (\r\n        <div className=\"App\">\r\n            <h2>Import reference .csv file</h2>\r\n            <input\r\n                className=\"csv-input\"\r\n                type=\"file\"\r\n                ref={input => {\r\n                this.filesInput = input;\r\n                }}\r\n                name=\"file\"\r\n                placeholder={null}\r\n                onChange={this.handleChange}\r\n            />\r\n            <p />\r\n            <Button style={{backgroundColor:'#b47b44',color:'white'}} onClick={this.importCSV} disabled={this.state.upload}> Upload now!</Button>\r\n            {this.state.status === false ? \r\n            <Detect data={this.test} status={this.state.status} dataref={this.state.data}/>\r\n            : null}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader1.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader1;","import { Card,Button } from 'antd';\r\nimport React from \"react\";\r\n// import Holding from '../../visualize/holding';\r\nimport Holding from './visualize/detect_holding';\r\n// import HoldingAnalyze from '../../analytics/holding'\r\nimport HoldingAnalyze from './analytics/read_reference'\r\nimport Papa from 'papaparse'\r\n\r\nconst tabList = [\r\n    {\r\n      key: 'tab1',\r\n      tab: 'visualize',\r\n    },\r\n    {\r\n      key: 'tab2',\r\n      tab: 'analyze',\r\n    },\r\n];\r\n\r\n// const contentList = {\r\n//     tab1: <Holding/>,\r\n//     tab2: <HoldingAnalyze/>,\r\n// };\r\n\r\nclass Mode extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      key: 'tab1',\r\n      csvfile: undefined,\r\n      data : null,\r\n      check : false,\r\n      upload : true\r\n    };\r\n    // this.test = props.data\r\n\r\n    // this.getData = this.getData.bind(this);\r\n    this.updateData = this.updateData.bind(this);\r\n  }\r\n  \r\n    onTabChange = (key, type) => {\r\n      console.log(key, type);\r\n      this.setState({ [type]: key });\r\n    };\r\n\r\n    handleChange = event => {\r\n      this.setState({\r\n        csvfile: event.target.files[0],\r\n        check: false,\r\n        upload:false\r\n      });\r\n    };\r\n  \r\n    importCSV = () => {\r\n      const { csvfile } = this.state;\r\n      Papa.parse(csvfile, {\r\n        complete: this.updateData,\r\n        header: true\r\n      });\r\n    };\r\n  \r\n    updateData(result) {\r\n      var rawdata = result.data;\r\n      this.setState({data : rawdata, check : true, key : 'tab1'})\r\n      // this.forceUpdate();\r\n    }\r\n  \r\n    render() {\r\n      const contentList = {\r\n        tab1: <Holding check={this.state.check} data={this.state.data}/>,\r\n        tab2: <HoldingAnalyze check={this.state.check} data={this.state.data}/>,\r\n      };\r\n      return (\r\n        <div className='importbar'>\r\n          <div style={{marginLeft:'80px'}}>\r\n            <h2>Import holding .csv file</h2>\r\n            <input\r\n                className=\"csv-input\"\r\n                type=\"file\"\r\n                ref={input => {\r\n                this.filesInput = input;\r\n                }}\r\n                name=\"file\"\r\n                placeholder={null}\r\n                onChange={this.handleChange}\r\n            />\r\n            <p />\r\n            <Button  style={{backgroundColor:'#b47b44',color:'white',marginTop:'1%', display:'flex'}} onClick={this.importCSV} disabled={this.state.upload}> Upload now!</Button>\r\n          </div>\r\n          {this.state.check === true ? \r\n          <Card\r\n            style={{ width: '100%', textAlign: \"center\"}}\r\n            // title=\"Card title\"\r\n            tabList={tabList}\r\n            activeTabKey={this.state.key}\r\n            onTabChange={key => {\r\n              this.onTabChange(key, 'key');\r\n            }}\r\n          >\r\n            {contentList[this.state.key]}\r\n          </Card>\r\n          : null}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\nexport default Mode;  \r\n\r\n","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './holding.css'\r\nimport { Select,Checkbox,Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport BlockScrolling from \"../../../BlockScrolling\";\r\n\r\nconst { Option } = Select;\r\n\r\nvar map = {\r\n    center: [100.7395539,13.6983666], //mahamek\r\n    zoom: 8,\r\n    // pitch: 100,\r\n    altitudeScale: 3.28,\r\n    baseLayer: new maptalks.TileLayer('base', {\r\n        urlTemplate: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',\r\n        subdomains: ['a','b','c','d'],\r\n        attribution: '&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>'\r\n    }),\r\n}\r\n\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data : [],\r\n            runway : [{name:'01R',lat:13.656697,long:100.751831},\r\n            {name:'01L',lat:13.671278,long:100.734664},\r\n            {name:'19L',lat:13.691714,long:100.761033},\r\n            {name:'19R',lat:13.703669,long:100.743178}],\r\n            checkedList: [],\r\n            data_line : [],\r\n            heavy: ['A38','A35','A33','B74','B77','B78'],\r\n            large: ['A31','A32','B73','A20'],\r\n            small: ['AT7'],\r\n        };\r\n        this.data = props.data\r\n        this.time_pick = props.time_pick\r\n        this.name_pick = props.name\r\n        this.time = props.time\r\n        this.turn = props.turn\r\n        \r\n        // this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        // console.log(this.data)\r\n        this.getData(this.data)\r\n    }\r\n  \r\n    timeStringToFloat(time) {\r\n        // console.log(time)\r\n        var hoursMinutes = time.split(':');\r\n        var hours = parseInt(hoursMinutes[0], 10);\r\n        var minutes = hoursMinutes[1] ? parseInt(hoursMinutes[1], 10) : 0;\r\n        var seconds = hoursMinutes[2] ? parseInt(hoursMinutes[2], 10) : 0;\r\n        return hours + minutes / 60 + seconds / 3600;\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    interpolate(x1,y1,x2,y2,x){\r\n        // console.log(x1,y1,x2,y2,x)\r\n        var diff = ((y2-y1)/(x2-x1))*(x-x1)\r\n        var res = diff+y1\r\n        return res\r\n    }\r\n\r\n    getData(data){\r\n        var timepick = this.timeStringToFloat( moment(this.time_pick).format('HH:mm:ss'))\r\n        // console.log(\"...\",timepick)\r\n        // var i=0\r\n        var first,last;\r\n        var lat_min, lon_min, time_min,altitude_min;\r\n        var lat_max, lon_max, time_max,altitude_max;\r\n        var lat,lon,altitude;\r\n        var array = []\r\n        var scatter = []\r\n        var line = []\r\n        var coord = []\r\n        var color_num = 0\r\n        // console.log('pick' , timepick)\r\n        // console.log(this.time)\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            var dis,dis_runway;\r\n            var state = 0\r\n            for(var j=1;j<data[i].data.coords.length;j++){\r\n                // moment(data[i].coords[j-1][3]).format('HH:mm:ss')\r\n                first = this.timeStringToFloat( moment(data[i].data.coords[j-1][3]).format('HH:mm:ss'))\r\n                last = this.timeStringToFloat( moment(data[i].data.coords[j][3]).format('HH:mm:ss'))\r\n                // console.log(first,\" : \",timepick,\" : \",last)\r\n                if(timepick >= first && timepick <= last){\r\n                    // console.log('if')\r\n                    lon_min = data[i].data.coords[j-1][0]\r\n                    lon_max = data[i].data.coords[j][0]\r\n                    lat_min = data[i].data.coords[j-1][1]\r\n                    lat_max = data[i].data.coords[j][1]\r\n                    altitude_min = data[i].data.coords[j-1][2]\r\n                    altitude_max = data[i].data.coords[j][2]\r\n                    time_min = first\r\n                    time_max = last\r\n                    state = j-1\r\n                    break\r\n                }\r\n            }\r\n            var res_lon = this.interpolate(time_min,parseFloat(lon_min),time_max,parseFloat(lon_max),timepick)\r\n            var res_lat = this.interpolate(time_min,parseFloat(lat_min),time_max,parseFloat(lat_max),timepick)\r\n            var res_alt = this.interpolate(time_min,parseFloat(altitude_min),time_max,parseFloat(altitude_max),timepick)\r\n            \r\n            //--------------------detect miles from runway-------------------------------\r\n            if(this.turn[i].runway === '01R') dis_runway = this.distance(this.state.runway[0].lat,this.state.runway[0].long,res_lat,res_lon)\r\n            else if(this.turn[i].runway === '01L') dis_runway = this.distance(this.state.runway[1].lat,this.state.runway[1].long,res_lat,res_lon)\r\n            else if(this.turn[i].runway === '19L') dis_runway = this.distance(this.state.runway[2].lat,this.state.runway[2].long,res_lat,res_lon)\r\n            else if(this.turn[i].runway === '19R') dis_runway = this.distance(this.state.runway[3].lat,this.state.runway[3].long,res_lat,res_lon)\r\n            //-------------------- compute distance between airplane----------------------\r\n            if(i < data.length-1 && res_alt !== 0 && dis_runway < 15){\r\n                // console.log('if')\r\n                var head; \r\n                if(this.state.heavy.includes(data[i].data.aircraft)){\r\n                    scatter.push([res_lon,res_lat,res_alt,15,data[i].name])\r\n                    head = 'heavy'\r\n                } \r\n                else if(this.state.large.includes(data[i].data.aircraft)){\r\n                    scatter.push([res_lon,res_lat,res_alt,10,data[i].name])\r\n                    head = 'large'\r\n                }\r\n                else if(this.state.small.includes(data[i].data.aircraft)) {\r\n                    scatter.push([res_lon,res_lat,res_alt,5,data[i].name])\r\n                    head = 'small'\r\n                }\r\n                else{\r\n                    scatter.push([res_lon,res_lat,res_alt,10,data[i].name])\r\n                    head = 'large'\r\n                }\r\n                // console.log('scatter',scatter)\r\n                var follow;\r\n                if(this.state.heavy.includes(data[i+1].data.aircraft)) follow = 'heavy';\r\n                else if(this.state.large.includes(data[i+1].data.aircraft)) follow = 'large';\r\n                else if(this.state.small.includes(data[i+1].data.aircraft)) follow = 'small';  \r\n                else follow = 'large';\r\n                \r\n                var real_dis = 0;\r\n                if(head === 'small') real_dis = 3;\r\n                else if(head === 'large'){\r\n                    if(follow === 'small') real_dis = 4;\r\n                    else real_dis = 3;\r\n                }\r\n                else if(head === 'heavy'){\r\n                    if(follow === 'small') real_dis = 6;\r\n                    else if(follow === 'large') real_dis = 5;\r\n                    else real_dis = 4;\r\n                }\r\n\r\n                dis = this.distance(res_lat,res_lon,data[i].data.coords[state][1],data[i].data.coords[state][0])\r\n                coord = [[res_lon,res_lat,res_alt],[data[i].data.coords[state][0],data[i].data.coords[state][1],data[i].data.coords[state][2]]]\r\n                for(var j=state;j>1;j--){\r\n                    dis = dis + this.distance(data[i].data.coords[j][1],data[i].data.coords[j][0],data[i].data.coords[j-1][1],data[i].data.coords[j-1][0])\r\n                    if(dis >= real_dis){\r\n                        break\r\n                    }\r\n                    coord.push([data[i].data.coords[j-1][0],data[i].data.coords[j-1][1],data[i].data.coords[j-1][2]])\r\n                }\r\n                if(coord.length > 2){\r\n                    // console.log(color_num)\r\n                    if(color_num % 2 == 0){\r\n                        // console.log('even')\r\n                        line.push({name:data[i].name,coords:coord,\r\n                        lineStyle: {\r\n                            width: 3,\r\n                            color: '#a6c84c',\r\n                            opacity: 1\r\n                        }})\r\n                        color_num += 1\r\n                    }\r\n                    else if(color_num % 2 != 0){\r\n                        // console.log('odd')\r\n                        line.push({name:data[i].name,coords:coord,\r\n                        lineStyle: {\r\n                            width: 3,\r\n                            color: '#ffa022',\r\n                            opacity: 1\r\n                        }}) \r\n                        color_num += 1\r\n                    }\r\n                    // color_num += 1\r\n                }\r\n            }\r\n            else if(i === data.length-1 && dis_runway < 15){\r\n                if(this.state.heavy.includes(data[i].data.aircraft)){\r\n                    scatter.push([res_lon,res_lat,res_alt,15,data[i].name])\r\n                    // head = 'heavy'\r\n                } \r\n                else if(this.state.large.includes(data[i].data.aircraft)){\r\n                    scatter.push([res_lon,res_lat,res_alt,10,data[i].name])\r\n                    // head = 'large'\r\n                }\r\n                else if(this.state.small.includes(data[i].data.aircraft)) {\r\n                    scatter.push([res_lon,res_lat,res_alt,5,data[i].name])\r\n                    // head = 'small'\r\n                }\r\n            }\r\n        }\r\n        // console.log('arr', array)\r\n        // console.log('line', line)\r\n        var rev = line.reverse()\r\n        this.setState({data : scatter,data_line:rev})\r\n    }\r\n\r\n    getOption = () => ({\r\n        maptalks3D: map,\r\n        series: [\r\n            {\r\n                type: 'scatter3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                itemStyle: {\r\n                    color: 'rgb(50, 50, 150)',\r\n                    opacity: 1\r\n                },\r\n                data: this.state.data,\r\n                symbolSize: function (data) {\r\n                    return data[3];\r\n                },\r\n                label: {\r\n                    show: true,\r\n                    formatter: function (data) {\r\n                        return data[3];\r\n                    },\r\n                    position: 'insideTop'\r\n                },\r\n            },\r\n            {\r\n                type: 'lines3D',\r\n                coordinateSystem: 'maptalks3D',\r\n                polyline: true,\r\n                data: this.state.data_line\r\n            }\r\n        ],\r\n    });\r\n\r\n  \r\n    render(props) {\r\n    //   console.log(this.state.csvfile);\r\n      return (\r\n        <div className=\"App\">\r\n            <BlockScrolling>\r\n            <ReactEcharts option={this.getOption()}  style={{width:'100%', height:800, border:'1px solid lightgray'}}/>\r\n            </BlockScrolling>\r\n            {/* <Plot data={this.state.data_line}/> */}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    time_pick: PropTypes.string,\r\n    name : PropTypes.string,\r\n    time : PropTypes.array,\r\n    turn : PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './select.css'\r\nimport { Select,Button,TimePicker,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Separate from './separate';\r\n// import Separate from './plot'\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            runway : [{name:'01R',lat:13.656697,long:100.751831},\r\n            {name:'01L',lat:13.671278,long:100.734664},\r\n            {name:'19L',lat:13.691714,long:100.761033},\r\n            {name:'19R',lat:13.703669,long:100.743178}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                aircraft:''\r\n            }],\r\n            distinct_time : [],\r\n            distinct_name : [],\r\n            data_point : [],\r\n            select_date : false,\r\n            date_name : [],\r\n            time_flight : [],\r\n            time_stamp : '',\r\n            time_default : \"Select Time\",\r\n            date_default : \"Select Date\",\r\n            flight_default : \"Select Flight\",\r\n            real : '00:00:00',\r\n            click : false,\r\n            pick : '00:00:00',\r\n            name : null,\r\n            time_real : []\r\n            // checkedList: [],\r\n        };\r\n        this.data = props.data\r\n        this.check = props.check\r\n        this.date = props.date\r\n\r\n        this.offsetScrollingRef = React.createRef();\r\n        // this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const { click } = this.state;\r\n        if (prevState.click != click && click) {\r\n            const { current } = this.offsetScrollingRef;\r\n            if (current) {\r\n                current.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    interpolate(x1,y1,x2,y2,x){\r\n        // console.log(x1,y1,x2,y2,x)\r\n        var diff = ((y2-y1)/(x2-x1))*(x-x1)\r\n        var res = diff+y1\r\n        return res\r\n    }\r\n\r\n    timeStringToFloat(time) {\r\n        // console.log(time)\r\n        var hoursMinutes = time.split(':');\r\n        var hours = parseInt(hoursMinutes[0], 10);\r\n        var minutes = hoursMinutes[1] ? parseInt(hoursMinutes[1], 10) : 0;\r\n        var seconds = hoursMinutes[2] ? parseInt(hoursMinutes[2], 10) : 0;\r\n        return hours + minutes /60 + seconds/3600;\r\n    }\r\n\r\n    FloattoTime(time){\r\n        // console.log(time)\r\n        var hh = time-(time % 1)\r\n        var min = (time%1)*60\r\n        var mm = min-(min%1)\r\n        var seconds = (min%1)*60\r\n        var ss = seconds-(seconds%1)\r\n        // var ss = ((time-hh*60)-mm)%100\r\n        // console.log(hh)\r\n        return hh + ':' + mm + ':' + ss\r\n    }\r\n\r\n    compute_newcoords(array,point){\r\n        var first,first_lat,first_long,last,last_lat,last_long\r\n        var res = [{name:'',time:'',data:[]}]\r\n        var time = []\r\n        var num = 0\r\n        for(var i=0;i<array.length;i++){\r\n            first = 0\r\n            first_lat = 0\r\n            first_long = 0\r\n            last = 0\r\n            last_lat = 0\r\n            last_long = 0\r\n            for(var j=1;j<array[i].coords.length;j++){\r\n                first_lat = array[i].coords[j-1][1]\r\n                last_lat = array[i].coords[j][1]\r\n                first_long = array[i].coords[j-1][0]\r\n                last_long = array[i].coords[j][0]\r\n                if((point[0].lat >= first_lat && point[0].lat <= last_lat) && (point[0].long >= first_long && point[0].long <= last_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[0].lat\r\n                    var point_long = point[0].long\r\n                    var turn = '01R'\r\n                    // console.log('01R')\r\n                    break\r\n                }\r\n                else if((point[1].lat >= first_lat && point[1].lat <= last_lat) && (point[1].long >= first_long && point[1].long <= last_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[1].lat\r\n                    var point_long = point[1].long\r\n                    var turn = '01L'\r\n                    // console.log('01L')\r\n                    break\r\n                }\r\n                else if((point[2].lat >= last_lat && point[2].lat <= first_lat) && (point[2].long >= last_long && point[2].long <= first_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[2].lat\r\n                    var point_long = point[2].long\r\n                    var turn = '19L'\r\n                    // console.log('19L')\r\n                    break\r\n                }\r\n                else if((point[3].lat >= last_lat && point[3].lat <= first_lat) && (point[3].long >= last_long && point[3].long <= first_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[3].lat\r\n                    var point_long = point[3].long\r\n                    var turn = '19R'\r\n                    // console.log('19R')\r\n                    break\r\n                }\r\n                // console.log(first_lat,first_long,last_lat,last_long +' vs ', point[3].lat,point[3].long)\r\n            }\r\n            var res_time1 = this.interpolate(parseFloat(first_lat),first,parseFloat(last_lat),last,point_lat)\r\n            var res_time2 = this.interpolate(parseFloat(first_long),first,parseFloat(last_long),last,point_long)\r\n            // console.log\r\n            var avg = (res_time1+res_time2)/2\r\n\r\n            // var mydate = moment(String(array[i].date), 'DD/MM/YYYY');\r\n            // console.log(array[i].coords[j-1][3], '--',this.FloattoTime(avg))\r\n            // console.log(array[i].date)\r\n            var test1 = moment(array[i].date,'DD/MM/YYYY').format(\"MM/DD/YYYY\")+\" \" + this.FloattoTime(avg)\r\n            // console.log(test1)\r\n            var time1 = moment(test1).toDate();\r\n            // console.log(array[i].coords[j-1][3], '--',time1)\r\n            // console.log(array[i].name,'time_runway',res_time1,res_time2,this.FloattoTime(avg))\r\n            res[i].name = array[i].name\r\n            res[i].time = time1\r\n            res[i].timeint = avg\r\n            res[i].data = array[i]\r\n            res[i].runway = turn\r\n            if(avg !== 0) time.push(time1.getHours())\r\n            if(i < array.length-1){\r\n                res.push({name:'',time:'',data:[]})\r\n            }\r\n            // console.log(res)\r\n        }\r\n        return {res: res ,time:time};\r\n    }\r\n  \r\n    Date_onhandleChange(value,data) {\r\n        // console.log(data)\r\n        var data_select = []\r\n        var name = []\r\n        this.setState({date_default:value,click:false})\r\n        // console.log(data)\r\n        for(var i=0;i<data.length;i++){\r\n            // console.log(data[i].date, String(value))\r\n            if(data[i].date === String(value)){\r\n                data_select.push(data[i])\r\n                // data_time.push(data[i].time_1.getHours())\r\n                // console.log(data[i])\r\n            }\r\n        }\r\n        // console.log(data_select)\r\n        name =this.compute_newcoords(data_select,this.state.runway)\r\n        // name = this.closest(data_select,this.state.runway)\r\n        // console.log('name',name)\r\n        // console.log(data_time)\r\n        // console.log(data_time.sort(function(a, b){return a-b}))\r\n        var distinct = [...new Set(name.time)].sort(function(a, b){return a-b})\r\n\r\n        this.setState({distinct_time : distinct, date_name:name.res, time_default:\"Select Time\",flight_default:\"Select Flight\",real:'00:00:00'})\r\n    }\r\n\r\n    compare( a, b ) {\r\n        if ( a.timeint < b.timeint ){\r\n          return -1;\r\n        }\r\n        if ( a.timeint > b.timeint ){\r\n          return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    Time_onhandleChange(value,data) {\r\n        // console.log(data)\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        var time = []\r\n        for(var i=0;i<data.length;i++){\r\n            if(data[i].time.getHours() === parseInt(value)){\r\n                data_select.push(data[i])\r\n                // var x = moment(data[i].time).format('HH:mm:ss') \r\n                // time.push(this.timeStringToFloat(moment(data[i].time).format('HH:mm:ss') ))\r\n            }\r\n        }\r\n        data_select.sort( this.compare );\r\n        // console.log('data',data_select)\r\n        // name = this.closest(data_select,this.state.runway)\r\n        // var sort_time = time.sort(function(a, b){return a-b})\r\n        // console.log(time)\r\n        this.setState({time_flight : data_select,distinct_name:data_select, flight_default:\"Select Flight\",real:'00:00:00'})\r\n    }\r\n\r\n    checkselect(){\r\n        var hours = [];\r\n        for(var i =0; i < moment().hour(); i++){\r\n            hours.push(i);\r\n        }\r\n        return hours;\r\n\r\n        // if(time !== \"Select Time\") return true\r\n    }\r\n\r\n    onChange = time => {\r\n        // console.log(time);\r\n        this.setState({ time_stamp: time });\r\n    };\r\n\r\n    Flight_onhandleChange(value,data) {\r\n        this.setState({flight_default:value,click:false})\r\n        // console.log(value)\r\n        var data_select;\r\n        // var name = []\r\n\r\n        for(var i=0;i<data.length;i++){\r\n            if(data[i].name === value){\r\n                data_select = data[i]\r\n                break\r\n            }\r\n        }\r\n\r\n        // data_select = this.closest(data,this.state.runway)\r\n        // console.log(data_select)\r\n        this.setState({real : data_select.time, name:data_select.name})\r\n    }\r\n\r\n    onChange_picktime(time) {\r\n        // console.log(data)\r\n        // console.log(time);\r\n        // var test = moment(time).format(\"MM/DD/YYYY\")+\" \" + timeString\r\n        var time_pick = moment.utc(time).toDate();\r\n        // console.log(moment(time_pick).format('HH:mm:ss'))\r\n        this.setState({real : time_pick,click:false})\r\n    }\r\n  \r\n    render(props) {\r\n        // console.log(this.data)\r\n      return (\r\n        <div>\r\n            <div style={{marginBottom:'1%'}}>\r\n            <Form layout=\"inline\">\r\n                {/* <Form layout=\"inline\"> */}\r\n                    <Form.Item label=\"Date\">\r\n                <Select placeholder=\"Select Date\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.date_default} onChange={e => this.Date_onhandleChange(e,this.data)}>\r\n                    {this.date.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n\r\n                {this.state.date_default !== 'Select Date' ?\r\n                    <Form.Item label=\"Time\">\r\n                <Select placeholder=\"Select Time\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.state.date_name)}>\r\n                    {this.state.distinct_time.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}.00 - {flight}.59</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                : null}\r\n\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' ?\r\n                    <div>\r\n                    <Form.Item label=\"Flight no\">\r\n                    <Select placeholder=\"Select Flight\" style={{ width: 400, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.flight_default} onChange={e => this.Flight_onhandleChange(e,this.state.time_flight)}>\r\n                        {this.state.distinct_name.map(flight => (\r\n                            <Option style={{ fontSize: \"1rem\" }} key={flight.name}>{flight.name} time: {moment(flight.time).format('HH:mm:ss')} </Option>\r\n                        ))}\r\n                    </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Time stamp\">\r\n                    <TimePicker defaultValue={moment('00:00:00', 'HH:mm:ss')} disabledHours={() => [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]} value={moment(this.state.real, 'HH:mm:ss')} onChange={e => this.onChange_picktime(e)}/>\r\n                    </Form.Item>\r\n                    </div>\r\n                : null}\r\n\r\n                {this.state.date_default !== 'Select Date' && this.state.time_default !== 'Select Time' && this.state.flight_default !== 'Select Flight' ?\r\n                <Button style={{backgroundColor:'#b47b44',color:'white'}} onClick={this.search}>Search</Button> : null}\r\n                {/* <Button onClick={this.search}>Search</Button> */}\r\n                </Form>\r\n            </div>\r\n            <div  style={{marginBottom:'1%'}}>\r\n                <div style={{ position: \"relative\" }}>\r\n                    <div style={{ position: \"absolute\", top: -16 }} ref={this.offsetScrollingRef} />\r\n                </div>\r\n                {this.state.click === true ? \r\n                <Separate data={this.state.time_flight} time_pick={this.state.real} name={this.state.name} turn={this.state.date_name}/>\r\n                : null}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool,\r\n    date: PropTypes.array\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './select.css'\r\nimport { Select } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport SelectDate from './select_date';\r\n// import SelectFlight from './select_flight';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [['', '', '']],date:'',aircraft:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                aircraft:''\r\n            }],\r\n            distinct_date : [],\r\n            distinct_time : [],\r\n            select_date : false,\r\n            date_time : [],\r\n            date_name : [],\r\n            time_name : [],\r\n            time_flight : [],\r\n            check_data : false,\r\n            distinct_name : []\r\n        };\r\n        this.test = props.data\r\n        this.check = props.check\r\n\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n  \r\n\r\n    componentWillMount(){\r\n        if(this.check === true){\r\n            this.getData(this.test)\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUpdate(nextPorps){\r\n        if(nextPorps.check != this.check && nextPorps.test != this.test){\r\n            console.log(this.check , 'next ', nextPorps.check )\r\n            if(this.check === true){\r\n                this.getData(nextPorps.test)\r\n            }\r\n        }\r\n        // console.log('willl')\r\n    }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    getData(result) {\r\n        this.state.arr = [{\r\n            name:'',\r\n            coords: [[]]\r\n        }]\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].name\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dataall_date = []\r\n        var dataall_name = []\r\n        var data_check_time_date = []\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            //console.log(j)\r\n            // console.log(mydate)\r\n            // dataall_name.push(result[num].name)\r\n            for(var i=num;i<=result.length;i++){\r\n                var mydate = moment(String(result[i].date), 'YYYY-MM-DD');\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n                    let dis = this.distance(13.6902099,100.7449953,result[num].lat, result[num].long, \"N\")\r\n                    let dis2 = this.distance(13.6902099,100.7449953,result[i-1].lat, result[i-1].long, \"N\")\r\n                    // console.log('dis',dis,dis2)\r\n                    var mydate1 = moment(String(result[i-1].date), 'YYYY-MM-DD');\r\n                    var test1 = moment(mydate1).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    var time1 = moment(test1).toDate();\r\n                    var local = moment(time1).format('DD/MM/YYYY');\r\n\r\n                    // console.log(local,dis,dis2)\r\n                    if(dis > dis2) {\r\n                        dataall_date.push(local)\r\n                    }\r\n                    //console.log(time1)\r\n                    // dataall_date.push(local)\r\n                    // var test2 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    // var time2 = moment.utc(test2).toDate();\r\n                    this.state.arr[j].date = local\r\n                    // this.state.arr[j].time_1 = time1\r\n                    // this.state.arr[j].time_2 = time2\r\n                    // this.state.arr[j].aircraft = week\r\n                    // data_check_time_date.push({name: result[num].name,date: date,time_1:time1,time_2:time2})\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    break;\r\n                }\r\n                this.state.arr[j].coords.push([])\r\n                this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].aircraft = result[i].aircraft\r\n                var test = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i].time\r\n                var time = moment(test).toDate();\r\n                // console.log(time)\r\n                this.state.arr[j].coords[i-num].push(result[i].long)\r\n                this.state.arr[j].coords[i-num].push(result[i].lat)\r\n                this.state.arr[j].coords[i-num].push(result[i].altitude_ft*0.3048)\r\n                this.state.arr[j].coords[i-num].push(time)\r\n            }\r\n            // console.log(j)\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]],date:'',aircraft:''})\r\n            }\r\n        }\r\n\r\n        var distinct = [...new Set(dataall_date)]\r\n        // var distinctName = [...new Set(dataall_name)]\r\n        distinct.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n\r\n        this.setState({dataAll: this.state.arr,distinct_date:distinct});\r\n    }\r\n  \r\n    render(props) {\r\n      return (\r\n        <div className=\"App\">\r\n            <h1 style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Separate Visualization</h1>\r\n            <SelectDate check={this.state.check} data={this.state.dataAll} date={this.state.distinct_date}/>\r\n            {/* {this.state.check_data === true ?\r\n            <Offset flight={this.state.flight} check_data={this.state.check_data}/>: null } */}\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './holding.css'\r\nimport { Select,Checkbox,Col,Table, Input, Button, Icon } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n// import Tableplot from './table'\r\n\r\nconst { Option } = Select;\r\n\r\nclass FileReader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data : [],\r\n            runway : [{name:'01R',lat:13.656697,long:100.751831},\r\n            {name:'01L',lat:13.671278,long:100.734664},\r\n            {name:'19L',lat:13.691714,long:100.761033},\r\n            {name:'19R',lat:13.703669,long:100.743178}],\r\n            checkedList: [],\r\n            data_bar : [],\r\n            heavy: ['A38','A35','A33','B74','B77','B78'],\r\n            large: ['A31','A32','B73','A20'], //meaning medium\r\n            small: ['AT7'], //meaning light\r\n            table : [],\r\n            data_table: [],\r\n            click: false,\r\n            name_table:''\r\n        };\r\n        this.data = props.data\r\n        this.time_pick = props.time_pick\r\n        this.name_pick = props.name\r\n        this.time = props.time\r\n        this.turn = props.turn\r\n        \r\n        // this.getData = this.getData.bind(this);\r\n        // this.updateData = this.updateData.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        // console.log(this.data)\r\n        this.getData(this.data)\r\n    }\r\n\r\n    getColumnSearchProps = dataIndex => ({\r\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n          <div style={{ padding: 8 }}>\r\n            <Input\r\n              ref={node => {\r\n                this.searchInput = node;\r\n              }}\r\n              placeholder={`Search ${dataIndex}`}\r\n              value={selectedKeys[0]}\r\n              onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n              onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n              style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n            />\r\n            <Button\r\n            //   style={{backgroundColor:'#b47b44',color:'white'}}\r\n              onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            //   icon=\"search\"\r\n              size=\"small\"\r\n              style={{ width: 90, marginRight: 8,backgroundColor:'#b47b44',color:'white' }}\r\n            >\r\n              Search\r\n            </Button>\r\n            <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n              Reset\r\n            </Button>\r\n          </div>\r\n        ),\r\n        filterIcon: filtered => (\r\n          <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />\r\n        ),\r\n        onFilter: (value, record) =>\r\n          record[dataIndex]\r\n            .toString()\r\n            .toLowerCase()\r\n            .includes(value.toLowerCase()),\r\n        onFilterDropdownVisibleChange: visible => {\r\n          if (visible) {\r\n            setTimeout(() => this.searchInput.select());\r\n          }\r\n        },\r\n      });\r\n    \r\n      handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n        confirm();\r\n        this.setState({\r\n          searchText: selectedKeys[0],\r\n          searchedColumn: dataIndex,\r\n        });\r\n      };\r\n    \r\n      handleReset = clearFilters => {\r\n        clearFilters();\r\n        this.setState({ searchText: '' });\r\n      };\r\n\r\n    compute_newcoords(array,point){\r\n        var first,first_lat,first_long,last,last_lat,last_long\r\n        var res = [{name:'',time:'',data:[]}]\r\n        var time = []\r\n        var num = 0\r\n        for(var i=0;i<array.length;i++){\r\n            first = 0\r\n            first_lat = 0\r\n            first_long = 0\r\n            last = 0\r\n            last_lat = 0\r\n            last_long = 0\r\n            for(var j=1;j<array[i].coords.length;j++){\r\n                first_lat = array[i].coords[j-1][1]\r\n                last_lat = array[i].coords[j][1]\r\n                first_long = array[i].coords[j-1][0]\r\n                last_long = array[i].coords[j][0]\r\n                if((point[0].lat >= first_lat && point[0].lat <= last_lat) && (point[0].long >= first_long && point[0].long <= last_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[0].lat\r\n                    var point_long = point[0].long\r\n                    var turn = '01R'\r\n                    // console.log('if')\r\n                    break\r\n                }\r\n                else if((point[1].lat >= first_lat && point[1].lat <= last_lat) && (point[1].long >= first_long && point[1].long <= last_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[1].lat\r\n                    var point_long = point[1].long\r\n                    var turn = '01L'\r\n                    // console.log('if')\r\n                    break\r\n                }\r\n                else if((point[2].lat >= last_lat && point[2].lat <= first_lat) && (point[2].long >= last_long && point[2].long <= first_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[2].lat\r\n                    var point_long = point[2].long\r\n                    var turn = '19L'\r\n                    // console.log('19L')\r\n                    break\r\n                }\r\n                else if((point[3].lat >= last_lat && point[3].lat <= first_lat) && (point[3].long >= last_long && point[3].long <= first_long)){\r\n                    // time_min = array[i].coords[j-1][3]\r\n                    // time_max = data[i].data.coords[j][3]\r\n                    first = this.timeStringToFloat( moment(array[i].coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(array[i].coords[j][3]).format('HH:mm:ss'))\r\n                    var point_lat = point[3].lat\r\n                    var point_long = point[3].long\r\n                    var turn = '19R'\r\n                    // console.log('19R')\r\n                    break\r\n                }\r\n            }\r\n            var res_time1 = this.interpolate(parseFloat(first_lat),first,parseFloat(last_lat),last,point_lat)\r\n            var res_time2 = this.interpolate(parseFloat(first_long),first,parseFloat(last_long),last,point_long)\r\n            var avg = (res_time1+res_time2)/2\r\n\r\n            // var mydate = moment(String(result[num].date), 'YYYY-MM-DD');\r\n            // console.log(array[i].coords[j-1][3], '--',this.FloattoTime(avg))\r\n            var test1 = moment(array[i].date,'DD/MM/YYYY').format(\"MM/DD/YYYY\")+\" \" + this.FloattoTime(avg)\r\n            // console.log(test1)\r\n            var time1 = moment(test1).toDate();\r\n            res[i].name = array[i].name\r\n            res[i].time = time1\r\n            res[i].timeint = avg\r\n            res[i].data = array[i]\r\n            res[i].runway = turn\r\n            if(avg !== 0) time.push(array[i].date)\r\n            if(i < array.length-1){\r\n                res.push({name:'',time:'',data:[]})\r\n            }\r\n            // console.log(res)\r\n        }\r\n        return {res: res ,time:time};\r\n    }\r\n\r\n    timeStringToFloat(time) {\r\n        // console.log(time)\r\n        var hoursMinutes = time.split(':');\r\n        var hours = parseInt(hoursMinutes[0], 10);\r\n        var minutes = hoursMinutes[1] ? parseInt(hoursMinutes[1], 10) : 0;\r\n        var seconds = hoursMinutes[2] ? parseInt(hoursMinutes[2], 10) : 0;\r\n        return hours + minutes /60 + seconds/3600;\r\n    }\r\n\r\n    FloattoTime(time){\r\n        // console.log(time)\r\n        var hh = time-(time % 1)\r\n        var min = (time%1)*60\r\n        var mm = min-(min%1)\r\n        var seconds = (min%1)*60\r\n        var ss = seconds-(seconds%1)\r\n        // var ss = ((time-hh*60)-mm)%100\r\n        // console.log(hh)\r\n        return hh + ':' + mm + ':' + ss\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    interpolate(x1,y1,x2,y2,x){\r\n        // console.log(x1,y1,x2,y2,x)\r\n        var diff = ((y2-y1)/(x2-x1))*(x-x1)\r\n        var res = diff+y1\r\n        return res\r\n    }\r\n\r\n    compare( a, b ) {\r\n        if ( a.time < b.time ){\r\n          return -1;\r\n        }\r\n        if ( a.time > b.time ){\r\n          return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    distribution(data){\r\n        let unique3 = [-2,-1,0,1,2,3,4,5,6,7,8];\r\n        let unique4 = [-1,0,1,2,3,4,5,6,7,8,9];\r\n        let unique5 = [0,1,2,3,4,5,6,7,8,9,10];\r\n        let unique6 = [1,2,3,4,5,6,7,8,9,10,11];\r\n        let unique = [[unique3,unique3,unique3],[unique4,unique3,unique3],[unique6,unique5,unique4]]\r\n\r\n        var data_distribute = []\r\n        for(var i=0;i<data.length;i++){\r\n            for(var j=0;j<data[i].length;j++){\r\n                var duplicates = unique[i][j].map(value => [value, data[i][j].filter(str => str === value).length]);\r\n                data_distribute.push(duplicates)\r\n            }\r\n            // data_distribute.push(duplicates)\r\n        }\r\n\r\n        return data_distribute\r\n\r\n        // console.log(data_distribute)\r\n    }\r\n\r\n    getData(data){\r\n        var name = this.compute_newcoords(data,this.state.runway)\r\n        var data = name.res\r\n        data.sort(this.compare)\r\n        let unique = [...new Set(name.time)];\r\n        let duplicates = unique.map(value => ({time:value, num:name.time.filter(str => str === value).length}));\r\n        duplicates.sort(this.compare)\r\n        var first,last;\r\n        var lat_min, lon_min, time_min,altitude_min;\r\n        var lat_max, lon_max, time_max,altitude_max;\r\n        var lat,lon,altitude;\r\n        var array = [[[],[],[]],\r\n                    [[],[],[]],\r\n                    [[],[],[]]]\r\n        // var data_array = [[[],[],[]],\r\n        //                 [[],[],[]],\r\n        //                 [[],[],[]]]\r\n        var data_array = [[],[],[],[],[],[],[],[],[]]\r\n        // var scatter = []\r\n        // var line = []\r\n        var data_distribute = []\r\n        for(var i=0;i<data.length-1;i++){\r\n            var dis,dis_runway;\r\n            // var state = 0\r\n            if(data[i].data.date === data[i+1].data.date && data[i].timeint !== 0){\r\n                for(var j=1;j<data[i+1].data.coords.length;j++){\r\n                    first = this.timeStringToFloat( moment(data[i+1].data.coords[j-1][3]).format('HH:mm:ss'))\r\n                    last = this.timeStringToFloat( moment(data[i+1].data.coords[j][3]).format('HH:mm:ss'))\r\n                    if(data[i+1].timeint >= first && data[i+1].timeint <= last){\r\n                        // console.log('if')\r\n                        lon_min = data[i+1].data.coords[j-1][0]\r\n                        lon_max = data[i+1].data.coords[j][0]\r\n                        lat_min = data[i+1].data.coords[j-1][1]\r\n                        lat_max = data[i+1].data.coords[j][1]\r\n                        altitude_min = data[i+1].data.coords[j-1][2]\r\n                        altitude_max = data[i+1].data.coords[j][2]\r\n                        time_min = first\r\n                        time_max = last\r\n                        // state = j-1\r\n                        break\r\n                    }\r\n                    var res_lon = this.interpolate(time_min,parseFloat(lon_min),time_max,parseFloat(lon_max),data[i+1].timeint)\r\n                    var res_lat = this.interpolate(time_min,parseFloat(lat_min),time_max,parseFloat(lat_max),data[i+1].timeint)\r\n                    var res_alt = this.interpolate(time_min,parseFloat(altitude_min),time_max,parseFloat(altitude_max),data[i+1].timeint)\r\n                }\r\n                // console.log(data[i].runway)\r\n                if(data[i].runway === '01R') dis_runway = this.distance(this.state.runway[0].lat,this.state.runway[0].long,res_lat,res_lon)\r\n                else if(data[i].runway === '01L') dis_runway = this.distance(this.state.runway[1].lat,this.state.runway[1].long,res_lat,res_lon) \r\n                else if(data[i].runway === '19L') dis_runway = this.distance(this.state.runway[2].lat,this.state.runway[2].long,res_lat,res_lon)\r\n                else if(data[i].runway === '19R') dis_runway = this.distance(this.state.runway[3].lat,this.state.runway[3].long,res_lat,res_lon)\r\n                // console.log(data[i].name,data[i+1].name,dis_runway)\r\n                if(dis_runway < 9){\r\n                    // console.log('if')\r\n                    var head; \r\n                    if(this.state.heavy.includes(data[i].data.aircraft)) head = 'heavy'\r\n                    else if(this.state.large.includes(data[i].data.aircraft)) head = 'large'\r\n                    else if(this.state.small.includes(data[i].data.aircraft)) head = 'small'\r\n                    else head = 'large'\r\n                    // console.log('scatter',scatter)\r\n                    var follow;\r\n                    if(this.state.heavy.includes(data[i+1].data.aircraft)) follow = 'heavy';\r\n                    else if(this.state.large.includes(data[i+1].data.aircraft)) follow = 'large';\r\n                    else if(this.state.small.includes(data[i+1].data.aircraft)) follow = 'small';     \r\n                    else head = 'large'  \r\n                    \r\n                    var real_dis = 0;\r\n                    if(head === 'small') {\r\n                        if(follow === 'small'){\r\n                            array[0][0].push(Math.round(dis_runway))\r\n                            data_array[0].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'large'){\r\n                            array[0][1].push(Math.round(dis_runway))\r\n                            data_array[1].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'heavy'){\r\n                            array[0][2].push(Math.round(dis_runway))\r\n                            data_array[2].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        // real_dis = 3;\r\n                    }    \r\n                    else if(head === 'large'){\r\n                        if(follow === 'small'){\r\n                            array[1][0].push(Math.round(dis_runway))\r\n                            data_array[3].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'large'){\r\n                            array[1][1].push(Math.round(dis_runway))\r\n                            data_array[4].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'heavy'){\r\n                            array[1][2].push(Math.round(dis_runway))\r\n                            data_array[5].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                    }\r\n                    else if(head === 'heavy'){\r\n                        if(follow === 'small'){\r\n                            array[2][0].push(Math.round(dis_runway))\r\n                            data_array[6].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'large'){\r\n                            array[2][1].push(Math.round(dis_runway))\r\n                            data_array[7].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                        else if(follow === 'heavy'){\r\n                            array[2][2].push(Math.round(dis_runway))\r\n                            data_array[8].push({num:Math.round(dis_runway),data:[{time:data[i].time,head:data[i].name,tail:data[i+1].name}]})\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // console.log('dis',array)\r\n        }\r\n        //----------------data distribution----------------\r\n        // console.log('dis',data_array)\r\n        let graph_name = ['Light and Light','Light and Medium','Light and Heavy',\r\n        'Medium and Light','Medium and Medium','Medium and Heavy',\r\n        'Heavy and Light','Heavy and Medium','Heavy and Heavy']\r\n        let plot_data = this.distribution(array)\r\n        let series = []\r\n        for(var i=0;i<plot_data.length;i++){\r\n            series.push({data: plot_data[i],\r\n                name: graph_name[i],\r\n                xAxisIndex: i,\r\n                yAxisIndex: i,\r\n                type: 'bar',})\r\n        }\r\n        this.setState({data_bar:series,table:data_array})\r\n        // this.setState({data_bar:plot_data})\r\n    }\r\n\r\n    onChartClick = (param, echarts) => {\r\n        var data_click = {num:param.data[0],data:[]}\r\n        // console.log(param);\r\n        for(var i=0;i<this.state.table.length;i++){\r\n            if(i === param.seriesIndex){\r\n                for(var j=0;j<this.state.table[i].length;j++){\r\n                    // console.log(param.data[0])\r\n                    if(this.state.table[i][j].num === param.data[0]){\r\n                        data_click.data.push(this.state.table[i][j].data)\r\n                        // console.log(this.state.table[i])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var data = []\r\n        if(data_click.length !== 0){\r\n            // console.log(data_click.data)\r\n            for(var i=0;i<data_click.data.length;i++){\r\n                // console.log(data_click.data[i][0].time)\r\n                // console.log(data_click.data[i][0].head)\r\n                // console.log(data_click.data[i][0].tail)\r\n                data.push(\r\n                {\r\n                    date:moment(data_click.data[i][0].time).format('MM/DD/YYYY'),\r\n                    key: i,\r\n                    head:data_click.data[i][0].head,\r\n                    tail:data_click.data[i][0].tail\r\n                })\r\n            }\r\n        }\r\n        var name = 'Wake separation between ' + param.seriesName + ' at ' + param.data[0] + ' nmi'\r\n        // console.log(data)\r\n        data.sort(this.compare)\r\n        this.setState({data_table:data,click:true,name_table:name})\r\n        // alert('chart click');\r\n      };\r\n\r\n    getOption = () => ({\r\n        // title:[\r\n        //     {text: 'H-Small T-Small' ,gridIndex: 0,},\r\n        //     {text: 'H-Small T-Large' ,gridIndex: 0,},\r\n        //     {text: 'H-Small T-Heavy' ,gridIndex: 0,},\r\n        //     {text: 'H-Large T-Small' ,gridIndex: 0,},\r\n        //     {text: 'H-Large T-Large' ,gridIndex: 0,},\r\n        //     {text: 'H-Large T-Heavy' ,gridIndex: 0,},\r\n        //     {text: 'H-Heavy T-Small' ,gridIndex: 0,},\r\n        //     {text: 'H-Heavy T-Large' ,gridIndex: 0,},\r\n        //     {text: 'H-Heavy T-Heavy' ,gridIndex: 0,},\r\n        // ],\r\n        legend: {},\r\n        tooltip: {},\r\n        // toolbox: {\r\n        //     left: 'center',\r\n        //     feature: {\r\n        //         dataZoom: {}\r\n        //     }\r\n        // },\r\n        grid: [\r\n            { width: '20%', height: '20%'},\r\n            { width: '20%', height: '20%',right:'40%'},\r\n            { width: '20%', height: '20%',right:'10%'},\r\n            { width: '20%', height: '20%',bottom:'40%'},\r\n            { width: '20%', height: '20%',right:'40%',bottom:'40%'},\r\n            { width: '20%', height: '20%',right:'10%',bottom:'40%'},\r\n            { width: '20%', height: '20%',bottom:'5%'},\r\n            { width: '20%', height: '20%',right:'40%',bottom:'5%'},\r\n            { width: '20%', height: '20%',right:'10%',bottom:'5%'},\r\n            \r\n        ],\r\n        xAxis: [\r\n            {type: 'value', gridIndex: 0, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 1, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 2, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 3, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 4, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 5, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 6, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 7, name: 'distance (nmi)'},\r\n            {type: 'value', gridIndex: 8, name: 'distance (nmi)'},\r\n        ],\r\n        yAxis: [\r\n            {type: 'value', gridIndex: 0, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 1, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 2, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 3, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 4, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 5, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 6, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 7, name: 'number of flight'},\r\n            {type: 'value', gridIndex: 8, name: 'number of flight'},\r\n        ],\r\n        series: this.state.data_bar\r\n    });\r\n  \r\n    render(props) {\r\n    //   console.log(this.state.csvfile);\r\n        let onEvents = {\r\n        'click': this.onChartClick,\r\n        // 'legendselectchanged': this.onChartLegendselectchanged\r\n        };\r\n        const columns = [\r\n            {\r\n              title: 'Date',\r\n              dataIndex: 'date',\r\n              key: 'date',\r\n              width: '40%',\r\n              ...this.getColumnSearchProps('date'),\r\n            },\r\n            {\r\n              title: 'Head',\r\n              dataIndex: 'head',\r\n              key: 'head',\r\n              width: '30%',\r\n              ...this.getColumnSearchProps('head'),\r\n            },\r\n            {\r\n              title: 'tail',\r\n              dataIndex: 'tail',\r\n              key: 'tail',\r\n              ...this.getColumnSearchProps('tail'),\r\n            },\r\n        ];\r\n        return (\r\n        <div className=\"App\">\r\n            <ReactEcharts ref={(e) => { this.echarts_react = e; } } option={this.getOption()}  style={{marginTop:'1%', width:'80%', height:1000, display:'inline-block'}} \r\n            onEvents={onEvents}/>\r\n            <h1 style={{color:'#b47b44', margin:'3% 0 2% 0'}}>{this.state.name_table}</h1>\r\n            {this.state.click === true ? \r\n            <Table  style={{width:'50%', display:'inline-block'}} columns={columns} dataSource={this.state.data_table} bordered />\r\n            : null}\r\n            {/* <Tableplot data={this.state.data_table} check={this.state.click}/> */}\r\n            {/* <Plot data={this.state.data_line}/> */}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  FileReader2.propTypes = {\r\n    data: PropTypes.array,\r\n    time_pick: PropTypes.string,\r\n    name : PropTypes.string,\r\n    time : PropTypes.array,\r\n    turn : PropTypes.string\r\n  };\r\n  \r\n  \r\n  export default FileReader2;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './select.css'\r\nimport { Select,Button,TimePicker,Form } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Separate from './separate';\r\n// import Separate from './plot'\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            runway : [{name:'01R',lat:13.656697,long:100.751831},\r\n            {name:'01L',lat:13.671278,long:100.734664},\r\n            {name:'19L',lat:13.691714,long:100.761033},\r\n            {name:'19R',lat:13.703669,long:100.743178}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                time_1:'',\r\n                time_2:'',\r\n                aircraft:''\r\n            }],\r\n            distinct_time : [],\r\n            // distinct_name : [],\r\n            data_point : [],\r\n            select_date : false,\r\n            date_name : [],\r\n            time_flight : [],\r\n            time_stamp : '',\r\n            time_default : \"Select\",\r\n            unit_default : \"Select Unit\",\r\n            click : false,\r\n            name : null,\r\n            real : [],\r\n            unit:['Date','Week','Month'],\r\n            // year: this.data[0].coords[0][3]\r\n            // checkedList: [],\r\n        };\r\n        this.data = props.data\r\n        this.check = props.check\r\n        this.date = props.date\r\n        this.week = props.week\r\n        this.month = props.month\r\n        this.year = props.year\r\n\r\n        // this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    search = () => {\r\n        this.setState({ click: true });\r\n    };\r\n\r\n    getDateOfWeek(w, y) {\r\n        return moment().day(\"Monday\").year(y).week(w)\r\n    }\r\n\r\n    Unit_onhandleChange(value,date,week,month){\r\n        this.setState({unit_default:value,click:false})\r\n        var select_unit = []\r\n        var arr_date = []\r\n        var arr_week = []\r\n        var arr_month = []\r\n        var dateofweek1,dateofweek2;\r\n        // console.log(this.state.)\r\n        if(value === 'Date'){\r\n            for(var i=0;i<date.length;i++){\r\n                arr_date.push([date[i],date[i]])\r\n            }\r\n            select_unit = arr_date\r\n        } \r\n        else if(value === 'Week') {\r\n            // console.log(this.year)\r\n            for(var i=0;i<week.length;i++){\r\n                dateofweek1 = moment(this.getDateOfWeek(week[i],this.year)).format('DD/MM/YYYY')\r\n                dateofweek2 = moment(this.getDateOfWeek(week[i],this.year)).add(6,'days').format('DD/MM/YYYY')\r\n                arr_week.push([week[i],dateofweek1+'-'+dateofweek2])\r\n\r\n                // console.log(dateofweek1)\r\n                // moment(this.getDateOfWeek(distinctWeek[i],2019)).format('DD/MM/YYYY')\r\n            }\r\n            select_unit = arr_week\r\n        }\r\n        else{\r\n            for(var i=0;i<month.length;i++){\r\n                arr_month.push([month[i],moment.months(month[i])])\r\n            }\r\n            select_unit = arr_month\r\n        } \r\n        this.setState({distinct_time:select_unit, time_default:'Select'})\r\n    }\r\n\r\n    Time_onhandleChange(value,data){\r\n        this.setState({time_default:value,click:false})\r\n        var data_select = []\r\n        if(this.state.unit_default === \"Week\"){\r\n            for(var i=0;i<data.length;i++){\r\n                // console.log(data[i].week, \"vs\" , value)\r\n                if(String(data[i].week) === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n        }\r\n        else if(this.state.unit_default === \"Month\"){\r\n            for(var i=0;i<data.length;i++){\r\n                // console.log(data[i].time_1.getMonth(), \"vs\" , value)\r\n                if(String(data[i].month) === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            for(var i=0;i<data.length;i++){\r\n                // console.log(data[i].time_1.getMonth(), \"vs\" , value)\r\n                if(String(data[i].date) === value){\r\n                    data_select.push(data[i])\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log(data_select)\r\n        this.setState({real : data_select})\r\n    }\r\n  \r\n    render(props) {\r\n        // console.log(this.data)\r\n      return (\r\n        <div>\r\n            <div style={{marginBottom:'1%'}}>\r\n            <Form layout=\"inline\">\r\n                {/* <Form layout=\"inline\"> */}\r\n                <Form.Item label=\"Unit per\">\r\n                <Select placeholder=\"Select Unit\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.unit_default} onChange={e => this.Unit_onhandleChange(e,this.date,this.week,this.month)}>\r\n                    {this.state.unit.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight}>{flight}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n\r\n                {this.state.unit_default !== 'Select Unit' ?\r\n                <Form.Item label={this.state.unit_default}>\r\n                <Select placeholder=\"Select\" style={{ width: 200, fontSize: \"1.2rem\", paddingRight:\"100 px\" }} value={this.state.time_default} onChange={e => this.Time_onhandleChange(e,this.data)}>\r\n                    {this.state.distinct_time.map(flight => (\r\n                        <Option style={{ fontSize: \"1rem\" }} key={flight[0]}>{flight[1]}</Option>\r\n                    ))}\r\n                </Select>\r\n                </Form.Item>\r\n                :null}\r\n                {this.state.unit_default !== 'Select Unit' && this.state.time_default !== 'Select' ?\r\n                <Button  style={{backgroundColor:'#b47b44',color:'white'}} onClick={this.search}>Search</Button> : null}\r\n                {/* <Button onClick={this.search}>Search</Button> */}\r\n            </Form>\r\n            </div>\r\n            <div>\r\n                {this.state.click === true ? \r\n                <Separate data={this.state.real}/>\r\n                : null}\r\n            </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool,\r\n    date: PropTypes.array,\r\n    week: PropTypes.array,\r\n    month: PropTypes.array,\r\n    year: PropTypes.number\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import React from \"react\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport 'echarts-gl'\r\nimport 'mapbox-echarts'\r\nimport * as maptalks from 'maptalks'\r\n// import './select.css'\r\nimport { Select } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport SelectDate from './select_date';\r\n// import SelectFlight from './select_flight';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nclass FileReader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // csvfile: undefined,\r\n            dataAll : [{name:'', coords: [['', '', '']],date:'',aircraft:''}],\r\n            arr: [{\r\n                name:'',\r\n                coords: [[]],\r\n                date:'',\r\n                aircraft:'',\r\n                week:'',\r\n                month:''\r\n            }],\r\n            distinct_date : [],\r\n            distinct_week : [],\r\n            distinct_month : [],\r\n            select_date : false,\r\n            date_time : [],\r\n            date_name : [],\r\n            time_name : [],\r\n            time_flight : [],\r\n            check_data : false,\r\n            distinct_name : [],\r\n            year:''\r\n        };\r\n        this.test = props.data\r\n        this.check = props.check\r\n\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n  \r\n\r\n    componentWillMount(){\r\n        if(this.check === true){\r\n            this.getData(this.test)\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUpdate(nextPorps){\r\n        if(nextPorps.check != this.check && nextPorps.test != this.test){\r\n            console.log(this.check , 'next ', nextPorps.check )\r\n            if(this.check === true){\r\n                this.getData(nextPorps.test)\r\n            }\r\n        }\r\n        // console.log('willl')\r\n    }\r\n\r\n    uniqueNameFlight(name,data,date){\r\n        var count = 0\r\n        // console.log(data.length)\r\n        for(var i=1;i<data.length;i++){\r\n            if (data[i].name === '-'){\r\n                count += 1\r\n                // console.log(i)\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2, unit) {\r\n        if ((lat1 == lat2) && (lon1 == lon2)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            var radlat1 = Math.PI * lat1/180;\r\n            var radlat2 = Math.PI * lat2/180;\r\n            var theta = lon1-lon2;\r\n            var radtheta = Math.PI * theta/180;\r\n            var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n            if (dist > 1) {\r\n                dist = 1;\r\n            }\r\n            dist = Math.acos(dist);\r\n            dist = dist * 180/Math.PI;\r\n            dist = dist * 60 * 1.1515;\r\n            if (unit===\"K\") { dist = dist * 1.609344 }\r\n            if (unit===\"N\") { dist = dist * 0.8684\r\n            // console.log('nmi') \r\n            }\r\n            return dist;\r\n        }\r\n    }\r\n\r\n    getData(result) {\r\n        this.state.arr = [{\r\n            name:'',\r\n            coords: [[]]\r\n        }]\r\n        var num = 0\r\n        var name = result[0].name\r\n        var date = result[0].date\r\n        var count = this.uniqueNameFlight(name,result,date)\r\n        var dataall_date = []\r\n        var dataall_name = []\r\n        var data_check_time_date = []\r\n        var data_month = []\r\n        var data_week = []\r\n        // console.log(count)\r\n\r\n        for(var j=0;j<count;j++){\r\n            //console.log(j)\r\n            // console.log(mydate)\r\n            // dataall_name.push(result[num].name)\r\n            for(var i=num;i<=result.length;i++){\r\n                var mydate = moment(String(result[i].date), 'YYYY-MM-DD');\r\n                // console.log(num)\r\n                if(result[i].name === '-'){\r\n                    let dis = this.distance(13.6902099,100.7449953,result[num].lat, result[num].long, \"N\")\r\n                    let dis2 = this.distance(13.6902099,100.7449953,result[i-1].lat, result[i-1].long, \"N\")\r\n                    var mydate1 = moment(String(result[i-1].date), 'YYYY-MM-DD');\r\n                    var test1 = moment(mydate1).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    var time1 = moment(test1).toDate();\r\n                    var local = moment(time1).format('DD/MM/YYYY');\r\n                    //console.log(time1)\r\n                    // var onejan = new Date(time1.getFullYear(),0,1);\r\n                    // var week =  Math.ceil((((time1 - onejan) / 86400000) + onejan.getDay())/7);\r\n                    var week = moment(time1).format('WW')\r\n                    // console.log(week)\r\n                    var fullyear = time1.getFullYear()\r\n\r\n                    if(dis > dis2){\r\n                        dataall_date.push(local)\r\n                        data_week.push(week)\r\n                        data_month.push(time1.getMonth())\r\n                    }\r\n                    // var test2 = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i-1].time\r\n                    // var time2 = moment.utc(test2).toDate();\r\n                    this.state.arr[j].date = local\r\n                    this.state.arr[j].week = week\r\n                    this.state.arr[j].month = time1.getMonth()\r\n                    // this.state.arr[j].time_1 = time1\r\n                    // this.state.arr[j].time_2 = time2\r\n                    // this.state.arr[j].aircraft = week\r\n                    // data_check_time_date.push({name: result[num].name,date: date,time_1:time1,time_2:time2})\r\n                    num = i+1\r\n                    //name = result.data[i][1]\r\n                    this.state.arr[j].coords.pop()\r\n                    break;\r\n                }\r\n                this.state.arr[j].coords.push([])\r\n                this.state.arr[j].name = result[i].name\r\n                this.state.arr[j].aircraft = result[i].aircraft\r\n                var test = moment(mydate).format(\"MM/DD/YYYY\")+\" \" + result[i].time\r\n                var time = moment(test).toDate();\r\n                this.state.arr[j].coords[i-num].push(result[i].long)\r\n                this.state.arr[j].coords[i-num].push(result[i].lat)\r\n                this.state.arr[j].coords[i-num].push(result[i].altitude_ft*0.3048)\r\n                this.state.arr[j].coords[i-num].push(time)\r\n            }\r\n            // console.log(j)\r\n            if(j < count-1){\r\n                this.state.arr.push({name:'', coords: [[]],date:'',aircraft:'',week:'',month:''})\r\n            }\r\n        }\r\n        // console.log(data_week)\r\n        var distinct = [...new Set(dataall_date)]\r\n        // var distinctName = [...new Set(dataall_name)]\r\n        distinct.sort(function(a, b){\r\n            var aa = a.split('/').reverse().join(),\r\n                bb = b.split('/').reverse().join();\r\n            return aa < bb ? -1 : (aa > bb ? 1 : 0);\r\n        });\r\n        var distinctWeek = [...new Set(data_week)]\r\n        var distinctMonth = [...new Set(data_month)]\r\n        // console.log(distinctMonth)\r\n\r\n        this.setState({dataAll: this.state.arr,distinct_date:distinct,distinct_week:distinctWeek,distinct_month:distinctMonth,year:fullyear});\r\n    }\r\n  \r\n    render(props) {\r\n      return (\r\n        <div className=\"App\">\r\n            <h1 style={{color:'#b47b44', margin:'1% 0 1% 0'}}>Separate Analytics</h1>\r\n            <SelectDate check={this.state.check} data={this.state.dataAll} date={this.state.distinct_date} \r\n            week={this.state.distinct_week} month={this.state.distinct_month} year={this.state.year}/>\r\n            {/* {this.state.check_data === true ?\r\n            <Offset flight={this.state.flight} check_data={this.state.check_data}/>: null } */}\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  FileReader.propTypes = {\r\n    data: PropTypes.array,\r\n    check: PropTypes.bool\r\n  };\r\n  \r\n  \r\n  export default FileReader;","import { Card, Button } from 'antd';\r\nimport React from \"react\";\r\n// import Separate from '../../visualize/Separate';\r\nimport Separate from './visualize/predata'\r\n// import SeparateAnalyze from './analytics/predata'\r\nimport SeparateAnalyze from './analytics/predata'\r\nimport Papa from 'papaparse'\r\n\r\nconst tabList = [\r\n    {\r\n      key: 'tab1',\r\n      tab: 'visualize',\r\n    },\r\n    {\r\n      key: 'tab2',\r\n      tab: 'analyze',\r\n    },\r\n];\r\n\r\nclass Mode extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      key: 'tab1',\r\n      csvfile: undefined,\r\n      data : null,\r\n      check : false,\r\n      upload : true\r\n    };\r\n    // this.test = props.data\r\n\r\n    // this.getData = this.getData.bind(this);\r\n    this.updateData = this.updateData.bind(this);\r\n  }\r\n\r\n    onTabChange = (key, type) => {\r\n      console.log(key, type);\r\n      this.setState({ [type]: key });\r\n    };\r\n\r\n    handleChange = event => {\r\n      this.setState({\r\n        csvfile: event.target.files[0],\r\n        check: false,\r\n        upload: false\r\n      });\r\n    };\r\n  \r\n    importCSV = () => {\r\n      const { csvfile } = this.state;\r\n      Papa.parse(csvfile, {\r\n        complete: this.updateData,\r\n        header: true\r\n      });\r\n    };\r\n  \r\n    updateData(result) {\r\n      var rawdata = result.data;\r\n      this.setState({data : rawdata, check : true, key : 'tab1'})\r\n      // this.forceUpdate();\r\n    }\r\n  \r\n    render() {\r\n      const contentList = {\r\n        tab1: <Separate check={this.state.check} data={this.state.data}/>,\r\n        tab2: <SeparateAnalyze check={this.state.check} data={this.state.data}/>,\r\n      };\r\n      // console.log(this.state.csvfile)\r\n      return (\r\n        <div className='importbar'>\r\n          <div  style={{marginLeft:'80px'}}>\r\n            <h2>Import separate .csv file</h2>\r\n            <input\r\n                className=\"csv-input\"\r\n                type=\"file\"\r\n                ref={input => {\r\n                this.filesInput = input;\r\n                }}\r\n                name=\"file\"\r\n                placeholder={null}\r\n                onChange={this.handleChange}\r\n            />\r\n            <Button style={{backgroundColor:'#b47b44',color:'white',marginTop:'1%', display:'flex'}} onClick={this.importCSV} disabled={this.state.upload}> Upload now!</Button>\r\n            </div>\r\n            {/* <button onClick={this.importCSV} disabled={this.state.upload}> Upload now!</button> */}\r\n            {this.state.check === true ? \r\n            <Card\r\n              style={{ width: '100%', textAlign: \"center\"}}\r\n              // title=\"Card title\"\r\n              tabList={tabList}\r\n              activeTabKey={this.state.key}\r\n              onTabChange={key => {\r\n                this.onTabChange(key, 'key');\r\n              }}\r\n            >\r\n              {contentList[this.state.key]}\r\n            </Card>\r\n            : null}\r\n          </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Mode;  \r\n\r\n","import { Card } from 'antd';\r\n// import 'antd/dist/antd.css';\r\nimport React from \"react\";\r\nimport Offset from './mode/offset/offset';\r\nimport Holding from './mode/holding/holding';\r\nimport Separate from './mode/separate/separate';\r\nimport './App.css'\r\n\r\nconst tabList = [\r\n    {\r\n      key: 'tab1',\r\n      tab: 'Offset',\r\n    },\r\n    {\r\n      key: 'tab2',\r\n      tab: 'Holding',\r\n    },\r\n    {\r\n      key: 'tab3',\r\n      tab: 'Wake separate',\r\n    },\r\n];\r\n\r\nconst contentList = {\r\n    tab1: <Offset/>,\r\n    tab2: <Holding/>,\r\n    tab3: <Separate/>,\r\n};\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n      key: 'tab1',\r\n    };\r\n  \r\n    onTabChange = (key, type) => {\r\n      console.log(key, type);\r\n      this.setState({ [type]: key });\r\n    };\r\n  \r\n    render() {\r\n      return (\r\n        <div className='navbar'>\r\n          <Card\r\n            style={{ width: '100%' , fontSize : '2rem !important',backgroundColor:'#5886af',fontFamily: 'Comic Sans MS'}}\r\n            // title=\"Card title\"\r\n            tabList={tabList}\r\n            activeTabKey={this.state.key}\r\n            onTabChange={key => {\r\n              this.onTabChange(key, 'key');\r\n            }}\r\n          >\r\n            {contentList[this.state.key]}\r\n          </Card>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\nexport default Home;  \r\n\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n// import logo from './logo.svg';\n// import Offset from './visualize/offset';\n// import OffsetAnalyze from './analytics/offset'\n// import Holding from './visualize/holding';\n// import HoldingAnalyze from './analytics/holding'\nimport Narbar from './navbar'\nimport './App.css';\n\nconst App = () => (\n  <BrowserRouter>\n    <Switch>\n      {/* <Route path=\"/test\">\n        <Test/>\n      </Route> */}\n      <Route path=\"\">\n        <Narbar/>\n      </Route>\n      {/* <Route path=\"/offset/visualize\">\n        <Offset/>\n      </Route>\n      <Route path=\"/offset/analyze\">\n        <OffsetAnalyze/>\n      </Route>\n      <Route path=\"/holding/visualize\">\n        <Holding/>\n      </Route>\n      <Route path=\"/holding/analyze\">\n        <HoldingAnalyze/>\n      </Route> */}\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import Offset from './visualize/offset'\nimport * as serviceWorker from './serviceWorker';\nimport App from './App'\nimport 'antd/dist/antd.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}